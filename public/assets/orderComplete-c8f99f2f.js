import{e as I,a as k,v as S}from"./apiService-6a3981ff.js";import{U as u}from"./util-c02dbcf9.js";import{_ as P,i as C,m as F,r as N,o as i,c as n,k as p,a as e,t as o,e as a,F as b,g as y,b as m,w as v,n as w,p as D,f as L}from"./index-7c0b344a.js";import{c as T}from"./config-9369631b.js";import{m as x}from"./mobile-8dd88b05.js";import"./axios-c24e582b.js";import"./jquery-d0ecd42c.js";const U={computed:{...C(T,["pointName","pointUnit"])},data(){return{util:u,oid:"",mobile:!1,deviceClass:"",memberInfo:{},orderInfo:{},productList:[],orderDate:"",bankSetting:{},point:0,coupon:0,deliveryPrice:0,payMethod:"",productPrice:0,totalPaymentPrice:0}},created(){this.mobile=this.$isMobile(),this.mobile&&(this.setClass("sub"),this.setTitle("결제완료"),this.deviceClass="mobile");const t=I.getSession();t&&(t!=null&&t.memberInfo)&&(this.memberInfo=t.memberInfo),this.oid=this.$route.params.oid,this.getData()},methods:{...F(x,["setClass","setTitle"]),getData(){k.post(S,{oid:this.oid},t=>{let d=0;for(let c of t.data.orderList){if(c.sellprice=c.payprice,c.optionSingleInfos){c.optionSingleInfos=JSON.parse(c.optionSingleInfos);for(const f of c.optionSingleInfos)c.payprice+=parseInt(f.sellprice)}this.productList.push(c),d+=parseInt(c.payprice)}this.productPrice=u.numberFormat(d),this.orderInfo=t.data.orderList[0],t.data.orderSetting&&t.data.orderSetting.bankSetting&&(this.bankSetting=t.data.orderSetting.bankSetting),this.payMethod=t.data.paymethodNames[this.orderInfo.paymethod],this.orderDate=this.orderInfo.created_at.substring(0,10).replace("-",".").replace("-","."),this.orderInfo.usePoint&&(this.point="-"+u.numberFormat(this.orderInfo.usePoint)),this.orderInfo.useCouponPrice&&(this.coupon="-"+u.numberFormat(this.orderInfo.useCouponPrice)),this.orderInfo.deliveryPrice&&(this.deliveryPrice=u.numberFormat(this.orderInfo.deliveryPrice)),this.totalPaymentPrice=u.numberFormat(this.orderInfo.price)})}}},l=t=>(D("data-v-c404af2e"),t=t(),L(),t),B={key:0,class:"page-title"},A={class:"order-box"},E={class:"order-left"},M=l(()=>e("div",{class:"order-title"},"주문정보",-1)),O={class:"order-ul"},V=l(()=>e("div",{class:"label"},"주문일자",-1)),R={class:"value"},z=l(()=>e("div",{class:"label"},"주문번호",-1)),G={class:"value"},H=l(()=>e("div",{class:"label"},"배송지",-1)),J={class:"value",style:{"line-height":"190%"}},j=l(()=>e("br",null,null,-1)),q=l(()=>e("br",null,null,-1)),K=l(()=>e("div",{class:"label"},"배송 메세지",-1)),Q={class:"value"},W={class:"order-right",style:{"padding-top":"40px"}},X=l(()=>e("div",{class:"order-title"},"결제정보",-1)),Y={class:"payment-ul"},Z=l(()=>e("div",{class:"label"},"결제 방법",-1)),$={class:"value"},ee=l(()=>e("div",{class:"label"},"총 상품금액",-1)),se={class:"value"},oe={key:0},te={class:"label"},ie={class:"value"},ne={key:1},le=l(()=>e("div",{class:"label"},"쿠폰 사용",-1)),re={class:"value"},ce={key:2},de=l(()=>e("div",{class:"label"},"배송비",-1)),ae={class:"value"},_e={class:"total-price"},pe=l(()=>e("div",{class:"label"},"총 결제금액",-1)),ue={class:"value"},he={key:3},me={class:"label"},ve=l(()=>e("span",{style:{width:"190px","text-align":"left"}},"(구매확정후 적립됩니다)",-1)),fe={style:{width:"450px"},class:"value"},be={key:0,class:"order-right",style:{"padding-top":"40px"}},ye=l(()=>e("div",{class:"order-title"},"입금은행 정보",-1)),ge={key:0,class:"account-info"},Ie=l(()=>e("br",null,null,-1)),ke={class:"product-body"},Se=l(()=>e("div",{class:"order-title",style:{}}," 주문상품 ",-1)),Pe={class:"product-list"},Ce=["onClick"],Fe=["src"],Ne=["onClick"],we={class:"name-box"},De={class:"amt"},Le={key:0,class:"single-option-box"},Te={class:"sell-price"},xe=l(()=>e("div",{class:"single-title"},"추가옵션",-1)),Ue={class:"single-option-ul"},Be={class:"sopt-name"},Ae={key:0,class:"sopt-price"},Ee={key:1,class:"sopt-soldout"},Me={class:"price"},Oe={key:1,class:"price"},Ve={key:1,class:"btn-row"},Re={key:2,class:"btn-row single"};function ze(t,d,c,f,s,Ge){const h=N("v-btn");return i(),n("div",{class:w("order-container "+s.deviceClass)},[s.mobile?p("",!0):(i(),n("p",B,"결제완료")),e("div",A,[e("div",E,[M,e("ul",O,[e("li",null,[V,e("div",R,o(s.orderDate),1)]),e("li",null,[z,e("div",G,o(s.orderInfo.order_code),1)]),e("li",null,[H,e("div",J,[a(o(s.orderInfo.rname),1),j,a(" ["+o(s.orderInfo.rpost)+"] "+o(s.orderInfo.raddr1)+" "+o(s.orderInfo.raddr2),1),q,a(" "+o(s.orderInfo.rpcs),1)])]),e("li",null,[K,e("div",Q,o(s.orderInfo.rmessage),1)])])]),e("div",W,[X,e("ul",Y,[e("li",null,[Z,e("div",$,o(s.payMethod),1)]),e("li",null,[ee,e("div",se,o(s.productPrice)+"원",1)]),s.point?(i(),n("li",oe,[e("div",te,o(t.pointName)+" 사용",1),e("div",ie,o(s.point)+o(t.pointUnit),1)])):p("",!0),s.coupon?(i(),n("li",ne,[le,e("div",re,o(s.coupon)+"원 ",1)])):p("",!0),s.orderInfo.serviceType=="normal"?(i(),n("li",ce,[de,e("div",ae,o(s.deliveryPrice)+"원",1)])):p("",!0),e("li",_e,[pe,e("div",ue,o(s.totalPaymentPrice)+"원",1)]),s.orderInfo.reservePoint?(i(),n("li",he,[e("div",me,"구매 "+o(t.pointName),1),ve,e("div",fe,"+ "+o(s.util.numberFormat(s.orderInfo.reservePoint))+o(t.pointUnit),1)])):p("",!0)])]),s.orderInfo.paymethod=="bank"||s.orderInfo.paymethod=="vbank"?(i(),n("div",be,[ye,s.orderInfo.paymethod=="bank"&&s.bankSetting.bankName?(i(),n("div",ge,[e("span",null,o(s.bankSetting.bankName),1),e("span",null,o(s.bankSetting.bankAccount),1),e("span",null,o(s.bankSetting.bankOwner),1),e("span",null,[Ie,a("입금마감기한 : 구매일로부터 "+o(s.bankSetting.expireDay)+"일 이전까지",1)])])):p("",!0)])):p("",!0)]),e("div",ke,[Se,e("ul",Pe,[(i(!0),n(b,null,y(s.productList,r=>(i(),n("li",null,[e("div",{class:"img-box",onClick:_=>t.goProductDetail(r.pid)},[e("img",{src:r.listImg},null,8,Fe)],8,Ce),e("div",{class:"product-info",onClick:_=>t.goProductDetail(r.pid)},[e("div",we,[a(o(r.pname)+" "+o(r.opt_name)+" ",1),e("span",De,"("+o(r.ordAmt)+"개)",1)]),r.optionSingleInfos?(i(),n("div",Le,[e("div",Te,o(s.util.numberFormat(r.sellprice))+"원 ",1),xe,e("ul",Ue,[(i(!0),n(b,null,y(r.optionSingleInfos,(_,g)=>(i(),n("li",{key:"spt"+g},[e("div",Be,o(_.option_parent_name)+":"+o(_.option_name),1),_.status=="sale"?(i(),n("div",Ae,[e("span",null,o(_.camt)+"개, "+o(s.util.numberFormat(_.sellprice))+"원 ",1)])):(i(),n("div",Ee," [품절] "))]))),128))]),e("div",Me,o(s.util.numberFormat(r.payprice))+"원 ",1)])):(i(),n("div",Oe,o(s.util.numberFormat(r.payprice))+"원 ",1))],8,Ne)]))),256))])]),s.memberInfo.id?(i(),n("div",Ve,[m(h,{class:"whiteButton",variant:"outlined",rounded:"",onClick:d[0]||(d[0]=r=>t.$router.push("/"))},{default:v(()=>[a("계속 구매하기")]),_:1}),m(h,{class:"blackButton",variant:"outlined",rounded:"",onClick:d[1]||(d[1]=r=>t.$router.push("/mypage/main"))},{default:v(()=>[a("구매내역 보기")]),_:1})])):(i(),n("div",Re,[m(h,{class:"whiteButton",variant:"outlined",rounded:"",onClick:d[2]||(d[2]=r=>t.$router.push("/"))},{default:v(()=>[a("계속 구매하기")]),_:1})]))],2)}const Xe=P(U,[["render",ze],["__scopeId","data-v-c404af2e"]]);export{Xe as default};
