import{e as y,a as p,a3 as h,U as v}from"./apiService-6a3981ff.js";import{U as I}from"./util-c02dbcf9.js";import{m as W,_ as L,r as m,o as r,c as _,a as e,F as $,g as k,b as D,e as f,t as d,p as x,f as N,j as b}from"./index-7c0b344a.js";import{m as S}from"./mobile-8dd88b05.js";import{_ as w}from"./sm_heart-055da75c.js";import"./axios-c24e582b.js";import"./jquery-d0ecd42c.js";const F={name:"pcWish",data(){return{util:I,info:{},productList:[],categoryListNames:{},memberInfo:{},page:1,limit:12,orderBy:"created_at"}},created(){this.setClass("productView"),this.setTitle("관심상품");const t=y.getSession();t&&t.memberInfo?this.memberInfo=t.memberInfo:this.$router.push("/"),this.getData()},methods:{...W(S,["setClass","setTitle"]),getData(){p.post(h,{},t=>{var c,a;if(this.productList=[],t.data.categoryList){for(const s of t.data.categoryList)if(this.categoryListNames[s.id]=s.cname,((c=s.subList)==null?void 0:c.length)>0){for(const o of s.subList)if(this.categoryListNames[o.id]=o.cname,((a=o.subList)==null?void 0:a.length)>0)for(const n of o.subList)this.categoryListNames[n.id]=n.cname}}t.data.productList&&this.setDataList(t.data.productList)})},getDataList(){p.post(h,{},t=>{this.productList=[],t.data.productList&&this.setDataList(t.data.productList)})},setDataList(t){for(let c of t){let a="",s=c.category1.split(",");a=this.categoryListNames[s[0]],s[1]&&(a+=" > "+this.categoryListNames[s[1]]),s[2]&&(a+=" > "+this.categoryListNames[s[2]]),c.category=a,this.productList.push(c)}},productDetail(t){this.$router.push("/product/productView/"+t+"/default")},productWish(t){const c={type:"confirm",message:"관심상품을 삭제하시겠습니까?",doAction:()=>{const s={pid:this.productList[t].id};p.post(v,s,o=>{this.getDataList()})}};this.emitter.emit("modalOpen",c)}}},T=t=>(x("data-v-15fec285"),t=t(),N(),t),U={class:"page-container"},A={class:"list-container"},B={class:"product-list"},V={class:"img"},P=["onClick","src"],E=["onClick"],H=["onClick"],O={class:"category"},R={class:"like-box"},M=T(()=>e("img",{src:w},null,-1)),j={class:"pname string-cut"},G={class:"price"},Y={key:0},q={style:{"text-decoration":"line-through","padding-right":"10px"}},z={key:1};function J(t,c,a,s,o,n){const l=m("font-awesome-icon");return r(),_("div",U,[e("div",A,[e("ul",B,[(r(!0),_($,null,k(o.productList,(i,g)=>(r(),_("li",null,[e("div",V,[e("img",{onClick:u=>n.productDetail(i.id),class:"list-img",src:i.listImg,style:{"max-width":"100%"}},null,8,P),e("div",{class:"icon-box",onClick:u=>n.productWish(g)},[D(l,{class:"icon",icon:"fa-solid fa-heart"})],8,E)]),e("div",{class:"content",onClick:u=>n.productDetail(i.id)},[e("div",O,[f(d(i.category)+" ",1),e("div",R,[M,f(" "+d(o.util.numberFormat(i.wish)),1)])]),e("div",j,d(i.pname),1),e("div",G,[i.dcprice>0&&parseInt(i.price)>parseInt(i.dcprice)?(r(),_("span",Y,[e("span",q,d(o.util.numberFormat(i.price))+"원",1),e("span",null,d(o.util.numberFormat(i.dcprice))+"원",1)])):(r(),_("span",z,d(o.util.numberFormat(i.price))+"원 ",1))])],8,H)]))),256))])])])}const K=L(F,[["render",J],["__scopeId","data-v-15fec285"]]);const Q={name:"pcWish",data(){return{util:I,info:{},productList:[],categoryListNames:{},memberInfo:{},orderBy:"created_at"}},created(){const t=y.getSession();t&&t.memberInfo?this.memberInfo=t.memberInfo:this.$router.push("/"),this.getData()},methods:{getData(){p.post(h,{},t=>{var c,a;if(this.productList=[],t.data.categoryList){for(const s of t.data.categoryList)if(this.categoryListNames[s.id]=s.cname,((c=s.subList)==null?void 0:c.length)>0){for(const o of s.subList)if(this.categoryListNames[o.id]=o.cname,((a=o.subList)==null?void 0:a.length)>0)for(const n of o.subList)this.categoryListNames[n.id]=n.cname}}t.data.productList&&this.setDataList(t.data.productList)})},getDataList(){p.post(h,{},t=>{this.productList=[],t.data.productList&&this.setDataList(t.data.productList)})},setDataList(t){for(let c of t){let a="",s=c.category1.split(",");a=this.categoryListNames[s[0]],s[1]&&(a+=" > "+this.categoryListNames[s[1]]),s[2]&&(a+=" > "+this.categoryListNames[s[2]]),c.category=a,this.productList.push(c)}},productDetail(t){this.$router.push("/product/productView/"+t+"/default")},productWish(t){const c={type:"confirm",message:"관심상품을 삭제하시겠습니까?",doAction:()=>{const s={pid:this.productList[t].id};p.post(v,s,o=>{this.getDataList()})}};this.emitter.emit("modalOpen",c)}}},C=t=>(x("data-v-28b603d4"),t=t(),N(),t),X={class:"page-container"},Z=C(()=>e("div",{class:"sub-title-box"},[e("div",{class:"sub-title"}," 관심상품 ")],-1)),tt={class:"list-container"},st={class:"product-list"},et={class:"img"},it=["onClick","src"],ot=["onClick"],ct=["onClick"],at={class:"category"},nt={class:"like-box"},rt=C(()=>e("img",{src:w},null,-1)),dt={class:"pname string-cut"},_t={class:"price"},pt={key:0},lt={style:{"text-decoration":"line-through","padding-right":"10px"}},ut={key:1};function ht(t,c,a,s,o,n){const l=m("font-awesome-icon");return r(),_("div",X,[Z,e("div",tt,[e("ul",st,[(r(!0),_($,null,k(o.productList,(i,g)=>(r(),_("li",null,[e("div",et,[e("img",{onClick:u=>n.productDetail(i.id),class:"list-img",src:i.listImg,style:{"max-width":"100%"}},null,8,it),e("div",{class:"icon-box",onClick:u=>n.productWish(g)},[D(l,{class:"icon",icon:"fa-solid fa-heart"})],8,ot)]),e("div",{class:"content",onClick:u=>n.productDetail(i.id)},[e("div",at,[f(d(i.category)+" ",1),e("div",nt,[rt,f(" "+d(o.util.numberFormat(i.wish)),1)])]),e("div",dt,d(i.pname),1),e("div",_t,[i.dcprice>0&&parseInt(i.price)>parseInt(i.dcprice)?(r(),_("span",pt,[e("span",lt,d(o.util.numberFormat(i.price))+"원",1),e("span",null,d(o.util.numberFormat(i.dcprice))+"원",1)])):(r(),_("span",ut,d(o.util.numberFormat(i.price))+"원 ",1))])],8,ct)]))),256))])])])}const mt=L(Q,[["render",ht],["__scopeId","data-v-28b603d4"]]);const ft={components:{mobileWish:K,pcWish:mt},data(){return{mobile:!1}},created(){this.mobile=this.$isMobile()}},gt={class:"page-container"};function Lt(t,c,a,s,o,n){const l=m("mobileWish"),i=m("pcWish");return r(),_("div",gt,[o.mobile?(r(),b(l,{key:0})):(r(),b(i,{key:1}))])}const xt=L(ft,[["render",Lt],["__scopeId","data-v-482b11f4"]]);export{xt as default};
