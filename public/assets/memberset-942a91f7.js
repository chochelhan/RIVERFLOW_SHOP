import{a as x,Y as g,Z as C}from"./apiService-0aea4262.js";import{_ as q,r as b,o as r,c as d,a as e,F as R,b as V,d as n,w as f,u as E,j as T,e as v,g as m,t as k,n as w,q as S,v as U,S as N,X as A,p as D,f as P}from"./index-e9ed42ea.js";import"./axios-c24e582b.js";const B={watch:{authType(i){i=="pcs"?(this.pcsUse="yes",this.pcsRequired="yes",this.pcsReadOnly=!0,this.itemCheck(!0,"pcs")):this.pcsReadOnly=!1},pcsUse(i){this.itemCheck(i,"pcs")},pcsRequired(i){this.itemRequired(i,"pcs")},nickUse(i){this.itemCheck(i,"nick")},nickRequired(i){this.itemRequired(i,"nick")},kaUse(i){this.checkSns(i,"ka")},nvUse(i){this.checkSns(i,"nv")},fbUse(i){this.checkSns(i,"fb")}},data(){return{form:null,memberSetList:[{bname:"아이디(이메일)",buse:"yes",code:"uid"},{bname:"비밀번호",buse:"yes",code:"password"},{bname:"이름",buse:"yes",code:"name"}],serverFlag:!1,authType:"no",authTypeList:[{title:"인증 사용안함",value:"no"},{title:"이메일 인증",value:"email"},{title:"휴대폰 인증",value:"pcs"}],pcsUse:"no",yesNoList:[{title:"사용안함",value:"no"},{title:"사용",value:"yes"}],pcsRequired:"no",pcsReadOnly:!1,nickUse:"no",nickRequired:"no",kaUse:!1,nvUse:!1,fbUse:!1,kaKey:"",kaScriptKey:"",nvKey:"",nvSecret:"",fbKey:"",fbSecret:"",snsList:[],showKey:"",redirectUrls:{},snsCallBackUrl:"",fieldRequired:i=>!!i||"필수입력 항목"}},created(){this.getData()},methods:{getData(){this.serverFlag||(this.serverFlag=!0,x.post(g,{},i=>{if(this.serverFlag=!1,i.data&&i.data.member){const s=i.data.member;s.snsInfo&&(s.snsInfo.ka&&(this.kaUse=!0,this.kaKey=s.snsInfo.ka.key,s.snsInfo.ka.scriptKey&&(this.kaScriptKey=s.snsInfo.ka.scriptKey)),s.snsInfo.nv&&(this.nvUse=!0,this.nvKey=s.snsInfo.nv.key,this.nvSecret=s.snsInfo.nv.secret),s.snsInfo.fb&&(this.fbUse=!0,this.fbKey=s.snsInfo.fb.key,this.fbSecret=s.snsInfo.fb.secret)),this.authType=s.authType,this.pcsUse=s.pcsUse,this.nickUse=s.nickUse,this.pcsRequired=s.pcsRequired,this.nickRequired=s.nickRequired}}))},itemCheck(i,s){let o=!1,a="",t=0;for(const h of this.memberSetList){if(h.code==s){o=!0,a=t;break}t++}let u="",c="";switch(s){case"pcs":u=this.pcsRequired,c="휴대폰";break;case"nick":u=this.nickRequired,c="닉네임";break}i=="yes"?o?this.memberSetList[a]&&(this.memberSetList[a].buse=u):this.memberSetList.push({bname:c,buse:u,code:s}):o&&this.memberSetList.splice(a,1)},itemRequired(i,s){let o="",a=0;for(const t of this.memberSetList){if(t.code==s){o=a;break}a++}o&&(this.memberSetList[o].buse=i)},choiceSns(i){for(let o of this.snsList)o.id==i?o.active="active":o.active="";this.showKey=i;let s=this.getSiteDomain();this.snsCallBackUrl=s+"/snsController/member/snsCallBack/"+i},getSiteDomain(){let i=location.hostname.split("."),s;return i[0]=="admin"?s=location.protocol+"//"+location.hostname.replace("admin.",""):s=location.protocol+"//"+location.hostname,s},checkSns(i,s){let o="",a=0,t=!1,u=!1;for(let c of this.snsList)c.id==s?(o=a,t=!0):c.active&&(u=!0),a++;if(i){if(t)this.snsList[o].active="active";else{let c;switch(s){case"ka":c="카카오";break;case"nv":c="네이버";break;case"fb":c="페이스북";break}let _=this.getSiteDomain()+"/snsController/member/snsCallBack/"+s;this.redirectUrls[s]=_,this.snsList.push({name:c,id:s,active:"active"})}this.choiceSns(s)}else t&&this.snsList.splice(o,1),u||(this.showKey="")},validate(){let i={};if(this.kaUse)if(this.kaKey)i.ka={key:this.kaKey,scriptKey:this.kaScriptKey,redirectUrl:this.redirectUrls.ka};else{this.choiceSns("ka");let o={message:"카카오 키값을 확인하세요"};this.emitter.emit("modalOpen",o);return}if(this.nvUse){if(!this.nvKey||!this.nvSecret){this.choiceSns("nv");let o={message:"네이버 키값을 확인하세요"};this.emitter.emit("modalOpen",o);return}i.nv={key:this.nvKey,secret:this.nvSecret,redirectUrl:this.redirectUrls.nv}}if(this.fbUse){if(!this.fbKey||!this.fbSecret){this.choiceSns("fb");let o={message:"페이스북 키값을 확인하세요"};this.emitter.emit("modalOpen",o);return}i.fb={key:this.fbKey,secret:this.fbSecret,redirectUrl:this.redirectUrls.fb}}let s={snsInfo:i,authType:this.authType,pcsUse:this.pcsUse,pcsRequired:this.pcsRequired,nickUse:this.nickUse,nickRequired:this.nickRequired};this.serverFlag||(this.serverFlag=!0,this.emitter.emit("overlay","open"),x.post(C,s,o=>{this.serverFlag=!1,this.emitter.emit("overlay","hide");let a={message:"회원가입정보가 저장 되었습니다"};this.emitter.emit("modalOpen",a)}))}}},p=i=>(D("data-v-d225631d"),i=i(),P(),i),F={class:"page-container"},O={class:"memberSet-container"},M={class:"memberSet-list"},Y=p(()=>e("div",{class:"memberSet-list-header"},[e("div",{class:"memberSet-title",style:{padding:"3px 0 0 0"}},"회원가입 입력필드")],-1)),z={class:"memberSet-list-body"},G={class:"main-memberSet"},j={class:"main-li"},H={class:"main-data active"},X={class:"gname"},Z={style:{display:"inline-block",width:"20px",padding:"0",margin:"0"}},J=p(()=>e("div",{class:"memberSet-list-header",style:{"border-top":"solid 1px #ccc"}},[e("div",{class:"memberSet-title",style:{padding:"3px 0 0 0"}},"SNS 로그인")],-1)),Q={class:"memberSet-list-body"},W={class:"main-memberSet"},$={class:"main-li"},ee=["onClick"],se={class:"gname"},te={class:"memberSet-regist"},ie=p(()=>e("div",{class:"memberSet-title"},"회원가입시 정보 설정",-1)),le={style:{display:"flex"}},oe={class:"table-ul"},ne={class:"label-input"},ce={class:"input-box"},ae={class:"label-input"},re={class:"input-box"},de={key:0},ue={class:"label-input"},me={class:"input-box"},pe={class:"label-input"},he={class:"input-box"},_e={key:1},be={class:"label-input"},ve={class:"input-box"},fe={style:{display:"block"}},ye=p(()=>e("div",{class:"label"}," SNS 로그인 ",-1)),ke={class:"check-input",style:{display:"flex","margin-top":"5px"}},Se={style:{cursor:"pointer"}},Ue=p(()=>e("div",{style:{width:"20px"}},null,-1)),xe={style:{cursor:"pointer"}},Re=p(()=>e("div",{style:{width:"20px"}},null,-1)),Ve={style:{cursor:"pointer"}},Ke={key:0,style:{"margin-left":"50px"}},Ie=p(()=>e("div",{class:"memberSet-title",style:{"font-size":"14px","padding-bottom":"10px"}},"SNS API KEY 설정 ",-1)),Le={key:0,class:"table-ul"},ge={class:"label-input"},Ce={class:"input-box"},qe={class:"label-input"},Ee={class:"input-box"},Te={key:1,class:"table-ul"},we={class:"label-input"},Ne={class:"input-box"},Ae={class:"label-input"},De={class:"input-box"},Pe={key:2,class:"table-ul"},Be={class:"label-input"},Fe={class:"input-box"},Oe={class:"label-input"},Me={class:"input-box"},Ye={class:"callback-url"},ze={style:{"font-size":"14px"}},Ge=p(()=>e("span",null,[m(" SNS업체 API 설정 정보에 하단 URL을 입력하세요"),e("br"),m(" 로그인 CALL_BACK_URL, 조인 CALL_BACK_URL 동일합니다 ")],-1)),je={style:{"font-size":"14px","font-weight":"bold","padding-top":"9px"}},He={style:{"padding-top":"20px","font-size":"12px",color:"#880E4F"}},Xe=p(()=>e("br",null,null,-1)),Ze={class:"button-row"};function Je(i,s,o,a,t,u){const c=b("font-awesome-icon"),h=b("v-select"),_=b("v-text-field"),K=b("v-tooltip"),I=b("v-btn"),L=b("v-form");return r(),d("div",F,[e("div",O,[e("div",M,[Y,e("div",z,[(r(!0),d(R,null,V(t.memberSetList,(l,y)=>(r(),d("ul",G,[e("li",j,[e("div",H,[e("div",X,[e("span",Z,[l.buse=="yes"?(r(),T(c,{key:0,icon:"fa-solid fa-check"})):v("",!0)]),m(" "+k(l.bname),1)])])])]))),256))]),J,e("div",Q,[(r(!0),d(R,null,V(t.snsList,l=>(r(),d("ul",W,[e("li",$,[e("div",{class:w("main-data "+l.active),style:{cursor:"pointer"},onClick:y=>u.choiceSns(l.id)},[e("div",se,k(l.name),1)],10,ee)])]))),256))])]),e("div",te,[e("div",null,[ie,n(L,{modelValue:t.form,"onUpdate:modelValue":s[14]||(s[14]=l=>t.form=l),novalidate:"",onSubmit:E(u.validate,["prevent"])},{default:f(()=>[e("div",le,[e("ul",oe,[e("li",null,[e("div",ne,[e("div",ce,[n(h,{modelValue:t.authType,"onUpdate:modelValue":s[0]||(s[0]=l=>t.authType=l),density:"compact",variant:"outlined",items:t.authTypeList,label:"회원가입시 인증방식"},null,8,["modelValue","items"])])])]),e("li",null,[e("div",ae,[e("div",re,[n(h,{modelValue:t.pcsUse,"onUpdate:modelValue":s[1]||(s[1]=l=>t.pcsUse=l),density:"compact",variant:"outlined",readonly:t.pcsReadOnly,items:t.yesNoList,label:"휴대폰 입력필드 사용여부"},null,8,["modelValue","readonly","items"])])])]),t.pcsUse=="yes"?(r(),d("li",de,[e("div",ue,[e("div",me,[n(h,{modelValue:t.pcsRequired,"onUpdate:modelValue":s[2]||(s[2]=l=>t.pcsRequired=l),density:"compact",variant:"outlined",readonly:t.pcsReadOnly,items:t.yesNoList,label:"휴대폰 필수입력 사용여부"},null,8,["modelValue","readonly","items"])])])])):v("",!0),e("li",null,[e("div",pe,[e("div",he,[n(h,{modelValue:t.nickUse,"onUpdate:modelValue":s[3]||(s[3]=l=>t.nickUse=l),density:"compact",variant:"outlined",items:t.yesNoList,label:"닉네임 입력필드 사용여부"},null,8,["modelValue","items"])])])]),t.nickUse=="yes"?(r(),d("li",_e,[e("div",be,[e("div",ve,[n(h,{modelValue:t.nickRequired,"onUpdate:modelValue":s[4]||(s[4]=l=>t.nickRequired=l),density:"compact",variant:"outlined",items:t.yesNoList,label:"닉네임 필수입력 사용여부"},null,8,["modelValue","items"])])])])):v("",!0),e("li",fe,[ye,e("div",ke,[e("label",Se,[S(e("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=l=>t.kaUse=l)},null,512),[[U,t.kaUse]]),m(" 카카오 ")]),Ue,e("label",xe,[S(e("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=l=>t.nvUse=l)},null,512),[[U,t.nvUse]]),m(" 네이버 ")]),Re,e("label",Ve,[S(e("input",{type:"checkbox","onUpdate:modelValue":s[7]||(s[7]=l=>t.fbUse=l)},null,512),[[U,t.fbUse]]),m(" 페이스북 ")])])])]),t.showKey?(r(),d("div",Ke,[Ie,t.showKey=="ka"?(r(),d("ul",Le,[e("li",null,[e("div",ge,[e("div",Ce,[n(_,{modelValue:t.kaKey,"onUpdate:modelValue":s[8]||(s[8]=l=>t.kaKey=l),density:"compact",variant:"outlined",rules:[t.fieldRequired],label:"[필수] 카카오 REST API KEY",placeholder:"카카오 REST API KEY를 입력해주세요"},null,8,["modelValue","rules"])])])]),e("li",null,[e("div",qe,[e("div",Ee,[n(_,{modelValue:t.kaScriptKey,"onUpdate:modelValue":s[9]||(s[9]=l=>t.kaScriptKey=l),density:"compact",variant:"outlined",label:"카카오 SCRIPT KEY",placeholder:"카카오 SCRIPT KEY를 입력해주세요"},null,8,["modelValue"])])])])])):t.showKey=="nv"?(r(),d("ul",Te,[e("li",null,[e("div",we,[e("div",Ne,[n(_,{modelValue:t.nvKey,"onUpdate:modelValue":s[10]||(s[10]=l=>t.nvKey=l),density:"compact",variant:"outlined",rules:[t.fieldRequired],label:"[필수] 네이버 CLIENT ID",placeholder:"네이버 CLIENT ID를 입력해주세요"},null,8,["modelValue","rules"])])])]),e("li",null,[e("div",Ae,[e("div",De,[n(_,{modelValue:t.nvSecret,"onUpdate:modelValue":s[11]||(s[11]=l=>t.nvSecret=l),density:"compact",variant:"outlined",rules:[t.fieldRequired],label:"[필수] 네이버 CLIENT SECRET",placeholder:"네이버 CLIENT SECRET를 입력해주세요"},null,8,["modelValue","rules"])])])])])):t.showKey=="fb"?(r(),d("ul",Pe,[e("li",null,[e("div",Be,[e("div",Fe,[n(_,{modelValue:t.fbKey,"onUpdate:modelValue":s[12]||(s[12]=l=>t.fbKey=l),density:"compact",variant:"outlined",rules:[t.fieldRequired],label:"[필수] 페이스북 APP ID",placeholder:"페이스북 APP ID를 입력해주세요"},null,8,["modelValue","rules"])])])]),e("li",null,[e("div",Oe,[e("div",Me,[n(_,{modelValue:t.fbSecret,"onUpdate:modelValue":s[13]||(s[13]=l=>t.fbSecret=l),density:"compact",variant:"outlined",rules:[t.fieldRequired],label:"[필수] 페이스북 APP SECRET",placeholder:"페이스북 APP SECRET를 입력해주세요"},null,8,["modelValue","rules"])])])])])):v("",!0),e("div",Ye,[e("div",ze,[m(" CALL BACK URL "),n(K,{bottom:""},{activator:f(({on:l,attrs:y})=>[n(c,N(y,A(l),{class:"help-icon",icon:"fa-solid fa-circle-question"}),null,16)]),default:f(()=>[Ge]),_:1})]),e("div",je,k(t.snsCallBackUrl),1),e("div",He,[n(c,{icon:"fa-solid fa-circle-exclamation"}),m(" 실서비스 모드 적용시 도메인과 프로토콜(http,https)이 달라질수 있습니다"),Xe,m("      반드시 새로 저장하셔야 오류가 발생하지 않습니다 ")])])])):v("",!0)]),e("div",Ze,[n(I,{class:"submit-button",type:"submit"},{default:f(()=>[m("회원가입정보 저장")]),_:1})])]),_:1},8,["modelValue","onSubmit"])])])])])}const es=q(B,[["render",Je],["__scopeId","data-v-d225631d"]]);export{es as default};
