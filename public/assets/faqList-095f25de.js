import{a as x,b2 as U,aS as T,b3 as q,a_ as N,a$ as S}from"./apiService-0aea4262.js";import{U as j}from"./util-5fdb7bcf.js";import{_ as V,r as _,o as p,c as m,a as e,u as A,d,e as w,w as r,g as u,n as v,t as k,F as M,b as R,p as C,f as D}from"./index-e9ed42ea.js";import"./jquery-331624d0.js";import"./axios-c24e582b.js";const B={data(){return{util:j,articleList:[],btype:"faq",boardCategoryUse:!1,category:"",categoryList:[],categoryNames:{},paging:{total:"",links:[],currentPage:1,lastPage:1},page:1,datalimit:300,keywordCmd:"subject",keywordCmdList:[{title:"제목",value:"subject"},{title:"작성자",value:"user_name"}],keyword:"",stdate:"",endate:"",vmenu1:!1,vmenu2:!1,dateCmd:"created_at",dayClass:{to:"",yer:"",thr:"active",week:"",mon:"",tmon:""},checkList:[],selectedId:""}},created(){this.setDay("thr"),this.getData(1)},methods:{setDay(o){for(let l in this.dayClass)l==o?this.dayClass[l]="active":this.dayClass[l]="";const t=new Date;let a=t.getMonth()+1,i=t.getDate();const s=t.getFullYear()+"-"+(a<10?"0"+a:a)+"-"+(i<10?"0"+i:i);switch(this.endate=s,o){case"to":this.stdate=s;break;case"yer":t.setDate(i-1),a=t.getMonth()+1,i=t.getDate(),this.stdate=t.getFullYear()+"-"+(a<10?"0"+a:a)+"-"+(i<10?"0"+i:i);break;case"thr":t.setDate(i-3),a=t.getMonth()+1,i=t.getDate(),this.stdate=t.getFullYear()+"-"+(a<10?"0"+a:a)+"-"+(i<10?"0"+i:i);break;case"week":t.setDate(i-7),a=t.getMonth()+1,i=t.getDate(),this.stdate=t.getFullYear()+"-"+(a<10?"0"+a:a)+"-"+(i<10?"0"+i:i);break;case"mon":t.setMonth(a-1),a=t.getMonth(),i=t.getDate(),this.stdate=t.getFullYear()+"-"+(a<10?"0"+a:a)+"-"+(i<10?"0"+i:i);break;case"tmon":t.setMonth(a-3),a=t.getMonth(),i=t.getDate(),this.stdate=t.getFullYear()+"-"+(a<10?"0"+a:a)+"-"+(i<10?"0"+i:i);break}},searchReset(){this.keywordCmd="subject",this.keyword="",this.stdate="",this.endate="",this.category="",this.dateCmd="created_at",this.setDay("thr")},getSearchParams(o){return this.page=o,{limit:this.datalimit,page:o,category:this.category,keywordCmd:this.keywordCmd,keyword:this.keyword,stdate:this.stdate,endate:this.endate,dateCmd:this.dateCmd}},getData(o){const t=this.getSearchParams(o);x.post(U,t,a=>{const i=a.data.boardInfo;if(i.categoryUse=="yes"){this.categoryList=[],this.categoryList.push({title:"카테고리 전체",value:""});for(let s of JSON.parse(i.categoryList))this.categoryNames[s.code]=s.name,this.categoryList.push({title:s.name,value:s.code});this.boardCategoryUse=!0}this.setDataList(a.data.articleList)})},setDataList(o){this.paging={total:o.total,links:o.links,currentPage:o.current_page,lastPage:o.last_page},this.articleList=[];for(let t of o.data)t.categoryName=this.categoryNames[t.category],this.articleList.push(t)},search(){this.getData(1)},deleteArticle(){if(this.checkList.length<1){const t={message:"게시글을 하나 이상 선택하세요"};this.emitter.emit("modalOpen",t);return}const o={type:"confirm",message:"게시글을 삭제 하시겠습니까?",doAction:()=>{this.deleteAction(this.checkList)}};this.emitter.emit("modalOpen",o)},updateItem(o){this.$emit("boardViewType",{type:"modify",id:o})},deleteAction(o){const t={ids:o};this.emitter.emit("overlay","open"),x.post(T,t,a=>{this.emitter.emit("overlay","hide");const i={message:"게시글이 삭제되었습니다"};this.emitter.emit("modalOpen",i),this.getData(this.page)})}}},b=o=>(C("data-v-0a1544e1"),o=o(),D(),o),E={class:"table-box"},P={class:"search-box"},O={class:"table-search",cellspacing:"0",cellpadding:"0",border:"0"},Q={key:0},Y=b(()=>e("th",{style:{"border-radius":"5px"}},"카테고리",-1)),G={class:"select-box"},z=b(()=>e("th",null,"검색어",-1)),H={class:"select-box",style:{display:"flex"}},J={class:"input-box",style:{"margin-left":"20px",width:"400px"}},K=b(()=>e("th",{style:{"border-radius":"5px"}},"등록일 검색",-1)),W={style:{display:"flex","max-height":"40px","padding-top":"6px"}},X={class:"date-box"},Z={style:{display:"flex","margin-top":"-5px","margin-left":"10px"}},$={style:{width:"160px"}},tt=b(()=>e("div",{style:{width:"30px","text-align":"center","line-height":"50px",height:"50px"}},"~ ",-1)),et={style:{width:"160px"}},st={class:"button-row"},ot=b(()=>e("span",null,"초기화",-1)),it=b(()=>e("span",null,"검색",-1)),at={style:{display:"flex",padding:"0 10px","justify-content":"space-between","z-index":"20"}},nt={class:"sub-title"},dt={class:"select-box",style:{display:"flex","max-height":"40px","padding-top":"4px"}},lt={class:"total"},rt={class:"faq-box"},ct={class:"faq-list"},ut={class:"subject"},_t={class:"uspd-box"},pt={style:{"max-height":"30px",margin:"-10px 0 0 0",padding:"0",width:"20px","max-width":"20px"}},mt=["onClick"],ht={class:"main"},yt={key:0},gt=["innerHTML"],vt={key:1,style:{"text-align":"center",padding:"30px 0","border-top":"solid 1px #555"}};function bt(o,t,a,i,s,l){const h=_("v-select"),y=_("v-text-field"),c=_("v-btn"),f=_("v-checkbox");return p(),m("div",null,[e("div",E,[e("form",{novalidate:"",onSubmit:t[12]||(t[12]=A((...n)=>l.search&&l.search(...n),["prevent"]))},[e("div",P,[e("table",O,[e("tbody",null,[s.boardCategoryUse?(p(),m("tr",Q,[Y,e("td",null,[e("div",G,[d(h,{modelValue:s.category,"onUpdate:modelValue":t[0]||(t[0]=n=>s.category=n),density:"compact",variant:"outlined",style:{"max-width":"200px"},items:s.categoryList},null,8,["modelValue","items"])])])])):w("",!0),e("tr",null,[z,e("td",null,[e("div",H,[d(h,{modelValue:s.keywordCmd,"onUpdate:modelValue":t[1]||(t[1]=n=>s.keywordCmd=n),density:"compact",variant:"outlined",style:{"max-width":"150px"},items:s.keywordCmdList},null,8,["modelValue","items"]),e("div",J,[d(y,{density:"compact",variant:"outlined",modelValue:s.keyword,"onUpdate:modelValue":t[2]||(t[2]=n=>s.keyword=n)},null,8,["modelValue"])])])])]),e("tr",null,[K,e("td",null,[e("div",W,[e("div",X,[d(c,{variant:"outlined",class:v("white-button "+s.dayClass.to),onClick:t[3]||(t[3]=n=>l.setDay("to"))},{default:r(()=>[u("오늘 ")]),_:1},8,["class"]),d(c,{variant:"outlined",class:v("white-button "+s.dayClass.yer),onClick:t[4]||(t[4]=n=>l.setDay("yer"))},{default:r(()=>[u(" 어제 ")]),_:1},8,["class"]),d(c,{variant:"outlined",class:v("white-button "+s.dayClass.thr),onClick:t[5]||(t[5]=n=>l.setDay("thr"))},{default:r(()=>[u(" 3일 ")]),_:1},8,["class"]),d(c,{variant:"outlined",class:v("white-button "+s.dayClass.week),onClick:t[6]||(t[6]=n=>l.setDay("week"))},{default:r(()=>[u(" 1주일 ")]),_:1},8,["class"]),d(c,{variant:"outlined",class:v("white-button "+s.dayClass.mon),onClick:t[7]||(t[7]=n=>l.setDay("mon"))},{default:r(()=>[u(" 1개월 ")]),_:1},8,["class"]),d(c,{variant:"outlined",class:v("white-button "+s.dayClass.tmon),onClick:t[8]||(t[8]=n=>l.setDay("tmon"))},{default:r(()=>[u(" 3개월 ")]),_:1},8,["class"])]),e("div",Z,[e("div",$,[d(y,{type:"date",modelValue:s.stdate,"onUpdate:modelValue":t[9]||(t[9]=n=>s.stdate=n),density:"compact",variant:"outlined"},null,8,["modelValue"])]),tt,e("div",et,[d(y,{type:"date",density:"compact",variant:"outlined",modelValue:s.endate,"onUpdate:modelValue":t[10]||(t[10]=n=>s.endate=n)},null,8,["modelValue"])])])])])])])])]),e("div",st,[d(c,{class:"white-button",variant:"outlined",onClick:t[11]||(t[11]=n=>l.searchReset())},{default:r(()=>[ot]),_:1}),d(c,{class:"search-button",type:"submit",variant:"outlined"},{default:r(()=>[it]),_:1})])],32),e("div",at,[e("div",nt,[u("FAQ 리스트 "),d(c,{variant:"outlined",color:"primary",outlined:"",class:"sdel-button",rounded:"",onClick:t[13]||(t[13]=n=>l.deleteArticle())},{default:r(()=>[u(" 선택삭제 ")]),_:1})]),e("div",dt,[e("div",lt,"전체 게시글수 "+k(s.util.numberFormat(s.paging.total))+"개",1)])]),e("div",rt,[s.articleList.length>0?(p(!0),m(M,{key:0},R(s.articleList,(n,g)=>(p(),m("ul",ct,[e("li",ut,[e("div",_t,[e("div",pt,[d(f,{dense:"",modelValue:s.checkList,"onUpdate:modelValue":t[14]||(t[14]=I=>s.checkList=I),value:n.id},null,8,["modelValue","value"])]),e("div",{class:"underline",onClick:I=>l.updateItem(n.id)},"수정",8,mt)]),e("div",ht,[s.boardCategoryUse&&n.categoryName?(p(),m("span",yt,"["+k(n.categoryName)+"]",1)):w("",!0),u(k(n.subject),1)])]),e("li",{class:"answer",innerHTML:n.content},null,8,gt)]))),256)):(p(),m("div",vt," FAQ 데이타가 존재하지 않습니다 "))])])])}const ft=V(B,[["render",bt],["__scopeId","data-v-0a1544e1"]]);const xt={props:["id"],data(){return{form:null,info:{},bid:"",boardInfo:{},subject:"",content:"",btype:"faq",category:"",categoryList:[{title:"카테고리를 선택하세요",value:""}],categoryUse:"no",serverFlag:!1}},created(){this.getData()},methods:{getData(){const o={id:this.id};x.post(q,o,t=>{var a;if(t.data){if(this.bid=t.data.boardInfo.id,this.categoryUse=t.data.boardInfo.categoryUse,this.categoryUse=="yes")for(let i of JSON.parse(t.data.boardInfo.categoryList))this.categoryList.push({title:i.name,value:i.code});(a=t.data.info)!=null&&a.id&&(this.info=t.data.info,this.subject=this.info.subject,this.content=this.info.content,this.categoryUse=="yes"&&(this.category=this.info.category))}})},validate(){var a,i;if(!this.form)return;const o=new FormData;if(o.append("bid",this.bid),o.append("secret","no"),o.append("category",this.category),o.append("subject",this.subject),o.append("content",this.content),o.append("btype",this.btype),this.serverFlag)return;this.serverFlag=!0,(a=this.info)!=null&&a.id&&o.append("id",this.info.id),this.emitter.emit("overlay","open");const t=(i=this.info)!=null&&i.id?N:S;x.postFile(t,o,s=>{var l;if(this.serverFlag=!1,this.emitter.emit("overlay","hide"),s.data){let h="저장";(l=this.info)!=null&&l.id&&(h="수정");let y={message:"게시글 정보가 "+h+" 되었습니다",doAction:()=>{this.$emit("boardViewType",{type:"list"})}};this.emitter.emit("modalOpen",y)}})}}},L=o=>(C("data-v-9d57381b"),o=o(),D(),o),wt={class:"page-container"},kt={class:"product-container"},Vt={class:"product-regist"},Ct={class:"product-form"},Dt={class:"table-regist",cellspacing:"0",cellpadding:"0",border:"0"},Lt={key:0},It=L(()=>e("th",null,[e("span",{class:"required-icon"},"*"),u("카테고리")],-1)),At={id:"category-required"},Ft={class:"select-box"},Ut=L(()=>e("th",null,[e("span",{class:"required-icon"},"*"),u("제목")],-1)),Tt={id:"subject-required"},qt={class:"input-box",style:{width:"830px"}},Nt=L(()=>e("th",null,[e("span",{class:"required-icon"},"*"),u("내용")],-1)),St={style:{width:"830px","padding-top":"10px"}},jt={class:"button-row"};function Mt(o,t,a,i,s,l){const h=_("v-select"),y=_("v-text-field"),c=_("v-textarea"),f=_("v-btn"),n=_("v-form");return p(),m("div",wt,[e("div",kt,[d(n,{modelValue:s.form,"onUpdate:modelValue":t[3]||(t[3]=g=>s.form=g),novalidate:"",onSubmit:A(l.validate,["prevent"])},{default:r(()=>[e("div",Vt,[e("div",Ct,[e("table",Dt,[e("tbody",null,[s.categoryUse=="yes"?(p(),m("tr",Lt,[It,e("td",At,[e("div",Ft,[d(h,{modelValue:s.category,"onUpdate:modelValue":t[0]||(t[0]=g=>s.category=g),density:"compact",variant:"outlined",rules:[()=>!!s.category||"카테고리를 선택하세요"],ref:"category",style:{"max-width":"330px"},items:s.categoryList},null,8,["modelValue","rules","items"])])])])):w("",!0),e("tr",null,[Ut,e("td",Tt,[e("div",qt,[d(y,{modelValue:s.subject,"onUpdate:modelValue":t[1]||(t[1]=g=>s.subject=g),rules:[()=>!!s.subject||"제목을 입력하세요"],density:"compact",variant:"outlined",ref:"subject"},null,8,["modelValue","rules"])])])]),e("tr",null,[Nt,e("td",null,[e("div",St,[d(c,{modelValue:s.content,"onUpdate:modelValue":t[2]||(t[2]=g=>s.content=g),density:"compact",variant:"outlined",rules:[()=>!!s.content||"내용을 입력하세요"],ref:"content"},null,8,["modelValue","rules"])])])])])])])]),e("div",jt,[d(f,{class:"submit-button",type:"submit"},{default:r(()=>[u("게시글 저장")]),_:1})])]),_:1},8,["modelValue","onSubmit"])])])}const Rt=V(xt,[["render",Mt],["__scopeId","data-v-9d57381b"]]);const Bt={components:{boardFaqList:ft,boardFaqRegist:Rt},data(){return{cmd:0,boardId:"",articleType:"list"}},created(){},methods:{boardViewType(o){o.type=="list"?this.cmd=0:o.type=="modify"&&(this.boardId=o.id,this.cmd=1)}}},F=o=>(C("data-v-d9d7e09d"),o=o(),D(),o),Et={class:"page-container"},Pt={class:"tab-box"},Ot=F(()=>e("span",{class:"bold"},"FAQ 관리",-1)),Qt=F(()=>e("span",{class:"bold"},"FAQ 등록",-1)),Yt={key:0,class:"board-container"},Gt={key:1,class:"board-container"};function zt(o,t,a,i,s,l){const h=_("v-tab"),y=_("v-tabs"),c=_("boardFaqList"),f=_("boardFaqRegist");return p(),m("div",Et,[e("div",Pt,[d(y,{modelValue:s.cmd,"onUpdate:modelValue":t[0]||(t[0]=n=>s.cmd=n)},{default:r(()=>[d(h,{class:"tab"},{default:r(()=>[Ot]),_:1}),d(h,{class:"tab"},{default:r(()=>[Qt]),_:1})]),_:1},8,["modelValue"])]),s.cmd<1?(p(),m("div",Yt,[d(c,{onBoardViewType:l.boardViewType},null,8,["onBoardViewType"])])):s.cmd==1?(p(),m("div",Gt,[d(f,{id:s.boardId,onBoardViewType:l.boardViewType},null,8,["id","onBoardViewType"])])):w("",!0)])}const Zt=V(Bt,[["render",zt],["__scopeId","data-v-d9d7e09d"]]);export{Zt as default};
