import{A as B,a as U,R as H,S as J,T as W,U as Y,Q as G,V as it,W as ot,X as nt}from"./apiService-aee0d783.js";import{U as V}from"./util-5fdb7bcf.js";import{P as rt}from"./pagination-84ac26b0.js";import{g as at,i as lt,e as ct,S as R,a as $}from"./swiper-51351a31.js";import{_ as q,r as y,o as n,c as r,a as s,g as P,t as c,n as C,F as S,b as I,j as T,e as v,d as _,w as L,u as X,q as K,v as Z,p as j,f as E,m as tt,s as z,h as dt}from"./index-e9ed42ea.js";import{J as N}from"./jquery-331624d0.js";import{m as pt}from"./mobile-9de1c1d4.js";import{_ as ut}from"./empty_heart-d5f42d80.js";import{c as ht}from"./config-2d27fdd7.js";import"./axios-c24e582b.js";function mt(i){let{swiper:t,extendParams:o,on:d}=i;o({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let e=!1,a=!1;t.thumbs={swiper:null};function h(){const m=t.thumbs.swiper;if(!m||m.destroyed)return;const f=m.clickedIndex,b=m.clickedSlide;if(b&&b.classList.contains(t.params.thumbs.slideThumbActiveClass)||typeof f>"u"||f===null)return;let u;m.params.loop?u=parseInt(m.clickedSlide.getAttribute("data-swiper-slide-index"),10):u=f,t.params.loop?t.slideToLoop(u):t.slideTo(u)}function g(){const{thumbs:m}=t.params;if(e)return!1;e=!0;const f=t.constructor;if(m.swiper instanceof f)t.thumbs.swiper=m.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(lt(m.swiper)){const b=Object.assign({},m.swiper);Object.assign(b,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new f(b),a=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",h),!0}function p(m){const f=t.thumbs.swiper;if(!f||f.destroyed)return;const b=f.params.slidesPerView==="auto"?f.slidesPerViewDynamic():f.params.slidesPerView;let u=1;const O=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(u=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(u=1),u=Math.floor(u),f.slides.forEach(w=>w.classList.remove(O)),f.params.loop||f.params.virtual&&f.params.virtual.enabled)for(let w=0;w<u;w+=1)ct(f.slidesEl,`[data-swiper-slide-index="${t.realIndex+w}"]`).forEach(x=>{x.classList.add(O)});else for(let w=0;w<u;w+=1)f.slides[t.realIndex+w]&&f.slides[t.realIndex+w].classList.add(O);const l=t.params.thumbs.autoScrollOffset,k=l&&!f.params.loop;if(t.realIndex!==f.realIndex||k){const w=f.activeIndex;let x,F;if(f.params.loop){const et=f.slides.filter(st=>st.getAttribute("data-swiper-slide-index")===`${t.realIndex}`)[0];x=f.slides.indexOf(et),F=t.activeIndex>t.previousIndex?"next":"prev"}else x=t.realIndex,F=x>t.previousIndex?"next":"prev";k&&(x+=F==="next"?l:-1*l),f.visibleSlidesIndexes&&f.visibleSlidesIndexes.indexOf(x)<0&&(f.params.centeredSlides?x>w?x=x-Math.floor(b/2)+1:x=x+Math.floor(b/2)-1:x>w&&f.params.slidesPerGroup,f.slideTo(x,m?0:void 0))}}d("beforeInit",()=>{const{thumbs:m}=t.params;if(!(!m||!m.swiper))if(typeof m.swiper=="string"||m.swiper instanceof HTMLElement){const f=at(),b=()=>{const O=typeof m.swiper=="string"?f.querySelector(m.swiper):m.swiper;if(O&&O.swiper)m.swiper=O.swiper,g(),p(!0);else if(O){const l=k=>{m.swiper=k.detail[0],O.removeEventListener("init",l),g(),p(!0),m.swiper.update(),t.update()};O.addEventListener("init",l)}return O},u=()=>{if(t.destroyed)return;b()||requestAnimationFrame(u)};requestAnimationFrame(u)}else g(),p(!0)}),d("slideChange update resize observerUpdate",()=>{p()}),d("setTransition",(m,f)=>{const b=t.thumbs.swiper;!b||b.destroyed||b.setTransition(f)}),d("beforeDestroy",()=>{const m=t.thumbs.swiper;!m||m.destroyed||a&&m.destroy()}),Object.assign(t.thumbs,{init:g,update:p})}const _t={name:"productQna",props:["pid"],data(){return{form:null,util:V,qnaList:[],id:"",subject:"",category:"",categorys:[{title:"문의분류를 선택하세요",value:""}],secret:!1,memberInfo:{},registShow:!1,insertFlag:!1,qnaOrgList:[],tab:{all:"active",my:""}}},created(){var t;const i=B.getSession();i&&((t=i.memberInfo)!=null&&t.id)&&(this.isLogin=!0,this.memberInfo=i.memberInfo,this.tab={all:"",my:"active"}),this.getData()},methods:{getData(){U.get(H,{pid:this.pid},i=>{this.qnaOrgList=[];const t=i.data.categorys;for(let o in i.data.categorys)this.categorys.push({title:i.data.categorys[o],value:o});for(let o of i.data.qnaList)o.category&&(o.categoryName="["+t[o.category]+"]"),o.created_at=o.created_at.substring(0,10).replace("-",".").replace("-","."),o.secret=="yes"?this.memberInfo&&this.memberInfo.id==o.user_id?o.statusClass=o.status:(o.statusClass="wait",o.subject="비공개 문의입니다"):o.statusClass=o.status,o.name=o.name.substring(0,1)+"*"+o.name.substring(2,3),o.answer="",o.headerClass="",o.contentShow=!1,o.statusName=o.status=="wait"?"답변대기":"답변완료",this.qnaOrgList.push(o);this.setQnaListByType()})},setQnaListByType(){this.qnaList=[];for(let i of this.qnaOrgList)this.tab.my=="active"?this.memberInfo&&this.memberInfo.id==i.user_id&&this.qnaList.push(i):this.qnaList.push(i)},setQnaTab(i){if(i=="my"){if(!this.isLogin){const t={message:"먼저 로그인 하세요"};this.emitter.emit("modalOpen",t);return}this.tab={my:"active",all:""}}else this.tab={my:"",all:"active"};this.setQnaListByType()},contentShowToggle(i){let t=this.qnaList[i];t.statusClass!="wait"&&(t.contentShow?(t.answer="",t.contentShow=!1,t.headerClass=""):(t.headerClass="open",t.answer=t.content,t.contentShow=!0))},registShowToggle(){if(!this.isLogin){const i={message:"먼저 로그인 하세요"};this.emitter.emit("modalOpen",i);return}this.registShow?this.registShow=!1:this.registShow=!0},validate(){if(!this.isLogin){const i={message:"먼저 로그인 하세요"};this.emitter.emit("modalOpen",i);return}if(this.form){if(this.insertFlag)return;this.insertFlag=!0,this.emitter.emit("overlay","open");let i={pid:this.pid,subject:this.subject,category:this.category,secret:this.secret?"yes":"no"};U.post(J,i,t=>{this.emitter.emit("overlay","hide"),this.insertFlag=!1,this.registShow=!1,this.getData();const o={message:"상품문의가 저장 되었습니다"};this.subject="",this.$refs.subject.reset(),this.emitter.emit("modalOpen",o)})}}}},Q=i=>(j("data-v-3a155faa"),i=i(),E(),i),ft={class:"qna-container"},vt={class:"sub-title-box"},gt={class:"sub-title"},yt={class:"button-area"},bt={class:"qna-list-box"},wt={class:"qna-list"},Pt=["onClick"],kt={class:"category-box"},Lt={class:"name-box"},Ct={class:"name"},St={class:"date"},It={class:"subject"},Ot={key:0,class:"qna-body"},xt={class:"ans-title"},Tt={key:0,style:{"text-align":"center",padding:"80px 0"}},Vt={class:"modal-layout",style:{background:"#fff",padding:"20px","border-radius":"16px"}},Dt=Q(()=>s("div",{class:"modal-title"},"상품문의 작성하기",-1)),Ut={class:"comment-box"},Nt={class:"textfield"},qt={style:{"font-weight":"bold",cursor:"pointer"}},At={class:"button-row"},Ft=Q(()=>s("span",null,"취소",-1)),Rt=Q(()=>s("span",null,"문의하기",-1));function $t(i,t,o,d,e,a){const h=y("font-awesome-icon"),g=y("v-select"),p=y("v-textarea"),m=y("v-btn"),f=y("v-form"),b=y("v-dialog");return n(),r("div",ft,[s("div",vt,[s("div",gt,[P("Q&A "),s("span",null,c(e.util.numberFormat(e.qnaList.length))+"개",1)]),s("div",{onClick:t[0]||(t[0]=u=>a.registShowToggle()),class:"underline-text"},"문의하기")]),s("div",yt,[s("div",{class:C("button-item "+e.tab.all),onClick:t[1]||(t[1]=u=>a.setQnaTab("all"))},"전체 문의",2),s("div",{class:C("button-item "+e.tab.my),onClick:t[2]||(t[2]=u=>a.setQnaTab("my"))},"나의 문의",2)]),s("div",bt,[s("ul",wt,[(n(!0),r(S,null,I(e.qnaList,(u,O)=>(n(),r("li",{key:u.id,class:C(u.statusClass)},[s("div",{class:"qna-header",onClick:l=>a.contentShowToggle(O)},[s("div",kt,[P(c(u.categoryName)+" ",1),s("span",{class:C(u.status)},c(u.statusName),3)]),s("div",Lt,[s("div",Ct,c(u.name),1),s("div",St,c(u.created_at),1)]),s("div",It,[u.secret=="yes"?(n(),T(h,{key:0,icon:"fa-solid fa-lock",style:{"margin-right":"5px"}})):v("",!0),P(" "+c(u.subject),1)])],8,Pt),u.contentShow?(n(),r("div",Ot,[s("div",xt,c(u.statusName),1),P(" "+c(u.answer),1)])):v("",!0)],2))),128)),e.qnaList.length<1?(n(),r("li",Tt," 등록된 상품문의가 없습니다 ")):v("",!0)])]),_(b,{modelValue:e.registShow,"onUpdate:modelValue":t[8]||(t[8]=u=>e.registShow=u),width:"1100",persistent:"",rounded:"",style:{"z-index":"100"}},{default:L(()=>[s("div",Vt,[Dt,_(f,{modelValue:e.form,"onUpdate:modelValue":t[7]||(t[7]=u=>e.form=u),novalidate:"",onSubmit:X(a.validate,["prevent"])},{default:L(()=>[s("div",Ut,[_(g,{modelValue:e.category,"onUpdate:modelValue":t[3]||(t[3]=u=>e.category=u),ref:"category",rules:[()=>!!e.category||"문의유형을 선택해주세요"],variant:"outlined",rounded:"",placeholder:"문의유형을 선택해주세요",items:e.categorys},null,8,["modelValue","rules","items"]),s("div",Nt,[_(p,{variant:"outlined",rounded:"",rows:"6",ref:"subject",rules:[()=>!!e.subject||"문의내용을 입력하세요"],placeholder:"문의내용을 입력하세요",modelValue:e.subject,"onUpdate:modelValue":t[4]||(t[4]=u=>e.subject=u)},null,8,["rules","modelValue"])]),s("label",qt,[K(s("input",{type:"checkbox",style:{width:"15px",height:"15px"},"onUpdate:modelValue":t[5]||(t[5]=u=>e.secret=u)},null,512),[[Z,e.secret]]),P(" 비공개 ")]),s("div",At,[_(m,{type:"button",onClick:t[6]||(t[6]=u=>e.registShow=!1),variant:"outlined",rounded:"",class:"whiteButton"},{default:L(()=>[Ft]),_:1}),_(m,{type:"submit",variant:"outlined",rounded:"",class:"blackButton"},{default:L(()=>[Rt]),_:1})])])]),_:1},8,["modelValue","onSubmit"])])]),_:1},8,["modelValue"])])}const Bt=q(_t,[["render",$t],["__scopeId","data-v-3a155faa"]]);const jt={props:["pid"],components:{Swiper:R,SwiperSlide:$},data(){return{util:V,reviewList:[],page:1,limit:20,swiperOptions:{slidesPerView:"auto"}}},created(){this.getData()},methods:{getData(){let i={pid:this.pid,limit:this.limit,page:this.page};U.get(W,i,t=>{this.reviewList=[];for(const o of t.data.data)o.imgs?o.imgList=JSON.parse(o.imgs):o.imgList="",this.reviewList.push(o)})}}},Et={class:"review-box"},Mt={class:"sub-title-box"},Qt={class:"sub-title"},zt={class:"review-ul"},Ht={class:"data-box"},Jt={class:"user-box"},Wt={class:"user-img"},Yt=["src"],Gt={class:"user"},Xt={class:"info-box"},Kt={class:"info-value"},Zt={class:"date"},te={class:"grade"},ee={key:0,class:"img-box"},se=["src"],ie={key:0,class:"no-data"};function oe(i,t,o,d,e,a){const h=y("font-awesome-icon"),g=y("v-rating"),p=y("swiper-slide"),m=y("swiper");return n(),r("div",Et,[s("div",Mt,[s("div",Qt,[P("구매후기 "),s("span",null,c(e.util.numberFormat(e.reviewList.length))+"개",1)])]),s("ul",zt,[(n(!0),r(S,null,I(e.reviewList,f=>(n(),r("li",null,[s("div",Ht,[s("div",Jt,[s("div",Wt,[f.userImg?(n(),r("img",{key:0,src:f.userImg},null,8,Yt)):(n(),T(h,{key:1,class:"icon",icon:"fa-solid fa-user"}))]),s("div",Gt,c(f.user_name),1)]),s("div",Xt,[s("div",Kt,c(f.content),1),s("div",Zt,c(f.created_at.substring(0,16).replace("T"," ")),1),s("div",te,[_(g,{modelValue:f.grade,"onUpdate:modelValue":b=>f.grade=b,"background-color":"pink lighten-3",color:"pink",length:"5",size:"20",dense:"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])])])]),f.imgList.length>0?(n(),r("div",ee,[_(m,{options:e.swiperOptions},{default:L(()=>[(n(!0),r(S,null,I(f.imgList,(b,u)=>(n(),T(p,{key:"img"+u,class:"img"},{default:L(()=>[s("img",{src:b},null,8,se)]),_:2},1024))),128))]),_:2},1032,["options"])])):v("",!0)]))),256)),e.reviewList.length<1?(n(),r("li",ie," 등록된 후기가 없습니다 ")):v("",!0)])])}const ne=q(jt,[["render",oe],["__scopeId","data-v-1b6748d2"]]);const re={name:"relationProducts",props:["pid","categoryOptions","relType"],components:{Swiper:R,SwiperSlide:$},data(){return{util:V,productList:[]}},created(){this.getData()},methods:{getData(){U.get(Y,{pid:this.pid},i=>{this.productList=[];const t=V.getCategoryListNames(i.data.categoryList);let o="";this.relType=="category"&&(o=this.categoryOptions);for(let d of i.data.productList){let e=[];o?e=o.split(","):e=d.category1.split(",");let a=t[e[0]];e[1]&&(a+=" > "+t[e[1]]),e[2]&&(a+=" > "+t[e[2]]),d.cateName=a,this.productList.push(d)}})},productDetail(i,t){let o=[];this.relType=="category"?o=this.categoryOptions.split(","):o=i.split(",");const d=o[o.length-1];this.$router.push("/product/productView/"+t+"/"+d)}}},ae={class:"relation-container"},le={class:"img"},ce=["onClick","src"],de=["onClick"],pe={class:"pname string-cut"},ue={class:"price"},he={key:0},me={style:{"text-decoration":"line-through","padding-right":"10px"}},_e={key:1};function fe(i,t,o,d,e,a){const h=y("swiper-slide"),g=y("swiper");return n(),r("div",ae,[_(g,{slidesPerView:"auto"},{default:L(()=>[(n(!0),r(S,null,I(e.productList,p=>(n(),T(h,{key:p.id,class:"product-list"},{default:L(()=>[s("div",le,[s("img",{onClick:m=>a.productDetail(p.category1,p.id),class:"list-img",src:p.listImg,style:{"max-width":"100%"}},null,8,ce)]),s("div",{class:"content",onClick:m=>a.productDetail(p.category1,p.id)},[s("div",pe,c(p.pname),1),s("div",ue,[p.dcprice>0&&parseInt(p.price)>parseInt(p.dcprice)?(n(),r("span",he,[s("span",me,c(e.util.numberFormat(p.price))+"원",1),s("span",null,c(e.util.numberFormat(p.dcprice))+"원",1)])):(n(),r("span",_e,c(e.util.numberFormat(p.price))+"원 ",1))])],8,de)]),_:2},1024))),128))]),_:1})])}const ve=q(re,[["render",fe],["__scopeId","data-v-b9e4c57e"]]);const ge={name:"mobileProductView",setup(){return{modules:[rt]}},props:["params","priceParams","optionRequiredUse","optionList","optionDisplayList","checkAmtOptonList","addInfos","setDataStart","updatePriceStart"],components:{productQna:Bt,productReview:ne,relativeProduct:ve,Swiper:R,SwiperSlide:$},watch:{updatePriceStart(i){i&&(this.totalPrice=this.priceParams.totalPrice,this.dcprice=this.priceParams.dcprice,this.price=this.priceParams.price,this.optionViewList=this.optionDisplayList,this.productOamt=this.priceParams.productOamt,this.productPrice=this.priceParams.productPrice,this.$emit("updatePriceStartFalse",{}))},setDataStart(i){i&&this.setData()}},data(){return{util:V,optionViewList:[],showReviewRegist:!1,cartId:"",id:"",info:{},categoryNames:[],optionShow:!1,orderShow:!1,selectedOption:[],isLogin:!1,wish:0,wishIcon:!1,totalPrice:"",price:"",dcprice:0,productOamt:0,productPrice:0,optionUseClass:"",tabClass:{info:"active",qna:"",review:"",delivery:""},categoryOptions:"",relationCategoryProductShow:!1,detailImgs:[],swiperInit:!1,deliveryPrice:0,gamtName:"",pointUnit:"",pointName:"",pointValue:"",viewTotalPrice:"",viewPrice:"",viewDcprice:0,deliveryInfo:{},infoNoticeList:[],infoNoticeShow:!1}},created(){var t;this.setClass("productView"),this.setTitle(""),this.id=this.$route.params.id,this.defaultCategory=this.$route.params.categoryId;const i=B.getSession();i&&((t=i.memberInfo)!=null&&t.id)&&(this.isLogin=!0)},methods:{...tt(pt,["setClass","setTitle"]),setData(){this.info=this.params.info;const i=JSON.parse(this.info.pInfoNoti);this.infoNoticeList=i.infoNotices,this.categoryNames=this.params.categoryNames,this.categoryOptions=this.params.categoryOptions,this.info.relUse=="yes"&&(this.relationCategoryProductShow=!0),this.info.myWish&&this.isLogin?this.wishIcon=!0:this.wishIcon=!1,this.wish=this.info.wish,this.detailImgs=JSON.parse(this.info.detailImgs),this.swiperInit=!0,this.totalPrice=this.priceParams.viewTotalPrice,this.dcprice=this.priceParams.viewDcprice,this.productPrice=this.priceParams.productPrice,this.price=this.priceParams.viewPrice,this.productOamt=this.priceParams.productOamt,this.pointName=this.params.pointName,this.pointUnit=this.params.pointUnit,this.info.pointType=="yes"&&this.info.point&&(this.info.pointSet=="rate"?this.pointValue=V.numberFormat(this.info.point)+"%":this.pointValue=V.numberFormat(this.info.point)+this.pointUnit),this.optionShow=this.params.optionShow,this.optionUseClass=this.params.optionUseClass,this.selectedOption=[],this.$emit("setDataStartFalse",{})},showOptionInfo(i){if(!this.optionList[i].disabled)for(let o in this.optionList)i==o?this.optionList[o].show=!this.optionList[o].show:this.optionList[o].show=!1},productWish(){if(!this.isLogin){let t={type:"confirm",message:"회원만 사용 가능합니다<br>로그인 하시겠습니까",doAction:()=>{this.$router.push("/memberLogin")}};this.emitter.emit("modalOpen",t);return}const i={pid:this.id};this.emitter.emit("overlay","open"),U.post(G,i,t=>{this.emitter.emit("overlay","hide"),this.wish=t.data.total,t.data.rtype=="delete"?this.wishIcon=!1:this.wishIcon=!0})},updateAmt(i,t){const o={cmd:i,index:t};this.$emit("updateAmt",o)},updateProductAmt(i){const t={cmd:i};this.$emit("updateProductAmt",t)},deleteOptionView(i){const t={index:i};this.$emit("deleteOptionView",t)},setOptionCode(i,t){const o={index:i,subIndex:t};this.$emit("setOptionCode",o)},insertCart(){this.$emit("insertCart",{})},order(){this.$emit("order",{})},chageContent(i){for(let t in this.tabClass)i==t?this.tabClass[t]="active":this.tabClass[t]=""},optionBoxToggle(){this.orderShow?N("#option-content").slideUp(200,()=>{this.orderShow=!1}):(this.orderShow=!0,N("#option-content").slideDown(200))}},updated(){N(".detail-content p").css({"line-height":"130%",margin:0}),N(".detail-content img").css({"max-width":"100%"}),N(".img-pagination .swiper-pagination-current").css("color","#fff")}},D=i=>(j("data-v-807ee39e"),i=i(),E(),i),ye={class:"product-view-container"},be={class:"detail-header"},we={class:"detail-img"},Pe={class:"img"},ke=["src"],Le={class:"info-data"},Ce={class:"navi"},Se={class:"ptitle"},Ie={key:0,class:"desc string-cut"},Oe={key:1,class:"point-box"},xe=D(()=>s("span",null,"적립",-1)),Te={class:"total-price"},Ve={key:0},De={key:1,class:"soldout"},Ue={key:2},Ne={class:"add-info-box"},qe={class:"label"},Ae={class:"text"},Fe={key:0,class:"add-info-box"},Re=D(()=>s("div",{class:"label"},"브랜드",-1)),$e={class:"text"},Be={class:"product-content-container"},je=D(()=>s("div",{class:"btline"},null,-1)),Ee=D(()=>s("div",{class:"btline"},null,-1)),Me=D(()=>s("div",{class:"btline"},null,-1)),Qe=D(()=>s("div",{class:"btline"},null,-1)),ze={class:"content-box"},He={key:0,class:"content"},Je=["innerHTML"],We={class:"infonotice-button"},Ye=D(()=>s("span",null,"상품정보제공고시 보기",-1)),Ge=["innerHTML"],Xe={key:2,class:"content"},Ke={key:3,class:"content"},Ze={key:0,class:"relation-products"},ts=D(()=>s("div",{class:"sub-title"},"이상품과 관련된 추천상품",-1)),es={key:1,class:"order-container"},ss={class:"order-data",id:"option-content"},is={class:"option-autoflow"},os={class:"option"},ns={class:"option-name"},rs={key:0},as={key:0,style:{"padding-left":"10px"}},ls=["onClick"],cs={class:"option-select-name"},ds={class:"option-select-icon"},ps={key:0,class:"option-body"},us=["onClick"],hs={class:"item-info"},ms={key:0},_s={class:"item-price"},fs={key:0},vs={key:0,class:"sel-optios"},gs={class:"option-header"},ys={class:"option-name"},bs=["onClick"],ws={class:"option-body"},Ps={class:"option-counter"},ks=["onClick"],Ls={class:"amount"},Cs=["onClick"],Ss={class:"option-price"},Is=D(()=>s("div",{class:"option-header"},null,-1)),Os={class:"option-body"},xs={class:"option-counter"},Ts={class:"amount"},Vs={class:"option-price"},Ds={class:"order-result"},Us=D(()=>s("div",{class:"label"},"총 상품금액",-1)),Ns={class:"total-price"},qs={key:0},As={class:"button-box"},Fs=D(()=>s("span",null,"장바구니",-1)),Rs=D(()=>s("span",null,"구매하기",-1)),$s={key:0,class:"button-box"},Bs={key:0,src:ut},js={style:{"text-align":"center","margin-top":"-5px","font-size":"12px"}},Es=D(()=>s("span",null,"구매하기",-1)),Ms={class:"modal-box"},Qs={class:"modal-title"},zs={class:"modal-body"},Hs={class:"itm-title"},Js={class:"itm-text"},Ws={class:"modal-button"},Ys=D(()=>s("span",null,"닫기",-1));function Gs(i,t,o,d,e,a){const h=y("swiper-slide"),g=y("swiper"),p=y("font-awesome-icon"),m=y("v-btn"),f=y("productReview"),b=y("productQna"),u=y("relativeProduct"),O=y("v-dialog");return n(),r("div",ye,[s("div",be,[s("div",we,[_(g,{slidesPerView:"1",modules:d.modules,pagination:!0},{default:L(()=>[(n(!0),r(S,null,I(e.detailImgs,(l,k)=>(n(),T(h,{key:"img"+k,class:"product-list"},{default:L(()=>[s("div",Pe,[s("img",{src:l,style:{"max-width":"100%"}},null,8,ke)])]),_:2},1024))),128))]),_:1},8,["modules"])]),s("div",Le,[s("div",Ce,[(n(!0),r(S,null,I(e.categoryNames,(l,k)=>(n(),r("div",null,[P(c(l)+" ",1),k+1<e.categoryNames.length?(n(),T(p,{key:0,class:"icon",icon:"fa-solid fa-angle-right"})):v("",!0)]))),256))]),s("div",Se,c(e.info.pname),1),e.info.description?(n(),r("div",Ie,c(e.info.description),1)):v("",!0),e.pointValue?(n(),r("div",Oe,[xe,P(" "+c(e.pointValue),1)])):v("",!0),s("div",Te,[e.dcprice>0?(n(),r("span",Ve,c(e.util.numberFormat(e.price))+"원 ",1)):v("",!0),P(" "+c(e.util.numberFormat(e.totalPrice))+"원 ",1),e.info.gamt<1?(n(),r("span",De," [품절] ")):v("",!0)]),o.addInfos.length>0?(n(),r("div",Ue,[(n(!0),r(S,null,I(o.addInfos,l=>(n(),r("ul",Ne,[s("li",null,[s("div",qe,c(l.name),1),s("div",Ae,c(l.value),1)])]))),256)),e.info.brandId?(n(),r("ul",Fe,[s("li",null,[Re,s("div",$e,c(e.info.brandName),1)])])):v("",!0)])):v("",!0)])]),s("div",Be,[s("ul",{class:C("content-tab "+e.info.serviceType)},[s("li",{onClick:t[0]||(t[0]=l=>a.chageContent("info")),class:C("tab-item "+e.tabClass.info)},[P(" 상품상세 "),je],2),e.info.serviceType=="normal"?(n(),r("li",{key:0,onClick:t[1]||(t[1]=l=>a.chageContent("delivery")),class:C("tab-item "+e.tabClass.delivery)},[P(" 배송/환불정책 "),Ee],2)):v("",!0),s("li",{onClick:t[2]||(t[2]=l=>a.chageContent("review")),class:C("tab-item "+e.tabClass.review)},[P(" 구매후기 "),Me],2),s("li",{onClick:t[3]||(t[3]=l=>a.chageContent("qna")),class:C("tab-item "+e.tabClass.qna)},[P(" 상품문의 "),Qe],2)],2),s("div",ze,[e.tabClass.info=="active"?(n(),r("div",He,[s("div",{class:"detail-content",innerHTML:e.info.content},null,8,Je),s("div",We,[_(m,{class:"whiteButton",onClick:t[4]||(t[4]=l=>e.infoNoticeShow=!0),depressed:""},{default:L(()=>[Ye]),_:1})])])):e.tabClass.delivery=="active"&&e.info.serviceType=="normal"?(n(),r("div",{key:1,class:"content detail-content",innerHTML:e.info.dcontent},null,8,Ge)):e.tabClass.review=="active"?(n(),r("div",Xe,[_(f,{pid:e.id},null,8,["pid"])])):e.tabClass.qna=="active"?(n(),r("div",Ke,[_(b,{pid:e.id},null,8,["pid"])])):v("",!0)])]),e.relationCategoryProductShow?(n(),r("div",Ze,[ts,_(u,{relType:e.info.relType,categoryOptions:e.categoryOptions,pid:e.id},null,8,["relType","categoryOptions","pid"])])):v("",!0),e.info.gamt>0?(n(),r("div",es,[s("div",ss,[s("div",{class:"option-close",onClick:t[5]||(t[5]=l=>a.optionBoxToggle())},[_(p,{icon:"fa-solid fa-angle-down"})]),s("div",is,[s("ul",os,[(n(!0),r(S,null,I(o.optionList,(l,k)=>(n(),r("li",null,[s("div",ns,[P(c(l.name)+" ",1),e.info.optionType=="single"?(n(),r("span",rs,[l.required=="Y"?(n(),r("span",as,[_(p,{icon:"fa-solid fa-check"}),P(" [필수] ")])):v("",!0)])):v("",!0)]),s("div",{class:C("option-container "+l.disabled)},[s("div",{class:"option-header",onClick:w=>a.showOptionInfo(k)},[s("div",cs,c(l.title),1),s("div",ds,[l.show?(n(),T(p,{key:0,icon:"fa-solid fa-caret-up"})):(n(),T(p,{key:1,icon:"fa-solid fa-caret-down"}))])],8,ls),l.show?(n(),r("ul",ps,[(n(!0),r(S,null,I(l.subList,(w,x)=>(n(),r("li",{onClick:F=>a.setOptionCode(k,x),key:k+"_"+x,class:C(w.amtDisabled)},[s("div",hs,[P(c(w.name)+" ",1),w.amtDisabled?(n(),r("span",ms,"[품절]")):v("",!0)]),s("div",_s,[w.dcprice>0?(n(),r("span",fs,c(e.util.numberFormat(w.price))+"원 ",1)):v("",!0),P(" "+c(e.util.numberFormat(w.sellprice))+"원 ",1)])],10,us))),128))])):v("",!0)],2)]))),256))]),e.optionViewList.length>0?(n(),r("ul",vs,[(n(!0),r(S,null,I(e.optionViewList,(l,k)=>(n(),r("li",null,[s("div",gs,[s("div",ys,c(l.name),1),s("div",{class:"option-del-text",onClick:w=>a.deleteOptionView(k)},"삭제",8,bs)]),s("div",ws,[s("ul",Ps,[s("li",{onClick:w=>a.updateAmt("minus",k)},[_(p,{icon:"fa-solid fa-minus"})],8,ks),s("li",Ls,c(l.oamt),1),s("li",{onClick:w=>a.updateAmt("plus",k)},[_(p,{icon:"fa-solid fa-plus"})],8,Cs)]),s("div",Ss,c(e.util.numberFormat(l.sellprice))+"원 ",1)])]))),256))])):v("",!0),o.optionRequiredUse?v("",!0):(n(),r("ul",{key:1,class:C("sel-optios "+e.optionUseClass)},[s("li",null,[Is,s("div",Os,[s("ul",xs,[s("li",{onClick:t[6]||(t[6]=l=>a.updateProductAmt("minus"))},[_(p,{icon:"fa-solid fa-minus"})]),s("li",Ts,c(e.productOamt),1),s("li",{onClick:t[7]||(t[7]=l=>a.updateProductAmt("plus"))},[_(p,{icon:"fa-solid fa-plus"})])]),s("div",Vs,c(e.util.numberFormat(e.productPrice))+"원 ",1)])])],2))]),s("ul",Ds,[s("li",null,[Us,s("div",Ns,[e.dcprice>0?(n(),r("span",qs,c(e.util.numberFormat(e.price))+"원 ",1)):v("",!0),P(" "+c(e.util.numberFormat(e.totalPrice))+"원 ",1)])])]),s("div",As,[_(m,{rounded:"",depressed:"",class:"whiteButton",onClick:t[8]||(t[8]=l=>a.insertCart())},{default:L(()=>[Fs]),_:1}),_(m,{rounded:"",depressed:"",class:"blackButton",onClick:t[9]||(t[9]=l=>a.order())},{default:L(()=>[Rs]),_:1})])]),e.orderShow?v("",!0):(n(),r("div",$s,[s("div",{class:"icon-box",onClick:t[10]||(t[10]=l=>a.productWish())},[e.wishIcon?(n(),T(p,{key:1,class:"icon",icon:"fa-solid fa-heart"})):(n(),r("img",Bs)),s("div",js,c(e.util.numberFormat(e.wish)),1)]),_(m,{rounded:"",depressed:"",class:"blackButton",onClick:t[11]||(t[11]=l=>a.optionBoxToggle())},{default:L(()=>[Es]),_:1})]))])):v("",!0),e.orderShow?(n(),r("div",{key:2,class:"black-screen",onClick:t[12]||(t[12]=l=>a.optionBoxToggle())})):v("",!0),_(O,{modelValue:e.infoNoticeShow,"onUpdate:modelValue":t[15]||(t[15]=l=>e.infoNoticeShow=l),width:"100%",style:{"z-index":"100"}},{default:L(()=>[s("div",Ms,[s("div",Qs,[P(" 상품정보제공 고시 "),_(p,{class:"icon",onClick:t[13]||(t[13]=l=>e.infoNoticeShow=!1),icon:"fa-solid fa-xmark"})]),s("div",zs,[(n(!0),r(S,null,I(e.infoNoticeList,(l,k)=>(n(),r("ul",{key:k+"_key"},[s("li",Hs,c(l.name),1),s("li",Js,c(l.value),1)]))),128))]),s("div",Ws,[_(m,{class:"whiteButton",rounded:"",depressed:"",onClick:t[14]||(t[14]=l=>e.infoNoticeShow=!1)},{default:L(()=>[Ys]),_:1})])])]),_:1},8,["modelValue"])])}const Xs=q(ge,[["render",Gs],["__scopeId","data-v-807ee39e"]]);const Ks={name:"productQna",props:["pid"],data(){return{form:null,util:V,qnaList:[],id:"",subject:"",category:"",categorys:[{title:"문의분류를 선택하세요",value:""}],secret:!1,memberInfo:{},registShow:!1,insertFlag:!1,qnaOrgList:[],tab:{all:"active",my:""}}},created(){var t;const i=B.getSession();i&&((t=i.memberInfo)!=null&&t.id)&&(this.isLogin=!0,this.memberInfo=i.memberInfo,this.tab={all:"",my:"active"}),this.getData()},methods:{getData(){U.get(H,{pid:this.pid},i=>{this.qnaOrgList=[];const t=i.data.categorys;for(let o in i.data.categorys)this.categorys.push({title:i.data.categorys[o],value:o});for(let o of i.data.qnaList)o.category&&(o.categoryName="["+t[o.category]+"]"),o.created_at=o.created_at.substring(0,10).replace("-",".").replace("-","."),o.secret=="yes"?this.memberInfo&&this.memberInfo.id==o.user_id?o.statusClass=o.status:(o.statusClass="wait",o.subject="비공개 문의입니다"):o.statusClass=o.status,o.name=o.name.substring(0,1)+"*"+o.name.substring(2,3),o.answer="",o.headerClass="",o.contentShow=!1,o.statusName=o.status=="wait"?"답변대기":"답변완료",this.qnaOrgList.push(o);this.setQnaListByType()})},setQnaListByType(){this.qnaList=[];for(let i of this.qnaOrgList)this.tab.my=="active"?this.memberInfo&&this.memberInfo.id==i.user_id&&this.qnaList.push(i):this.qnaList.push(i)},setQnaTab(i){if(i=="my"){if(!this.isLogin){const t={message:"먼저 로그인 하세요"};this.emitter.emit("modalOpen",t);return}this.tab={my:"active",all:""}}else this.tab={my:"",all:"active"};this.setQnaListByType()},contentShowToggle(i){let t=this.qnaList[i];t.statusClass!="wait"&&(t.contentShow?(t.answer="",t.contentShow=!1,t.headerClass=""):(t.headerClass="open",t.answer=t.content,t.contentShow=!0))},registShowToggle(){if(!this.isLogin){const i={message:"먼저 로그인 하세요"};this.emitter.emit("modalOpen",i);return}this.registShow?this.registShow=!1:this.registShow=!0},validate(){if(!this.isLogin){const i={message:"먼저 로그인 하세요"};this.emitter.emit("modalOpen",i);return}if(this.form){if(this.insertFlag)return;this.insertFlag=!0,this.emitter.emit("overlay","open");let i={pid:this.pid,subject:this.subject,category:this.category,secret:this.secret?"yes":"no"};U.post(J,i,t=>{this.emitter.emit("overlay","hide"),this.insertFlag=!1,this.registShow=!1,this.getData();const o={message:"상품문의가 저장 되었습니다"};this.subject="",this.$refs.subject.reset(),this.emitter.emit("modalOpen",o)})}}}},M=i=>(j("data-v-7a1eb1b1"),i=i(),E(),i),Zs={class:"qna-container"},ti={class:"sub-title-box"},ei={class:"sub-title"},si=M(()=>s("span",null,"문의하기",-1)),ii={class:"button-area"},oi={class:"qna-list-box"},ni={key:0,class:"qna-list"},ri=["onClick"],ai={class:"name"},li={class:"subject"},ci={class:"date"},di={key:0,class:"qna-body"},pi={key:1,class:"no-data"},ui={class:"modal-layout",style:{background:"#fff",padding:"50px"}},hi=M(()=>s("div",{class:"modal-title"},"상품문의 작성하기",-1)),mi={class:"comment-box"},_i={class:"textfield"},fi={style:{cursor:"pointer","font-weight":"bold"}},vi={style:{"font-weight":"bold",cursor:"pointer"}},gi={class:"button-row"},yi=M(()=>s("span",null,"취소",-1)),bi=M(()=>s("span",null,"문의하기",-1));function wi(i,t,o,d,e,a){const h=y("v-btn"),g=y("font-awesome-icon"),p=y("v-select"),m=y("v-textarea"),f=y("v-form"),b=y("v-dialog");return n(),r("div",Zs,[s("div",ti,[s("div",ei,"상품문의 ("+c(e.util.numberFormat(e.qnaList.length))+")개",1),_(h,{onClick:t[0]||(t[0]=u=>a.registShowToggle()),class:"whiteButton",depressed:""},{default:L(()=>[si]),_:1})]),s("div",ii,[s("div",{class:C("button-item "+e.tab.all),onClick:t[1]||(t[1]=u=>a.setQnaTab("all"))},"전체 문의",2),s("div",{class:C("button-item "+e.tab.my),onClick:t[2]||(t[2]=u=>a.setQnaTab("my"))},"나의 문의",2)]),s("div",oi,[e.qnaList.length>0?(n(),r("ul",ni,[(n(!0),r(S,null,I(e.qnaList,(u,O)=>(n(),r("li",{key:u.id,class:C(u.statusClass)},[s("div",{class:C("qna-header "+u.headerClass),onClick:l=>a.contentShowToggle(O)},[s("div",ai,c(u.name),1),s("div",li,[u.secret=="yes"?(n(),T(g,{key:0,icon:"fa-solid fa-lock",style:{"margin-right":"5px"}})):v("",!0),P(" "+c(u.subject)+" ",1),s("span",{class:C(u.status)},"["+c(u.statusName)+"]",3)]),s("div",ci,c(u.created_at),1)],10,ri),u.contentShow?(n(),r("div",di,c(u.answer),1)):v("",!0)],2))),128))])):(n(),r("div",pi," 등록된 상품문의가 없습니다 "))]),_(b,{modelValue:e.registShow,"onUpdate:modelValue":t[8]||(t[8]=u=>e.registShow=u),width:"700",persistent:"",rounded:"",style:{"z-index":"100"}},{default:L(()=>[s("div",ui,[hi,_(f,{modelValue:e.form,"onUpdate:modelValue":t[7]||(t[7]=u=>e.form=u),novalidate:"",onSubmit:X(a.validate,["prevent"])},{default:L(()=>[s("div",mi,[_(p,{modelValue:e.category,"onUpdate:modelValue":t[3]||(t[3]=u=>e.category=u),ref:"category",rules:[()=>!!e.category||"문의유형을 선택해주세요"],variant:"outlined",rounded:"",placeholder:"문의유형을 선택해주세요",items:e.categorys},null,8,["modelValue","rules","items"]),s("div",_i,[_(m,{variant:"outlined",rounded:"",rows:"6",ref:"subject",rules:[()=>!!e.subject||"문의내용을 입력하세요"],placeholder:"문의내용을 입력하세요",modelValue:e.subject,"onUpdate:modelValue":t[4]||(t[4]=u=>e.subject=u)},null,8,["rules","modelValue"])]),s("label",fi,[s("label",vi,[K(s("input",{type:"checkbox",style:{width:"15px",height:"15px"},"onUpdate:modelValue":t[5]||(t[5]=u=>e.secret=u)},null,512),[[Z,e.secret]]),P(" 비공개 ")])]),s("div",gi,[_(h,{type:"button",onClick:t[6]||(t[6]=u=>e.registShow=!1),variant:"outlined",rounded:"",class:"whiteButton"},{default:L(()=>[yi]),_:1}),_(h,{type:"submit",variant:"outlined",rounded:"",class:"blackButton"},{default:L(()=>[bi]),_:1})])])]),_:1},8,["modelValue","onSubmit"])])]),_:1},8,["modelValue"])])}const Pi=q(Ks,[["render",wi],["__scopeId","data-v-7a1eb1b1"]]);const ki={props:["pid"],data(){return{util:V,reviewList:[],page:1,limit:20}},created(){this.getData()},methods:{getData(){let i={pid:this.pid,limit:this.limit,page:this.page};U.get(W,i,t=>{this.reviewList=[];for(const o of t.data.data)o.imgs?o.imgList=JSON.parse(o.imgs):o.imgList="",this.reviewList.push(o);console.log(this.reviewList)})}}},Li={class:"review-box"},Ci={class:"sub-title-box"},Si={class:"sub-title"},Ii={class:"review-ul"},Oi={class:"user-box"},xi={class:"user-img"},Ti=["src"],Vi={class:"user"},Di={class:"info-box"},Ui={class:"info-value"},Ni={class:"grade"},qi={key:0,class:"img-box"},Ai=["src"],Fi={class:"date"},Ri={key:0,class:"no-data"};function $i(i,t,o,d,e,a){const h=y("font-awesome-icon"),g=y("v-rating");return n(),r("div",Li,[s("div",Ci,[s("div",Si,"구매후기 ("+c(e.util.numberFormat(e.reviewList.length))+")개",1)]),s("ul",Ii,[(n(!0),r(S,null,I(e.reviewList,p=>(n(),r("li",null,[s("div",Oi,[s("div",xi,[p.userImg?(n(),r("img",{key:0,src:p.userImg},null,8,Ti)):(n(),T(h,{key:1,class:"icon",icon:"fa-solid fa-user"}))]),s("div",Vi,c(p.user_name),1)]),s("div",Di,[s("div",Ui,c(p.content),1),s("div",Ni,[_(g,{modelValue:p.grade,"onUpdate:modelValue":m=>p.grade=m,"background-color":"pink lighten-3",color:"pink",length:"5",size:"20",dense:"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),p.imgList?(n(),r("div",qi,[(n(!0),r(S,null,I(p.imgList,m=>(n(),r("span",null,[s("img",{src:m},null,8,Ai)]))),256))])):v("",!0)]),s("div",Fi,c(p.created_at.substring(0,16).replace("T"," ")),1)]))),256)),e.reviewList.length<1?(n(),r("li",Ri," 등록된 후기가 없습니다 ")):v("",!0)])])}const Bi=q(ki,[["render",$i],["__scopeId","data-v-f47d9109"]]);const ji={name:"pcRelationProducts",props:["pid","categoryOptions","relType"],components:{Swiper:R,SwiperSlide:$},data(){return{util:V,productList:[],imgStyle:{width:"200px",height:"150px"},listStyle:{width:"200px"}}},created(){this.getData()},methods:{getData(){U.get(Y,{pid:this.pid},i=>{this.productList=[];const t=V.getCategoryListNames(i.data.categoryList);i.data.imageset.plist&&(this.imgStyle.width=i.data.imageset.plist.width+"px",this.imgStyle.height=i.data.imageset.plist.height+"px",this.listStyle={width:i.data.imageset.plist.width+"px"});let o="";this.relType=="category"&&(o=this.categoryOptions);for(let d of i.data.productList){let e=[];o?e=o.split(","):e=d.category1.split(",");let a=t[e[0]];e[1]&&(a+=" > "+t[e[1]]),e[2]&&(a+=" > "+t[e[2]]),d.cateName=a,this.productList.push(d)}})},productDetail(i,t){let o=[];this.relType=="category"?o=this.categoryOptions.split(","):o=i.split(",");const d=o[o.length-1];this.$router.push("/product/productView/"+t+"/"+d)}}},Ei={class:"relation-container"},Mi=["onClick"],Qi=["src"],zi=["onClick"],Hi={class:"category"},Ji={class:"pname string-cut"},Wi={class:"price"},Yi={key:0},Gi={style:{"text-decoration":"line-through","padding-right":"10px"}},Xi={key:1};function Ki(i,t,o,d,e,a){const h=y("swiper-slide"),g=y("swiper");return n(),r("div",Ei,[_(g,{slidesPerView:"auto"},{default:L(()=>[(n(!0),r(S,null,I(e.productList,p=>(n(),T(h,{key:p.id,class:"product-list",style:z(e.listStyle)},{default:L(()=>[s("div",{class:"img",style:z(e.imgStyle),onClick:m=>a.productDetail(p.category1,p.id)},[s("img",{class:"list-img",src:p.listImg,style:{"max-width":"100%"}},null,8,Qi)],12,Mi),s("div",{class:"content",onClick:m=>a.productDetail(p.category1,p.id)},[s("div",Hi,c(p.cateName),1),s("div",Ji,c(p.pname),1),s("div",Wi,[p.dcprice>0&&parseInt(p.price)>parseInt(p.dcprice)?(n(),r("span",Yi,[s("span",Gi,c(e.util.numberFormat(p.price))+"원",1),s("span",null,c(e.util.numberFormat(p.dcprice))+"원",1)])):(n(),r("span",Xi,c(e.util.numberFormat(p.price))+"원 ",1))])],8,zi)]),_:2},1032,["style"]))),128))]),_:1})])}const Zi=q(ji,[["render",Ki],["__scopeId","data-v-679aad92"]]);const to={name:"pcProductView",setup(){const i=dt(null);return{thumbsSwiper:i,setThumbsSwiper:o=>{i.value=o},modules:[mt]}},props:["params","priceParams","optionRequiredUse","optionList","optionDisplayList","checkAmtOptonList","addInfos","setDataStart","updatePriceStart"],components:{productQna:Pi,productReview:Bi,relativeProduct:Zi,Swiper:R,SwiperSlide:$},watch:{updatePriceStart(i){i&&(this.totalPrice=this.priceParams.totalPrice,this.dcprice=this.priceParams.dcprice,this.price=this.priceParams.price,this.optionViewList=this.optionDisplayList,this.productOamt=this.priceParams.productOamt,this.productPrice=this.priceParams.productPrice,this.$emit("updatePriceStartFalse",{}))},setDataStart(i){i&&this.setData()}},data(){return{infoNoticeShow:!1,util:V,optionViewList:[],showReviewRegist:!1,cartId:"",id:"",info:{},categoryNames:[],optionShow:!1,selectedOption:[],isLogin:!1,wish:0,wishIcon:"",totalPrice:"",price:"",dcprice:0,productOamt:0,productPrice:0,optionUseClass:"",tabClass:{info:"active",qna:"",review:"",delivery:""},categoryOptions:"",relationCategoryProductShow:!1,detailImgs:[],swiperInit:!1,deliveryPrice:0,gamtName:"",pointUnit:"",pointName:"",pointValue:"",viewTotalPrice:"",viewPrice:"",viewDcprice:0,deliveryInfo:{},infoNoticeList:[]}},created(){var t;this.id=this.$route.params.id,this.defaultCategory=this.$route.params.categoryId;const i=B.getSession();i&&((t=i.memberInfo)!=null&&t.id)&&(this.isLogin=!0)},methods:{setData(){this.info=this.params.info;const i=JSON.parse(this.info.pInfoNoti);this.infoNoticeList=i.infoNotices,this.categoryNames=this.params.categoryNames,this.categoryOptions=this.params.categoryOptions,this.info.relUse=="yes"&&(this.relationCategoryProductShow=!0),this.info.myWish&&this.isLogin?this.wishIcon="active":this.wishIcon="",this.wish=this.info.wish,this.detailImgs=JSON.parse(this.info.detailImgs),this.swiperInit=!0,this.totalPrice=this.priceParams.viewTotalPrice,this.dcprice=this.priceParams.viewDcprice,this.productPrice=this.priceParams.productPrice,this.price=this.priceParams.viewPrice,this.productOamt=this.priceParams.productOamt,this.pointName=this.params.pointName,this.pointUnit=this.params.pointUnit,this.info.pointType=="yes"&&this.info.point&&(this.info.pointSet=="rate"?this.pointValue=V.numberFormat(this.info.point)+"%":this.pointValue=V.numberFormat(this.info.point)+this.pointUnit),this.optionShow=this.params.optionShow,this.optionUseClass=this.params.optionUseClass,this.selectedOption=[],this.$emit("setDataStartFalse",{})},showOptionInfo(i){if(!this.optionList[i].disabled)for(let o in this.optionList)i==o?this.optionList[o].show=!this.optionList[o].show:this.optionList[o].show=!1},productWish(){if(!this.isLogin){let t={type:"confirm",message:"회원만 사용 가능합니다<br>로그인 하시겠습니까",doAction:()=>{this.$router.push("/memberLogin")}};this.emitter.emit("modalOpen",t);return}const i={pid:this.id};this.emitter.emit("overlay","open"),U.post(G,i,t=>{this.emitter.emit("overlay","hide"),this.wish=t.data.total,t.data.rtype=="delete"?this.wishIcon="":this.wishIcon="active"})},updateAmt(i,t){const o={cmd:i,index:t};this.$emit("updateAmt",o)},updateProductAmt(i){const t={cmd:i};this.$emit("updateProductAmt",t)},deleteOptionView(i){const t={index:i};this.$emit("deleteOptionView",t)},setOptionCode(i,t){const o={index:i,subIndex:t};this.$emit("setOptionCode",o)},insertCart(){this.$emit("insertCart",{})},order(){this.$emit("order",{})},chageContent(i){for(let t in this.tabClass)i==t?this.tabClass[t]="active":this.tabClass[t]=""}},updated(){this.detailImgs.length<=6&&this.swiperInit&&(N(".custom-button-prev").hide(),N(".custom-button-next").hide()),N(".detail-content p").css({"line-height":"130%",margin:0}),N(".detail-content img").css({"max-width":"100%"})}},A=i=>(j("data-v-688275af"),i=i(),E(),i),eo={class:"page-container"},so={class:"detail-header"},io={class:"navi"},oo={class:"header-box"},no={key:0,class:"detail-img"},ro={class:"img"},ao=["src"],lo={class:"thumb-box"},co={class:"thumbimg"},po=["src"],uo={class:"custom-button-next"},ho={class:"custom-button-prev"},mo={class:"info-data"},_o={class:"ptitle-box"},fo={class:"ptitle"},vo={key:0,class:"desc string-cut"},go={key:1,class:"addinfos-box"},yo={class:"addinfo-ul"},bo={class:"name"},wo={class:"value"},Po={key:0,class:"addinfo-ul"},ko=A(()=>s("li",{class:"name"},"브랜드",-1)),Lo={class:"value"},Co={key:2,class:"option"},So={class:"option-name"},Io={key:0},Oo={key:0,style:{"padding-left":"10px"}},xo=["onClick"],To={class:"option-select-name"},Vo={class:"option-select-icon"},Do={key:0,class:"option-body"},Uo=["onClick"],No={class:"item-info"},qo={key:0},Ao={class:"item-price"},Fo={key:0},Ro={key:3,class:"sel-optios"},$o={class:"option-header"},Bo={class:"option-name"},jo=["onClick"],Eo={class:"option-body"},Mo={class:"option-counter"},Qo=["onClick"],zo={class:"amount"},Ho=["onClick"],Jo={class:"option-price"},Wo=A(()=>s("div",{class:"option-header"},null,-1)),Yo={class:"option-body"},Go={class:"option-counter"},Xo={class:"amount"},Ko={class:"option-price"},Zo={key:5,class:"point-box"},tn=A(()=>s("span",null,"적립",-1)),en={class:"total-price"},sn={key:0},on={key:6,class:"button-box"},nn={class:"wish"},rn={key:7,class:"button-box soldout"},an={class:"wish"},ln=A(()=>s("div",{class:"soldout-text"}," 품절 ",-1)),cn={class:"product-content-container"},dn={class:"content-box"},pn={key:0,class:"content"},un={class:"infonotice-button"},hn=A(()=>s("span",null,"상품정보제공고시 보기",-1)),mn=["innerHTML"],_n=["innerHTML"],fn={key:2,class:"content"},vn={key:3,class:"content"},gn={key:0,class:"relation-products"},yn=A(()=>s("div",{class:"sub-title"},"이상품과 관련된 추천상품",-1)),bn={class:"modal-box"},wn={class:"modal-title"},Pn={class:"modal-body"},kn={class:"cols-table",cellspacing:"0",cellpadding:"0",border:"0"},Ln={style:{position:"relative",height:"auto"}},Cn={class:"modal-button"},Sn=A(()=>s("span",null,"닫기",-1));function In(i,t,o,d,e,a){const h=y("font-awesome-icon"),g=y("swiper-slide"),p=y("swiper"),m=y("v-btn"),f=y("productReview"),b=y("productQna"),u=y("relativeProduct"),O=y("v-dialog");return n(),r("div",eo,[s("div",so,[s("div",io,[(n(!0),r(S,null,I(e.categoryNames,(l,k)=>(n(),r("div",null,[P(c(l)+" ",1),k+1<e.categoryNames.length?(n(),T(h,{key:0,class:"icon",icon:"fa-solid fa-angle-right"})):v("",!0)]))),256))]),s("div",oo,[e.swiperInit?(n(),r("div",no,[_(p,{thumbs:{swiper:d.thumbsSwiper},modules:d.modules,"slides-per-view":1},{default:L(()=>[(n(!0),r(S,null,I(e.detailImgs,(l,k)=>(n(),T(g,{key:"img"+k},{default:L(()=>[s("div",ro,[s("img",{src:l,style:{"max-width":"100%"}},null,8,ao)])]),_:2},1024))),128))]),_:1},8,["thumbs","modules"]),s("div",lo,[_(p,{onSwiper:d.setThumbsSwiper,spaceBetween:10,slidesPerView:6,freeMode:!0,watchSlidesProgress:!0,modules:d.modules},{default:L(()=>[(n(!0),r(S,null,I(e.detailImgs,(l,k)=>(n(),T(g,{key:"simg"+k},{default:L(()=>[s("div",co,[s("img",{src:l,style:{"max-width":"100%"}},null,8,po)])]),_:2},1024))),128))]),_:1},8,["onSwiper","modules"]),s("div",uo,[_(h,{onClick:t[0]||(t[0]=l=>d.thumbsSwiper.slideNext()),icon:"fa-solid fa-angle-right"})]),s("div",ho,[_(h,{onClick:t[1]||(t[1]=l=>d.thumbsSwiper.slidePrev()),icon:"fa-solid fa-angle-left"})])])])):v("",!0),s("div",mo,[s("div",_o,[s("div",fo,c(e.info.pname),1)]),e.info.description?(n(),r("div",vo,c(e.info.description),1)):v("",!0),o.addInfos.length>0||e.info.brandId?(n(),r("div",go,[(n(!0),r(S,null,I(o.addInfos,l=>(n(),r("ul",yo,[s("li",bo,c(l.name),1),s("li",wo,c(l.value),1)]))),256)),e.info.brandId?(n(),r("ul",Po,[ko,s("li",Lo,c(e.info.brandName),1)])):v("",!0)])):v("",!0),e.optionShow?(n(),r("ul",Co,[(n(!0),r(S,null,I(o.optionList,(l,k)=>(n(),r("li",null,[s("div",So,[P(c(l.name)+" ",1),e.info.optionType=="single"?(n(),r("span",Io,[l.required=="Y"?(n(),r("span",Oo,[_(h,{icon:"fa-solid fa-check"}),P(" [필수] ")])):v("",!0)])):v("",!0)]),s("div",{class:C("option-container "+l.disabled)},[s("div",{class:"option-header",onClick:w=>a.showOptionInfo(k)},[s("div",To,c(l.title),1),s("div",Vo,[l.show?(n(),T(h,{key:0,icon:"fa-solid fa-caret-up"})):(n(),T(h,{key:1,icon:"fa-solid fa-caret-down"}))])],8,xo),l.show?(n(),r("ul",Do,[(n(!0),r(S,null,I(l.subList,(w,x)=>(n(),r("li",{onClick:F=>a.setOptionCode(k,x),key:k+"_"+x,class:C(w.amtDisabled)},[s("div",No,[P(c(w.name)+" ",1),w.amtDisabled?(n(),r("span",qo,"[품절]")):v("",!0)]),s("div",Ao,[w.dcprice>0?(n(),r("span",Fo,[_(h,{class:"icon",icon:"fa-solid fa-won-sign"}),P(" "+c(e.util.numberFormat(w.price))+"원 ",1)])):v("",!0),_(h,{class:"icon",icon:"fa-solid fa-won-sign"}),P(" "+c(e.util.numberFormat(w.sellprice))+"원 ",1)])],10,Uo))),128))])):v("",!0)],2)]))),256))])):v("",!0),e.optionViewList.length>0?(n(),r("ul",Ro,[(n(!0),r(S,null,I(e.optionViewList,(l,k)=>(n(),r("li",null,[s("div",$o,[s("div",Bo,c(l.name),1),s("div",{class:"option-del-text",onClick:w=>a.deleteOptionView(k)},"삭제",8,jo)]),s("div",Eo,[s("ul",Mo,[s("li",{onClick:w=>a.updateAmt("minus",k)},[_(h,{icon:"fa-solid fa-minus"})],8,Qo),s("li",zo,c(l.oamt),1),s("li",{onClick:w=>a.updateAmt("plus",k)},[_(h,{icon:"fa-solid fa-plus"})],8,Ho)]),s("div",Jo,[_(h,{class:"icon",icon:"fa-solid fa-won-sign"}),P(" "+c(e.util.numberFormat(l.sellprice)),1)])])]))),256))])):v("",!0),o.optionRequiredUse?v("",!0):(n(),r("ul",{key:4,class:C("sel-optios "+e.optionUseClass)},[s("li",null,[Wo,s("div",Yo,[s("ul",Go,[s("li",{onClick:t[2]||(t[2]=l=>a.updateProductAmt("minus"))},[_(h,{icon:"fa-solid fa-minus"})]),s("li",Xo,c(e.productOamt),1),s("li",{onClick:t[3]||(t[3]=l=>a.updateProductAmt("plus"))},[_(h,{icon:"fa-solid fa-plus"})])]),s("div",Ko,[_(h,{class:"icon",icon:"fa-solid fa-won-sign"}),P(" "+c(e.util.numberFormat(e.productPrice)),1)])])])],2)),e.pointValue?(n(),r("div",Zo,[tn,P(" "+c(e.pointValue),1)])):v("",!0),s("div",en,[e.dcprice>0?(n(),r("span",sn,[_(h,{class:"icon",icon:"fa-solid fa-won-sign"}),P(" "+c(e.util.numberFormat(e.price))+"원 ",1)])):v("",!0),_(h,{class:"icon",icon:"fa-solid fa-won-sign"}),P(" "+c(e.util.numberFormat(e.totalPrice))+"원 ",1)]),e.info.gamt>0?(n(),r("div",on,[_(m,{rounded:"",variant:"outlined",class:C("wishButton "+e.wishIcon),onClick:t[4]||(t[4]=l=>a.productWish())},{default:L(()=>[_(h,{class:"icon",icon:"fa-solid fa-heart"}),s("span",nn,c(e.util.numberFormat(e.wish)),1)]),_:1},8,["class"]),e.info.serviceType=="normal"?(n(),T(m,{key:0,rounded:"",variant:"outlined",color:"whiteButton",style:{height:"57px",width:"170px"},onClick:t[5]||(t[5]=l=>a.insertCart())},{default:L(()=>[P(" 장바구니 담기 ")]),_:1})):v("",!0),_(m,{rounded:"",variant:"outlined",color:"blackButton",style:{height:"57px",width:"170px"},class:C("orderButton "+e.info.serviceType),onClick:t[6]||(t[6]=l=>a.order())},{default:L(()=>[P(" 주문하기 ")]),_:1},8,["class"])])):(n(),r("div",rn,[_(m,{rounded:"",variant:"outlined",class:C("wishButton "+e.wishIcon),onClick:t[7]||(t[7]=l=>a.productWish())},{default:L(()=>[_(h,{class:"icon",icon:"fa-solid fa-heart"}),s("span",an,c(e.util.numberFormat(e.wish)),1)]),_:1},8,["class"]),ln]))])])]),s("div",cn,[s("ul",{class:C("content-tab "+e.info.serviceType)},[s("li",{onClick:t[8]||(t[8]=l=>a.chageContent("info")),class:C("tab-item "+e.tabClass.info)},"상품상세",2),e.info.serviceType=="normal"?(n(),r("li",{key:0,onClick:t[9]||(t[9]=l=>a.chageContent("delivery")),class:C("tab-item "+e.tabClass.delivery)},"배송 및 환불정책 ",2)):v("",!0),s("li",{onClick:t[10]||(t[10]=l=>a.chageContent("review")),class:C("tab-item "+e.tabClass.review)},"구매후기",2),s("li",{onClick:t[11]||(t[11]=l=>a.chageContent("qna")),class:C("tab-item "+e.tabClass.qna)},"상품문의",2)],2),s("div",dn,[e.tabClass.info=="active"?(n(),r("div",pn,[s("div",un,[_(m,{class:"whiteButton",onClick:t[12]||(t[12]=l=>e.infoNoticeShow=!0),depressed:""},{default:L(()=>[hn]),_:1})]),s("div",{class:"detail-content",innerHTML:e.info.content},null,8,mn)])):e.tabClass.delivery=="active"&&e.info.serviceType=="normal"?(n(),r("div",{key:1,class:"content detail-content",innerHTML:e.info.dcontent},null,8,_n)):e.tabClass.review=="active"?(n(),r("div",fn,[_(f,{pid:e.id},null,8,["pid"])])):e.tabClass.qna=="active"?(n(),r("div",vn,[_(b,{pid:e.id},null,8,["pid"])])):v("",!0)])]),e.relationCategoryProductShow?(n(),r("div",gn,[yn,_(u,{relType:e.info.relType,categoryOptions:e.categoryOptions,pid:e.id},null,8,["relType","categoryOptions","pid"])])):v("",!0),_(O,{modelValue:e.infoNoticeShow,"onUpdate:modelValue":t[15]||(t[15]=l=>e.infoNoticeShow=l),width:"850",style:{"z-index":"100"}},{default:L(()=>[s("div",bn,[s("div",wn,[P(" 상품정보제공 고시 "),_(h,{class:"icon",onClick:t[13]||(t[13]=l=>e.infoNoticeShow=!1),icon:"fa-solid fa-xmark"})]),s("div",Pn,[s("table",kn,[s("tbody",null,[(n(!0),r(S,null,I(e.infoNoticeList,(l,k)=>(n(),r("tr",{key:k+"_key"},[s("th",null,c(l.name),1),s("td",Ln,c(l.value),1)]))),128))])])]),s("div",Cn,[_(m,{class:"whiteButton",rounded:"",depressed:"",onClick:t[14]||(t[14]=l=>e.infoNoticeShow=!1)},{default:L(()=>[Sn]),_:1})])])]),_:1},8,["modelValue"])])}const On=q(to,[["render",In],["__scopeId","data-v-688275af"]]);const xn={watch:{$route(i,t){i.name==t.name&&(this.templateShow=!1,setTimeout(()=>{this.templateShow=!0;const o={id:this.$route.params.id,category:this.$route.params.categoryId};this.reloadOtherProduct(o)},100))}},components:{mobileProductView:Xs,pcProductView:On},data(){return{mobile:!1,params:{},priceParams:{},info:{},defaultCategory:"",id:"",optionList:[],checkAmtOptonList:[],addInfos:[],setDataStart:!1,optionRequiredUse:!0,optionViewList:[],selectedOption:[],updatePriceStart:!1,templateShow:!0}},created(){this.mobile=this.$isMobile(),this.id=this.$route.params.id,this.defaultCategory=this.$route.params.categoryId,this.getData()},methods:{...tt(ht,["setMetaData"]),reloadOtherProduct(i){this.params={},this.priceParams={},this.info={},this.id=i.id,this.defaultCategory=i.category,this.optionList=[],this.checkAmtOptonList=[],this.addInfos=[],this.optionRequiredUse=!0,this.optionViewList=[],this.selectedOption=[],this.updatePriceStart=!1,this.getData()},getData(){U.get(it,{id:this.id,category:this.defaultCategory},i=>{const t=i.data.productInfo;if(this.setMetaData({title:t.pname,keyword:t.keyword,description:t.description}),this.info=t,this.params.info=t,this.params.categoryNames=i.data.categoryNames,this.params.gamtName=t.pstatus=="soldout"||parseInt(t.gamt)<1?"품절":"있음",i.data.pointInfo&&(this.params.pointName=i.data.pointInfo.pointName,this.params.pointUnit=i.data.pointInfo.pointUnit),t.serviceType=="normal"&&i.data.deliveryInfo&&(this.params.deliveryInfo=i.data.deliveryInfo),i.data.baseCategory&&(this.params.categoryOptions=i.data.baseCategory,this.params.relationCategoryProductShow=!0),this.optionViewList=[],this.selectedOption=[],t.optionUse=="yes")switch(this.params.optionShow=!0,this.optionList=[],this.checkAmtOptonList=i.data.optionList,t.optionType){case"multi":this.setMultiOption(t);break;case"single":this.setSingleOption(t);break}else this.optionRequiredUse=!1,this.priceParams.productOamt=1;if(t.dcprice?(this.priceParams.viewTotalPrice=t.dcprice,this.priceParams.viewDcprice=t.dcprice,t.optionUse!="yes"&&(this.priceParams.productPrice=i.data.productInfo.dcprice,this.priceParams.totalPrice=t.dcprice,this.priceParams.dcprice=t.dcprice,this.priceParams.price=t.price)):(this.priceParams.viewTotalPrice=t.price,this.priceParams.viewDcprice=0,t.optionUse!="yes"&&(this.priceParams.productPrice=i.data.productInfo.price,this.priceParams.totalPrice=t.price,this.priceParams.dcprice=0,this.priceParams.price=t.price)),this.priceParams.viewPrice=t.price,t.serviceType=="normal"&&i.data.deliveryInfo&&t.optionUse!="yes"&&this.setDeliveryPrice(),this.addInfos=[],t.addInfos&&t.addInfoId)for(const o of JSON.parse(t.addInfos))o.value&&this.addInfos.push(o);this.setDataStart=!0})},setDeliveryPrice(){if(this.info.serviceType=="normal")switch(this.params.deliveryInfo.dpriceType){case"price":this.priceParams.deliveryPrice=this.params.deliveryInfo.fprice;break;case"half":this.priceParams.totalPrice>=this.params.deliveryInfo.oprice?this.priceParams.deliveryPrice=0:this.priceParams.deliveryPrice=this.params.deliveryInfo.mprice;break;case"free":this.priceParams.deliveryPrice=0;break}},setSingleOption(i){let t={};for(const o of this.checkAmtOptonList)t[o.option_code]=parseInt(o.amt);this.optionRequiredUse=!1;for(let o of i.optionInfo.optionList){let d=[];for(let e of o.subList)e.use=="Y"&&(e.dcprice=e.dcprice?V.parseNumber(e.dcprice):0,e.price=e.price?V.parseNumber(e.price):0,e.sellprice=e.dcprice?e.dcprice:e.price,e.amt=t[e.code],e.amtDisabled="",t[e.code]<1&&(e.amtDisabled="disabled"),d.push(e));if(d.length>0){let e={name:o.name,required:o.required,subList:d,show:!1,title:o.name+" 선택"};e.required=="Y"?(this.optionList.unshift(e),this.optionRequiredUse=!0):this.optionList.push(e)}}this.optionRequiredUse?(this.priceParams.productPrice=0,this.priceParams.productOamt=0):(this.priceParams.productOamt=1,this.params.optionUseClass="border-top",i.dcprice?(this.priceParams.totalPrice=i.dcprice,this.priceParams.dcprice=i.dcprice,this.priceParams.price=i.price,this.priceParams.productPrice=i.dcprice):(this.priceParams.totalPrice=i.price,this.priceParams.dcprice=0,this.priceParams.price=i.price,this.priceParams.productPrice=i.price),this.setDeliveryPrice())},setMultiOption(i){this.priceParams.productPrice=0,this.priceParams.productOamt=0;let t=!0,o=[];for(const a of this.checkAmtOptonList)if(a.ouse=="Y")t=!1;else{const h=a.option_code.split("-");for(let g in h)o[g]||(o[g]={}),o[g][h[g]]=o[g][h[g]]?o[g][h[g]]+1:1}const d=this.checkAmtOptonList.length;let e=0;for(let a of i.optionInfo.singleOptionList){let h=e<1?"":"disabled";t&&(h="disabled");const g=a.subList.length,p=d/g;let m=[];for(let b of a.subList)o[e]&&o[e][b.code]&&parseInt(o[e][b.code])>=p||(b.dcprice=b.dcprice?V.parseNumber(b.dcprice):0,b.price=b.price?V.parseNumber(b.price):0,b.sellprice=b.dcprice?b.dcprice:b.price,m.push(b));let f={name:a.name,required:a.required,disabled:h,subList:m,show:!1,title:a.name+" 선택"};this.optionList.push(f),e++}},updateAmt(i){const t=i.cmd,o=i.index;let d;switch(d=parseInt(this.optionViewList[o].oamt),t){case"plus":d=d+1;break;case"minus":d>1?d=d-1:d=1;break}if(this.info.optionUse=="yes"){let e=this.optionViewList[o];e.oamt=d;const a=e.dcprice?e.dcprice:e.price;e.sellprice=d*parseInt(a),this.optionViewList[o]=e}this.setTotalPrice()},updateProductAmt(i){const t=i.cmd;let o=parseInt(this.priceParams.productOamt);switch(t){case"plus":o=o+1;break;case"minus":o>1?o=o-1:o=1;break}this.priceParams.productOamt=o;const d=this.info.dcprice?this.info.dcprice:this.info.price;this.priceParams.productPrice=o*parseInt(d),this.setTotalPrice()},deleteOptionView(i){const t=i.index;this.optionViewList.splice(t,1),this.setTotalPrice()},setOptionCode(i){const t=i.index,o=i.subIndex;if(this.info.optionType=="multi")this.setOptionMultiCode(t,o);else{const d=this.optionList[t].subList[o];if(d){if(d.amtDisabled)return;this.optionList[t].show=!1;let e={};for(let g of this.checkAmtOptonList)e[g.option_code]=g;const a=d.code;let h=e[a];if(h){let g="",p=!1,m=0;for(let f of this.optionViewList){if(f.id==h.id)return;f.orequired=="Y"&&(g=m,p=!0),m++}h.orequired=="Y"?(this.optionList[t].title=d.name,h.oamt=1,h.sellprice=h.dcprice?h.dcprice:h.price,p?this.optionViewList.splice(g,1,h):this.optionViewList.push(h)):(this.optionList[t].title=this.optionList[t].name+" 선택",h.oamt=1,h.sellprice=h.dcprice?h.dcprice:h.price,this.optionViewList.push(h)),this.setTotalPrice()}}}},setOptionMultiCode(i,t){const o=this.optionList[i].subList[t];if(o.amtDisabled)return;this.selectedOption[i]=o.code,this.optionList[i].title=o.name;let d={};this.optionList[i].show=!1;for(let e of this.checkAmtOptonList)d[e.option_code]=e;if(this.selectedOption.length==this.optionList.length){const e=this.selectedOption.join("-");let a=d[e];for(let g of this.optionViewList)if(g.id==a.id)return;a.oamt=1,a.sellprice=a.dcprice?a.dcprice:a.price,this.optionViewList.push(a),this.setTotalPrice(),this.selectedOption=[];let h=0;for(let g of this.optionList)g.title=g.name+" 선택",g.disabled=h<1?"":"disabled",h++}else{const e=i+1;if(this.optionList[e].disabled="",this.optionList.length==this.selectedOption.length+1){const a=this.selectedOption.join("-");for(let h of this.optionList[e].subList){const g=a+"-"+h.code;d[g].amt<1&&(h.amtDisabled="disabled")}}}},setTotalPrice(){if(this.info.optionUse=="yes"){let i=0,t=0,o=!1;for(const e of this.optionViewList)e.dcprice&&(o=!0),t+=parseInt(e.oamt)*parseInt(e.price),i+=parseInt(e.sellprice);const d=parseInt(this.priceParams.productPrice);this.priceParams.dcprice&&d&&(t+=parseInt(this.priceParams.productOamt)*parseInt(this.info.price),o=!0),this.priceParams.totalPrice=i+d,o?(this.priceParams.price=t,this.priceParams.dcprice=1):this.priceParams.dcprice=0}else this.priceParams.totalPrice=parseInt(this.priceParams.productOamt)*parseInt(this.priceParams.productPrice),this.priceParams.price=parseInt(this.priceParams.productOamt)*parseInt(this.info.price);this.setDeliveryPrice(),this.updatePriceStart=!0},updatePriceStartFalse(i){this.updatePriceStart=!1},setDataStartFalse(i){this.setDataStart=!1},getResultOptionData(){let i;if(this.info.optionUse=="yes"){if(i=[],this.info.optionType=="multi"){if(this.optionViewList.length<1){let t={message:"옵션을 모두 선택하세요"};return this.emitter.emit("modalOpen",t),!1}}else{let t=!1;for(let o of this.optionList)if(o.required=="Y"){t=!0;break}if(t){let o=!1;for(let d of this.optionViewList)if(d.orequired=="Y"){o=!0;break}if(!o){let d={message:"필수 옵션을 선택하세요"};return this.emitter.emit("modalOpen",d),!1}}}if(this.optionViewList.length>0){for(let t of this.optionViewList)i.push({id:t.id,camt:t.oamt});i=JSON.stringify(i)}else i="empty"}else i="empty";return i},insertCart(i){if(this.info.serviceType=="service")return;if(this.info.deliveryGroup=="no"){let d={message:"묶음배송 불가 상품입니다<br>묶음배송 불가상품은 장바구니에 저장할수 없습니다"};this.emitter.emit("modalOpen",d);return}let t=this.getResultOptionData();if(!t)return;t=="empty"&&(t="");const o={pid:this.id,camt:this.priceParams.productOamt,option_info:t};this.emitter.emit("overlay","open"),U.post(ot,o,d=>{if(this.emitter.emit("overlay","hide"),d.status=="success"){let e={type:"confirm",message:"장바구니에 저장되었습니다<br>장바구니로 이동하시겠습니까?",doAction:()=>{this.$router.push("/cart")}};this.emitter.emit("modalOpen",e)}else{let a={message:this.setResultCartMessage(d.data.type)};this.emitter.emit("modalOpen",a)}})},order(i){let t=this.getResultOptionData();if(!t)return;t=="empty"&&(t="");const o={pid:this.id,camt:this.priceParams.productOamt,option_info:t};this.emitter.emit("overlay","open"),U.post(nt,o,d=>{if(this.emitter.emit("overlay","hide"),d.status=="success")this.$router.push("/order/"+d.data.id+"/direct");else{let a={message:this.setResultCartMessage(d.data.type)};this.emitter.emit("modalOpen",a)}})},setResultCartMessage(i){let t="";switch(i){case"soldout":t="선택된 옵션은 품절되었습니다";break;case"reload":t="선택된 옵션중에 판매불가능한 옵션이 있습니다 정보를 RELOAD 합니다",this.reloadOtherProduct({id:this.id});break;case"overBuy":t="판매가능한 재고보다 구매수량이 많습니다";break;case"noDeliveryGroup":t="현상품은 묶음배송 불가능 상품입니다";break;case"noRequiredOption":t="필수옵션값이 없습니다  정보를 RELOAD 합니다",this.reloadOtherProduct({id:this.id});break;default:t="error code "+res.data.type;break}return t}}},Tn={class:"page-container"},Vn={key:0,style:{"text-align":"center",padding:"200px 0"}};function Dn(i,t,o,d,e,a){const h=y("v-progress-circular"),g=y("mobileProductView"),p=y("pcProductView");return n(),r("div",Tn,[e.templateShow?v("",!0):(n(),r("div",Vn,[_(h,{size:80,color:"#AD1457",indeterminate:""})])),e.mobile&&e.templateShow?(n(),T(g,{key:1,params:e.params,priceParams:e.priceParams,optionRequiredUse:e.optionRequiredUse,optionList:e.optionList,optionDisplayList:e.optionViewList,checkAmtOptonList:e.checkAmtOptonList,addInfos:e.addInfos,setDataStart:e.setDataStart,updatePriceStart:e.updatePriceStart,onUpdatePriceStartFalse:a.updatePriceStartFalse,onSetDataStartFalse:a.setDataStartFalse,onSetOptionCode:a.setOptionCode,onUpdateProductAmt:a.updateProductAmt,onUpdateAmt:a.updateAmt,onDeleteOptionView:a.deleteOptionView,onInsertCart:a.insertCart,onOrder:a.order},null,8,["params","priceParams","optionRequiredUse","optionList","optionDisplayList","checkAmtOptonList","addInfos","setDataStart","updatePriceStart","onUpdatePriceStartFalse","onSetDataStartFalse","onSetOptionCode","onUpdateProductAmt","onUpdateAmt","onDeleteOptionView","onInsertCart","onOrder"])):!e.mobile&&e.templateShow?(n(),T(p,{key:2,params:e.params,priceParams:e.priceParams,optionRequiredUse:e.optionRequiredUse,optionList:e.optionList,optionDisplayList:e.optionViewList,checkAmtOptonList:e.checkAmtOptonList,addInfos:e.addInfos,setDataStart:e.setDataStart,updatePriceStart:e.updatePriceStart,onUpdatePriceStartFalse:a.updatePriceStartFalse,onSetDataStartFalse:a.setDataStartFalse,onSetOptionCode:a.setOptionCode,onUpdateProductAmt:a.updateProductAmt,onUpdateAmt:a.updateAmt,onDeleteOptionView:a.deleteOptionView,onInsertCart:a.insertCart,onOrder:a.order},null,8,["params","priceParams","optionRequiredUse","optionList","optionDisplayList","checkAmtOptonList","addInfos","setDataStart","updatePriceStart","onUpdatePriceStartFalse","onSetDataStartFalse","onSetOptionCode","onUpdateProductAmt","onUpdateAmt","onDeleteOptionView","onInsertCart","onOrder"])):v("",!0)])}const Mn=q(xn,[["render",Dn],["__scopeId","data-v-1d3c0628"]]);export{Mn as default};
