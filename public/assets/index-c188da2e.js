import{i as E,m as A,_ as S,r as m,o as l,c as u,a as i,g as L,d,w as y,F as w,b as x,n as I,t as b,j as _,s as D,e as R,p as T,f as P,u as O}from"./index-e9ed42ea.js";import{a as f,A as F,b as V,c as $}from"./apiService-0aea4262.js";import{a as M}from"./admin-36cebdfb.js";import{J as v}from"./jquery-331624d0.js";import{_ as q}from"./style-b89010d1.js";import"./axios-c24e582b.js";const B=[{name:"대시보드",icon:"fa-solid fa-gauge",id:"main",active:"no",subMenuList:[{name:"대시보드",icon:"",url:"/admin/main",active:"no"}]},{name:"기본설정",icon:"fa-solid fa-gear",id:"setting",active:"no",subMenuList:[{name:"기본정보 설정",icon:"",url:"/admin/setting/companyInfo",active:"no"},{name:"상품 카테고리 설정",icon:"",url:"/admin/setting/categoryList",active:"no"},{name:"상품 브랜드 설정",icon:"",url:"/admin/setting/brandList",active:"no"},{name:"상품 추가정보 설정",icon:"",url:"/admin/setting/productAddInfo",active:"no"},{name:"적립금 설정",icon:"",url:"/admin/setting/point",active:"no"},{name:"결제정보 설정",icon:"",url:"/admin/setting/payment",active:"no"},{name:"배송비 설정",icon:"",url:"/admin/setting/deliveryList",active:"no"},{name:"배송업체 설정",icon:"",url:"/admin/setting/deliveryCompany",active:"no"},{name:"회원가입정보 설정",icon:"",url:"/admin/setting/memberset",active:"no"},{name:"회원등급 설정",icon:"",url:"/admin/member/levelList",active:"no"},{name:"약관 설정",icon:"",url:"/admin/setting/memberAgree",active:"no"},{name:"이미지 크기 설정",icon:"",url:"/admin/setting/imageset",active:"no"}]},{name:"사이트설정",icon:"fa-solid fa-solar-panel",id:"siteSetting",active:"no",subMenuList:[{name:"메뉴 설정",icon:"",url:"/admin/siteSetting/menuSetting",active:"no"},{name:"로고/메인페이지 설정",icon:"",url:"/admin/siteSetting/mainSetting",active:"no"}]},{name:"SMS/EMAIL 설정",icon:"fa-solid fa-paper-plane",id:"smsEmailSetting",active:"no",subMenuList:[{name:"SMS 설정",icon:"",url:"/admin/smsEmailSetting/smsSetting",active:"no"},{name:"EMAIL 설정",icon:"",url:"/admin/smsEmailSetting/emailSetting",active:"no"}]},{name:"회원관리",icon:"fa-solid fa-user-group",id:"member",active:"no",subMenuList:[{name:"회원 조회",icon:"",url:"/admin/member/memberList",active:"no"},{name:"탈퇴회원 조회",icon:"",url:"/admin/member/outMemberList",active:"no"}]},{name:"상품관리",icon:"fa-solid fa-boxes-stacked",id:"product",active:!1,subMenuList:[{name:"상품 조회",icon:"",url:"/admin/product/productList",active:"no"},{name:"상품 등록",icon:"",url:"/admin/product/productRegist",active:"no"},{name:"상품(구매) 후기 관리",icon:"",url:"/admin/product/productReview",active:"no"},{name:"상품 문의 관리",icon:"",url:"/admin/product/productInquire",active:"no"}]},{name:"상품재고관리",icon:"fa-solid fa-cart-flatbed",id:"inventory",active:!1,subMenuList:[{name:"상품별 재고관리",icon:"",url:"/admin/inventory/productList",active:"no"},{name:"옵션별 재고관리",icon:"",url:"/admin/inventory/optionList",active:"no"}]},{name:"주문관리",icon:"fa-solid fa-cart-shopping",id:"order",active:!1,subMenuList:[{name:"전체주문 조회",icon:"",url:"/admin/order/orderListALL",active:"no"},{name:"미입금 주문조회",icon:"",url:"/admin/order/orderListNP",active:"no"},{name:"입금완료 주문조회",icon:"",url:"/admin/order/orderListIC",active:"no"},{name:"배송준비중 주문조회",icon:"",url:"/admin/order/orderListDR",active:"no"},{name:"배송중 주문조회",icon:"",url:"/admin/order/orderListDI",active:"no"},{name:"배송완료 주문조회",icon:"",url:"/admin/order/orderListDC",active:"no"},{name:"구매확정 주문조회",icon:"",url:"/admin/order/orderListOC",active:"no"}]},{name:"클레임관리",icon:"fa-solid fa-circle-exclamation",id:"order",active:!1,subMenuList:[{name:"주문취소 관리",icon:"",url:"/admin/order/cancleList",active:"no"},{name:"반품 관리",icon:"",url:"/admin/order/returnList",active:"no"},{name:"교환 관리",icon:"",url:"/admin/order/exchangeList",active:"no"},{name:"환불 관리",icon:"",url:"/admin/order/refundList",active:"no"}]},{name:"운영관리",icon:"fa-solid fa-briefcase",id:"run",active:!1,subMenuList:[{name:"게시판 관리",icon:"",url:"/admin/run/boardList"},{name:"FAQ 관리",icon:"",url:"/admin/run/faqList"},{name:"적립금 관리",icon:"",url:"/admin/run/pointList"}]},{name:"통계",icon:"fa-solid fa-chart-line",id:"statistics",active:!1,subMenuList:[{name:"회원가입 통계",icon:"",url:"/admin/statistics/joinMemberStatistics"},{name:"전체주문 통계",icon:"",url:"/admin/statistics/orderDateStatistics"},{name:"회원별주문 통계",icon:"",url:"/admin/statistics/orderMemberStatistics"},{name:"상품별주문 통계",icon:"",url:"/admin/statistics/orderProductStatistics"}]},{name:"개발자 옵션",icon:"fa-solid fa-code",id:"developer",active:!1,subMenuList:[{name:"개발자 모드설정",icon:"",url:"/admin/developer/setting"}]}];const G={components:{CustomScrollbar:q},computed:{...E(M,["pageMenuName","siteEnv"])},watch:{$route(e,t){switch(e.name){case"adminProductProductModify":this.subMenuTitle="상품 수정";break;case"adminProductProductRegist":t.name=="adminProductProductModify"&&this.emitter.emit("productRegistReload",{});break;case"adminUpdate":this.subMenuTitle="";let o=0;for(let r of this.menuList){r.active&&v(".submenu-ul").eq(o).slideUp(200),r.active="";for(let n of r.subMenuList)n.active="";o++}break}},getSiteEnv(e){this.siteEnv=e},getPageMenuName(e){e&&(this.subMenuTitle=e,this.setPageMenuName(""))}},data(){return{menuList:[],currentUrl:"",subMenuTitle:"",activeIndex:0,activeFlag:!1,developerIndex:"",siteSeoFile:!1,scrollBarStyle:{}}},created(){this.emitter.on("goPage",this.goPageFromMain),this.currentUrl=this.$route.path,this.setMenu()},methods:{...A(M,["setPageMenuName"]),scrollHanle(e){console.log(e)},setMenu(){for(const t of B)this.menuList.push(t);let e=0;for(let t of this.menuList){t.id=="developer"&&(this.developerIndex=e);for(let o of t.subMenuList)this.currentUrl==o.url&&(t.active="active",o.active="active",this.activeFlag=!0,this.activeIndex=e,this.subMenuTitle=o.name);e++}},goAdminUpdate(){this.$router.push("/admin/adminUpdate")},showMenu(e){this.goSubMenu(e,0)},goDeveloper(){this.goSubMenu(this.developerIndex,0)},goSubMenu(e,t){let o=0;for(let n of this.menuList){n.active="",e!=o&&v(".submenu-ul").eq(o).slideUp(200),o++;for(let a of n.subMenuList)a.active=""}v(".submenu-ul").eq(e).slideDown(200),this.menuList[e].active="active",this.menuList[e].subMenuList[t].active="active",this.subMenuTitle=this.menuList[e].subMenuList[t].name;const r=this.menuList[e].subMenuList[t].url;r&&this.goPage(r)},goPageFromMain(e){this.currentUrl=e.url,this.setMenu()},goPage(e){this.$router.push(e).catch(()=>{})},logout(){this.emitter.emit("overlay","open"),f.post(F,{},e=>{location.href="/admin"})}},mounted(){this.activeFlag&&(this.activeFlag=!1,v(".submenu-ul").eq(this.activeIndex).slideDown(200));const e=v(window).height();this.scrollBarStyle={height:e-80+"px"}},updated(){this.activeFlag&&(this.activeFlag=!1,v(".submenu-ul").eq(this.activeIndex).slideDown(200))},destroyed(){this.emitter.off("goPage")}},C=e=>(T("data-v-2c955f2d"),e=e(),P(),e),j={class:"layout-page adminZ",id:"site-base-layout"},Y={class:"layout-header"},z={class:"top-box"},J={class:"top-info"},Q=C(()=>i("span",{class:"version"}," Riverflow shop Admin    v 1.0.0 ",-1)),H={class:"site-env"},K={class:"top-setting"},Z={class:"top-setting-ul"},W={class:"layout-container"},X={class:"left-menu"},ee={class:"large-menu"},te=["onClick"],ie={class:"large-menu-item-title"},ne={class:"submenu-ul"},se=["onClick"],oe={class:"layout-contents"},ae={key:0,class:"title_01"},le=C(()=>i("div",{class:"layout-bottom"},null,-1));function re(e,t,o,r,n,a){const c=m("font-awesome-icon"),p=m("custom-scrollbar"),g=m("router-view");return l(),u("div",j,[i("div",Y,[i("div",z,[i("div",J,[Q,i("span",H,[L(" 실행환경 : "),e.siteEnv=="developer"?(l(),u("span",{key:0,class:"developer",onClick:t[0]||(t[0]=s=>a.goDeveloper())},[d(c,{icon:"fa-solid fa-circle-exclamation"}),L(" 개발자 모드 (보안에 취약합니다) ")])):(l(),u("span",{key:1,class:"production",onClick:t[1]||(t[1]=s=>a.goDeveloper())}," 실서비스 모드 "))])]),i("div",K,[i("ul",Z,[i("li",{onClick:t[2]||(t[2]=s=>a.goAdminUpdate())},"관리자 정보수정"),i("li",{onClick:t[3]||(t[3]=s=>a.logout())},"로그아웃")])])])]),i("div",W,[i("div",X,[i("div",{class:"company-info",onClick:t[4]||(t[4]=s=>a.goPage("/admin"))}," ADMINISTRATOR "),d(p,{class:"scroll-area",style:D(n.scrollBarStyle)},{default:y(()=>[i("ul",ee,[(l(!0),u(w,null,x(n.menuList,(s,k)=>(l(),u("li",{class:I(["large-menu-item",s.active])},[i("div",{class:"large-menu-box",onClick:h=>a.showMenu(k)},[d(c,{class:"menu-icon",icon:s.icon},null,8,["icon"]),i("span",ie,b(s.name),1),s.active?(l(),_(c,{key:0,class:"icon",icon:"fa-solid fa-angle-up"})):(l(),_(c,{key:1,class:"icon",icon:"fa-solid fa-angle-down"}))],8,te),i("ul",ne,[(l(!0),u(w,null,x(s.subMenuList,(h,U)=>(l(),u("li",{onClick:Le=>a.goSubMenu(k,U),class:I(h.active)},[d(c,{class:"sub-icon",icon:"fa-solid fa-square"}),i("span",null,b(h.name),1)],10,se))),256))])],2))),256))])]),_:1},8,["style"])]),i("div",oe,[n.subMenuTitle?(l(),u("div",ae,[i("span",null,b(n.subMenuTitle),1)])):R("",!0),d(g)])]),le])}const ce=S(G,[["render",re],["__scopeId","data-v-2c955f2d"]]);const ue={name:"AdminLogin",data(){return{uid:"",upass:"",form:null}},created(){window.demo=="demo"&&(this.uid="admin",this.upass="1111")},methods:{uidErrors(e){return e?!0:"아이디를 입력하세요"},upassErrors(e){return e?!0:"비밀번호를 입력하세요"},validate(){if(this.form){const e={adminId:this.uid,adminPw:this.upass};this.emitter.emit("overlay","open"),f.post(V,e,t=>{this.emitter.emit("overlay","hide");let o=t.status,r={};o=="success"?(t.data._token&&(f.csrfToken=t.data._token),r={message:"로그인 되었습니다",doAction:()=>{this.$emit("loginResult",!0)}}):r={message:"잘못된 아이디 또는 비밀번호입니다"},this.emitter.emit("modalOpen",r)})}}}},N=e=>(T("data-v-626d1586"),e=e(),P(),e),de={class:"login-container"},me=N(()=>i("p",{class:"login-title"},"ADMIN LOGIN",-1)),ve={class:"w-full"},fe=N(()=>i("div",{class:"w-full flex flex-row wrap-checkbox justify-between my-1 px-2",style:{"margin-top":"-20px","padding-bottom":"15px"}},[i("div",{class:"flex flex-row items-center"},[i("div",{style:{"padding-left":"10px"}})])],-1)),pe={class:"button-row"};function _e(e,t,o,r,n,a){const c=m("v-text-field"),p=m("v-btn"),g=m("v-form");return l(),u("div",de,[me,d(g,{modelValue:n.form,"onUpdate:modelValue":t[2]||(t[2]=s=>n.form=s),novalidate:"",onSubmit:O(a.validate,["prevent"])},{default:y(()=>[i("div",ve,[d(c,{style:{"border-radius":"5px"},modelValue:n.uid,"onUpdate:modelValue":t[0]||(t[0]=s=>n.uid=s),rules:[a.uidErrors],variant:"outlined",label:"아이디",placeholder:"아이디를 입력해주세요"},null,8,["modelValue","rules"]),d(c,{type:"password",style:{"border-radius":"5px"},variant:"outlined",label:"비밀번호",rules:[a.upassErrors],modelValue:n.upass,"onUpdate:modelValue":t[1]||(t[1]=s=>n.upass=s),placeholder:"비밀번호를 입력해주세요"},null,8,["rules","modelValue"])]),fe,i("div",pe,[d(p,{type:"submit",style:{background:"#000",color:"#fff",height:"47px","border-radius":"5px",width:"100%"}},{default:y(()=>[L(" 로그인 ")]),_:1})])]),_:1},8,["modelValue","onSubmit"])])}const ge=S(ue,[["render",_e],["__scopeId","data-v-626d1586"]]);const he={components:{LAYOUT:ce,LOGIN:ge},data(){return{login:!1}},created(){this.getCsrfToken()},methods:{...A(M,["setSiteEnv"]),getCsrfToken(){f.get($,{},e=>{location.hostname=="localhost"?e.token&&(f.csrfToken=e.token):f.csrfToken=window.csrfToken,this.setSiteEnv(e.siteEnv),e.data&&e.data.id&&(this.login=!0)})},loginActive(e){this.login=e}}};function be(e,t,o,r,n,a){const c=m("LAYOUT"),p=m("LOGIN");return l(),u("div",null,[n.login?(l(),_(c,{key:0})):(l(),_(p,{key:1,onLoginResult:a.loginActive},null,8,["onLoginResult"]))])}const Ie=S(he,[["render",be]]);export{Ie as default};
