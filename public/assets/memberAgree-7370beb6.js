import{a as h,a0 as x,a1 as I}from"./apiService-0aea4262.js";import{Q as E}from"./vue-quill.esm-bundler-54b853e3.js";import{J as k}from"./jquery-d0ecd42c.js";import{U as R}from"./util-c02dbcf9.js";import{_ as w,r as m,o as r,c as d,a as e,F as L,g as A,t as u,d as F,s as p,W as b,e as c,b as v,w as M,k as N,n as S,j as f,p as D,f as q}from"./index-7c0b344a.js";import"./axios-c24e582b.js";const C={components:{QuillEditor:E},data(){return{editor:null,memberList:[{name:"이용약관",use:"yes",id:"use",content:""},{name:"개인정보처리방침",use:"yes",id:"privacy",content:""},{name:"개인정보 수집/동의항목",use:"yes",id:"collect",content:""},{name:"탈퇴안내",use:"yes",id:"out"}],memberRegistTitle:"",agreeId:"",name:"",content:"",use:"yes",serverFlag:!1,editorOption:{placeholder:"내용을 입력하세요",theme:"snow",modules:{toolbar:{container:[[{header:1},{header:2}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"]]}}}}},created(){this.getData()},methods:{onEditorReady(s){this.editor=s},getData(){this.serverFlag||(this.serverFlag=!0,h.post(x,{},s=>{if(this.serverFlag=!1,s.data&&s.data.agrees){const t=s.data.agrees;for(let i of this.memberList)t[i.id]&&(i.use=t[i.id].use,i.content=t[i.id].content)}this.choiceMember(this.memberList[0].id)}))},choiceMember(s){let t={};for(let i of this.memberList)i.id==s?(i.active="active",t=i):i.active="";this.agreeId=t.id,this.memberRegistTitle=t.name,this.use=t.use,setTimeout(()=>{this.$refs.myQuillEditor.setHTML(t.content?t.content:"")},200)},validate(){if(!this.agreeId)return;const s=this.$refs.myQuillEditor.getHTML();if(!R.stripTags(s)){let l={message:"내용을 입력하세요"};this.emitter.emit("modalOpen",l);return}let i={content:s,use:this.use};this.serverFlag||(this.serverFlag=!0,this.emitter.emit("overlay","open"),h.post(I,{agreeType:this.agreeId,data:i},l=>{if(this.serverFlag=!1,this.emitter.emit("overlay","hide"),l.data){for(let n of this.memberList)n.id==this.agreeId&&(n.content=this.content,n.use=this.use);let o={message:this.memberRegistTitle+" 정보가 저장 되었습니다"};this.emitter.emit("modalOpen",o)}}))}},mounted(){},updated(){k(".quill-content-box .ql-editor").css({"min-height":"500px","max-height":"500px"})}},g=s=>(D("data-v-acbafa5a"),s=s(),q(),s),Q={class:"page-container"},V={class:"member-container"},G={class:"member-list"},U=g(()=>e("div",{class:"member-list-header"},[e("div",{class:"member-title",style:{padding:"3px 0 0 0"}},"약관 목록")],-1)),B={class:"member-list-body"},O={class:"main-member"},P={class:"main-li"},z=["onClick"],H={class:"member-regist"},J={key:0},j={class:"member-title"},W={class:"table-ul"},K=g(()=>e("div",{class:"label"}," 사용여부 ",-1)),X={class:"label-input"},Y={class:"radio-box"},Z={class:"quill-content-box",style:{width:"900px"}},$={class:"button-row"};function ee(s,t,i,l,o,n){const _=m("font-awesome-icon"),y=m("quill-editor"),T=m("v-btn");return r(),d("div",Q,[e("div",V,[e("div",G,[U,e("div",B,[(r(!0),d(L,null,A(o.memberList,(a,te)=>(r(),d("ul",O,[e("li",P,[e("div",{class:S("main-data "+a.active)},[e("div",{class:"gname",onClick:se=>n.choiceMember(a.id)},[c(u(a.name)+" ",1),a.use=="yes"?(r(),f(_,{key:0,icon:"fa-solid fa-eye"})):(r(),f(_,{key:1,icon:"fa-solid fa-eye-slash"}))],8,z)],2)])]))),256))])]),e("div",H,[o.agreeId?(r(),d("div",J,[e("div",j,u(o.memberRegistTitle),1),e("form",{novalidate:"",onSubmit:t[2]||(t[2]=F((...a)=>n.validate&&n.validate(...a),["prevent"]))},[e("ul",W,[e("li",null,[K,e("div",X,[e("div",Y,[e("label",null,[p(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=a=>o.use=a),value:"yes"},null,512),[[b,o.use]]),c(" 사용 ")]),e("label",null,[p(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=a=>o.use=a),value:"no"},null,512),[[b,o.use]]),c(" 사용안함 ")])])])])]),e("div",Z,[v(y,{ref:"myQuillEditor",onReady:n.onEditorReady,options:o.editorOption},null,8,["onReady","options"])]),e("div",$,[v(T,{class:"submit-button",type:"submit",style:{width:"250px"}},{default:M(()=>[c(u(o.memberRegistTitle)+" 저장 ",1)]),_:1})])],32)])):N("",!0)])])])}const de=w(C,[["render",ee],["__scopeId","data-v-acbafa5a"]]);export{de as default};
