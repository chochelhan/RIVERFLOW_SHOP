import{e as h,a as v,w as L,x as $,g as w}from"./apiService-6a3981ff.js";import{_ as g,r as p,o as n,c as r,b as f,w as U,j as u,l as C,K as N,i as A,a as s,e as y,t as m,F as I,g as b,n as M,p as D,f as E}from"./index-7c0b344a.js";import{c as O}from"./config-9369631b.js";import{U as S}from"./util-c02dbcf9.js";import"./axios-c24e582b.js";import"./jquery-d0ecd42c.js";const R={name:"mobileIndex",watch:{$route(e,t){if(e.name=="mypageOrderList")switch(t.name){case"mypageOrderListWithRegist":case"mypageOrderDetail":case"mypageClaim":break;default:this.emitter.emit("orderListReload",{});break}}},created(){const e=h.getSession();(!e||!(e!=null&&e.memberInfo))&&this.$router.push("/")}},T={class:"mypage-container"};function B(e,t,i,d,a,c){const l=p("router-view");return n(),r("div",T,[f(l,null,{default:U(({Component:_,route:o})=>[(n(),u(N,{include:"mypageOrderList"},[(n(),u(C(_),{key:o.fullPath}))],1024))]),_:1})])}const F=g(R,[["render",B],["__scopeId","data-v-4ce69e84"]]);const P={name:"pcIndex",computed:{...A(O,["pointName","pointUnit","memberName"])},watch:{$route(e,t){this.menuMove||this.setMenuActive(e.path)},memberName(e){e&&(this.name=e)},pointName(e){let t=0,i="",d={};for(let a of this.orderMenus)a.id=="point"&&(a.name=e,d=a,i=t),t++;i&&(this.orderMenus[i]=d)}},data(){return{levelName:"",name:"",point:0,menuMove:!1,memberInfo:{},orderMenus:[],imgData:{},myMenus:[{name:"회원정보 수정",path:"memberModify",active:""},{name:"배송지 관리",path:"shippingList",active:""}]}},created(){const e=h.getSession();e&&(e!=null&&e.memberInfo)?(this.memberInfo=e.memberInfo,this.orderMenus=[{name:"주문/배송 조회",path:"orderList",active:""},{name:"상품 후기",path:"reviewList",active:""},{name:this.pointName,path:"pointList",active:"",id:"point"}],this.setMenuActive(this.$route.path),this.getMemberData()):this.$router.push("/")},methods:{insertImg(){this.$refs.img.click()},deleteImg(){},imgUpload(){const e=this.$refs.img.files;let t=e.length>0?e[0]:null;this.imgData={isfile:"",file:t,url:URL.createObjectURL(t)},this.$refs.img.value="";const i=new FormData;i.append("image",t),v.postFile(L,i,d=>{})},getMemberData(){v.post($,{},e=>{e.data&&(this.levelName=e.data.gname,this.name=e.data.nick?e.data.nick:e.data.name,this.point=S.numberFormat(e.data.point),e.data.img&&(this.imgData={isfile:"yes",file:null,url:e.data.img}))})},goMypage(e){this.menuMove=!0,this.$router.push("/mypage/"+e);for(let t of this.orderMenus)t.path==e?t.active="active":t.active="";for(let t of this.myMenus)t.path==e?t.active="active":t.active="";setTimeout(()=>{this.menuMove=!1},200)},setMenuActive(e){const t=e.split("/");console.log(t);for(let i of this.orderMenus)i.path==t[2]?i.active="active":i.active="";for(let i of this.myMenus)i.path==t[2]?i.active="active":i.active=""},logOut(){v.post(w,{},e=>{e.status=="success"&&(h.logout(),location.reload())})}}},x=e=>(D("data-v-f721daef"),e=e(),E(),e),V={class:"page-container"},j={class:"mypage-header"},G={class:"navi"},K={class:"mypage-body"},z={class:"mymenu-container"},H={class:"user-box"},W={class:"user-img"},q=["src"],J={class:"level"},Q={class:"user-info-box"},X={class:"name"},Y={class:"point"},Z=x(()=>s("div",{class:"menu-title"},"나의 쇼핑 정보",-1)),ee={class:"menu-ul"},te=["onClick"],se=x(()=>s("div",{class:"menu-title"},"나의 회원 정보",-1)),ie={class:"menu-ul"},oe=["onClick"],ae={class:"main-container"};function ne(e,t,i,d,a,c){const l=p("font-awesome-icon"),_=p("router-view");return n(),r("div",V,[s("div",j,[s("div",G,[s("div",null,[y(" home "),f(l,{class:"icon",icon:"fa-solid fa-angle-right"}),y(" Account ")])])]),s("div",K,[s("input",{type:"file",style:{display:"none"},ref:"img",accept:"image/*",onChange:t[0]||(t[0]=(...o)=>c.imgUpload&&c.imgUpload(...o))},null,544),s("div",z,[s("div",H,[s("div",W,[s("div",{class:"pen-box",onClick:t[1]||(t[1]=o=>c.insertImg())},[f(l,{class:"write-icon",icon:"fa-solid fa-camera"})]),s("div",{class:"img-box",onClick:t[2]||(t[2]=o=>c.insertImg())},[a.imgData.url?(n(),r("img",{key:0,src:a.imgData.url},null,8,q)):(n(),u(l,{key:1,class:"icon",icon:"fa-solid fa-user"}))]),s("div",J,m(a.levelName),1)]),s("div",Q,[s("div",X,m(a.name),1),s("div",Y,m(e.pointName)+" "+m(a.point)+m(e.pointUnit),1),s("div",{class:"logout",onClick:t[3]||(t[3]=o=>c.logOut())},"로그아웃")])]),Z,s("ul",ee,[(n(!0),r(I,null,b(a.orderMenus,o=>(n(),r("li",{key:o.path,class:M(o.active),onClick:k=>c.goMypage(o.path)},m(o.name),11,te))),128))]),se,s("ul",ie,[(n(!0),r(I,null,b(a.myMenus,o=>(n(),r("li",{key:o.path,class:M(o.active),onClick:k=>c.goMypage(o.path)},m(o.name),11,oe))),128))])]),s("div",ae,[f(_)])])])}const ce=g(P,[["render",ne],["__scopeId","data-v-f721daef"]]);const re={components:{mobileIndex:F,pcIndex:ce},data(){return{mobile:!1}},created(){const e=h.getSession();if(e&&(e!=null&&e.memberInfo))this.memberInfo=e.memberInfo;else{this.$router.push("/");return}this.mobile=this.$isMobile()}},le={class:"page-container"};function me(e,t,i,d,a,c){const l=p("mobileIndex"),_=p("pcIndex");return n(),r("div",le,[a.mobile?(n(),u(l,{key:0})):(n(),u(_,{key:1}))])}const ve=g(re,[["render",me],["__scopeId","data-v-efbed426"]]);export{ve as default};
