import{U as L}from"./util-c02dbcf9.js";import{a as A,C as H,D as F,z as Z}from"./apiService-6a3981ff.js";import J from"./reviewRegist-945034a5.js";import{_ as M,r as y,o as c,c as u,e as V,a as e,F as S,g as x,t as h,b as m,w as _,p as B,f as U,i as j,m as N,n as T,d as z,j as w,k}from"./index-7c0b344a.js";import{m as K}from"./mobile-8dd88b05.js";import{c as G}from"./config-9369631b.js";import{J as E}from"./jquery-d0ecd42c.js";import{r as Q}from"./reviewRegist-585dc2db.js";import{d as W}from"./deliveryDialog-79c21960.js";import{p as q}from"./paging-03a5ea24.js";import"./axios-c24e582b.js";const X={props:["oid"],data(){return{serverState:"load",stateText:"",progress:[],carrierName:"",carrierTel:""}},created(){this.getData()},methods:{getData(){A.post(H,{oid:this.oid},s=>{if(s.status=="success")if(s.data=="direct")this.serverState="direct";else if(this.stateText=s.data.ostatus=="DI"?"배송중":"배송완료",this.carrierName=s.data.companyName,this.carrierTel=s.data.companyTel,s.data.stype=="tracker"){if(this.serverState="succ",s.data.trackerList)for(let t of s.data.trackerList)t.date&&(t.time=t.date,t.location=t.position,t.status=t.status,this.progress.push(t))}else{const t=JSON.parse(s.data.trackerList);t.state&&t.progresses?(this.serverState="succ",this.setData(t)):this.serverState="fail"}else{this.hide();let t={message:"배송정보가 존재하지 않습니다"};this.$eventBus.$emit("modalOpen",t)}})},setData(s){for(const t of s.progresses){const i={time:t.time.substring(0,16).replace("T"," "),location:t.location.name,status:t.status.text};this.progress.push(i)}},hide(){this.$emit("hideEvent",{})}}},I=s=>(B("data-v-a3d5d740"),s=s(),U(),s),tt={class:"login-container"},et=I(()=>e("p",{class:"login-title"},"배송 조회",-1)),st={key:0,class:"gray-box"},it={key:1,class:"gray-box"},at=I(()=>e("br",null,null,-1)),ot={key:2,class:"gray-box"},lt={key:3},nt={class:"w-full"},dt={style:{width:"100%"}},ct=I(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"100px"}},"일자"),e("th",null,"위치"),e("th",{style:{width:"100px"}},"배송상태")])],-1)),rt={class:"carrier-box"},ut=I(()=>e("div",{class:"gtitle"},"배송상태",-1)),mt={class:"gvalue"},ht=I(()=>e("div",{class:"gtitle"},"배송업체",-1)),_t={class:"gvalue"},vt=I(()=>e("div",{class:"gtitle"},"연락처",-1)),pt={class:"gvalue"},gt={class:"button-row"},ft=I(()=>e("span",null,"닫기",-1));function bt(s,t,i,n,o,l){const r=y("v-btn");return c(),u("div",tt,[et,o.serverState=="load"?(c(),u("div",st," 서버에서 배송 정보를 가져오는 중입니다 ")):o.serverState=="direct"?(c(),u("div",it,[V(" 죄송합니다"),at,V(" 직접배송 되는 주문은 배송조회 서비스를 제공하지 않습니다 ")])):o.serverState=="fail"?(c(),u("div",ot," 잘못된 배송정보 입니다 ")):(c(),u("div",lt,[e("div",nt,[e("table",dt,[ct,e("tbody",null,[(c(!0),u(S,null,x(o.progress,g=>(c(),u("tr",null,[e("td",null,h(g.time),1),e("td",null,h(g.location),1),e("td",null,h(g.status),1)]))),256))])])]),e("ul",rt,[e("li",null,[ut,e("div",mt,h(o.stateText),1)]),e("li",null,[ht,e("div",_t,h(o.carrierName),1)]),e("li",null,[vt,e("div",pt,h(o.carrierTel),1)])])])),e("div",gt,[m(r,{type:"button",depressed:"",rounded:"",onClick:t[0]||(t[0]=g=>l.hide()),class:"whiteButton"},{default:_(()=>[ft]),_:1})])])}const yt=M(X,[["render",bt],["__scopeId","data-v-a3d5d740"]]);const kt={name:"mobileOrderList",components:{reviewRegist:J,deliveryDialog:yt},watch:{$route(s,t){this.setListView(s.name)},listScrollMore(s){s&&this.handleLoadMore()}},computed:{...j(G,["listScrollMore"])},data(){return{util:L,periodList:[{name:"1주일",code:"week",active:""},{name:"1개월",code:"1mon",active:""},{name:"3개월",code:"3mon",active:""},{name:"전체조회",code:"all",active:""}],vmenu1:!1,vmenu2:!1,stdate:"",endate:"",ostatus:"",orderList:[],statusCount:[{name:"주문전체",code:"all",cnt:0,active:"active"},{name:"미입금",code:"notpay",cnt:0,active:""},{name:"결제완료",code:"income",cnt:0,active:""},{name:"배송준비중",code:"DR",cnt:0,active:""},{name:"배송중",code:"DI",cnt:0,active:""},{name:"배송완료",code:"DC",cnt:0,active:""},{name:"구매확정",code:"OC",cnt:0,active:""},{name:"취소/교환/반품",code:"claim",cnt:0,active:""}],limit:20,page:1,lastPage:"",total:0,claimDialogShow:!1,claimOid:"",deliveryDialogShow:!1,deliveryOid:"",listView:!0,myOderCode:""}},activated(){this.setListView(this.$route.name),sessionStorage.getItem("eventOrderTop")&&setTimeout(()=>{E("html,body").scrollTop(sessionStorage.getItem("eventOrderTop")),sessionStorage.setItem("eventOrderTop","")},50)},deactivated(){},created(){if(this.emitter.on("orderListReload",this.orderListReload),sessionStorage.getItem("myOrderCode")){const s=sessionStorage.getItem("myOrderCode");let t=0;for(let i of this.statusCount){if(i.code==s)break;t++}this.searchOstatus(t)}else this.setPeriod("1mon"),this.getData()},methods:{...N(K,["setClass","setTitle"]),...N(G,["setListScroll","setListScrollMore"]),orderListReload(s){if(this.vmenu1=!1,this.vmenu2=!1,this.stdate="",this.endate="",this.ostatus="",this.orderList=[],this.page=1,this.lastPage="",this.total=0,this.claimDialogShow=!1,this.claimOid="",this.deliveryDialogShow=!1,this.deliveryOid="",this.listView=!0,this.myOderCode="",this.statusCount=[{name:"주문전체",code:"all",cnt:0,active:"active"},{name:"미입금",code:"notpay",cnt:0,active:""},{name:"결제완료",code:"income",cnt:0,active:""},{name:"배송준비중",code:"DR",cnt:0,active:""},{name:"배송중",code:"DI",cnt:0,active:""},{name:"배송완료",code:"DC",cnt:0,active:""},{name:"구매확정",code:"OC",cnt:0,active:""},{name:"취소/교환/반품",code:"claim",cnt:0,active:""}],sessionStorage.getItem("myOrderCode")){const t=sessionStorage.getItem("myOrderCode");let i=0;for(let n of this.statusCount){if(n.code==t)break;i++}this.searchOstatus(i)}else this.setPeriod("1mon"),this.getData()},setListView(s){s=="mypageOrderListWithRegist"?(this.listView=!1,this.setClass("sub"),this.setTitle("상품후기 작성")):(this.listView=!0,this.setClass("productView"),this.setTitle("주문/배송조회"))},setPeriod(s){for(let l of this.periodList)s==l.code?l.active="active":l.active="";const t=new Date;let i=t.getMonth()+1,n=t.getDate();const o=t.getFullYear()+"-"+(i<10?"0"+i:i)+"-"+(n<10?"0"+n:n);switch(this.endate=o,s){case"week":t.setDate(n-7),i=t.getMonth()+1,n=t.getDate(),this.stdate=t.getFullYear()+"-"+(i<10?"0"+i:i)+"-"+(n<10?"0"+n:n);break;case"1mon":t.setMonth(i-1),i=t.getMonth(),n=t.getDate(),this.stdate=t.getFullYear()+"-"+(i<10?"0"+i:i)+"-"+(n<10?"0"+n:n);break;case"3mon":t.setMonth(i-3),i=t.getMonth(),n=t.getDate(),this.stdate=t.getFullYear()+"-"+(i<10?"0"+i:i)+"-"+(n<10?"0"+n:n);break;case"all":this.stdate="",this.endate="";break}},getData(){const s={stdate:this.stdate,endate:this.endate,page:this.page,limit:this.limit,ostatus:this.ostatus};A.post(F,s,t=>{const i=t.data.statusData;let n=0,o=0;for(const l in i){switch(l.substring(0,1)){case"C":case"E":case"F":case"R":n=n+parseInt(i[l]);break}o+=parseInt(i[l])}this.orderList=[];for(let l of this.statusCount)switch(l.code){case"all":l.cnt=L.numberFormat(o);break;case"claim":l.cnt=L.numberFormat(n);break;default:i[l.code]&&(l.cnt=L.numberFormat(i[l.code]));break}this.setDataList(t)})},getDataList(){const s={stdate:this.stdate,endate:this.endate,page:this.page,limit:this.limit,ostatus:this.ostatus};A.post(F,s,t=>{this.setDataList(t)})},setDataList(s){this.total=L.numberFormat(s.data.orderList.total),this.lastPage=s.data.orderList.last_page;for(const t of s.data.orderList.data){let i=[],n="",o="";switch(t.ostatus){case"notpay":case"income":o=s.data.ostatus[t.ostatus];break}let l={},r=!1,g=!1,D=!1,C="",b=!1;for(const a of t.orderProducts){n||(n=a.listImg);let v=a.pname;switch(a.opt_name&&(v+="("+a.opt_name+")"),i.push({name:v,amt:a.oamt}),a.ostatus){case"notpay":case"income":break;default:switch(r=!0,a.ostatus.substring(0,1)){case"C":l[a.ostatus]=s.data.cancleStatus[a.ostatus];break;case"E":l[a.ostatus]=s.data.exchangeStatus[a.ostatus];break;case"F":l[a.ostatus]=s.data.refundStatus[a.ostatus];break;case"R":l[a.ostatus]=s.data.returnStatus[a.ostatus];break;default:switch(l[a.ostatus]=s.data.ostatus[a.ostatus],a.ostatus){case"OC":a.isReview||(C=a.pid,g=!0),b=!0;break;case"DC":D=!0,b=!0;break;case"DI":b=!0;break}break}break}}r&&(o=""),t.deliveryId||(b=!1);let $={orderCode:t.order_code,id:t.id,pid:C,img:n,options:i,price:t.price,ostatus:o,ostatusList:l,reviewAble:g,claimAble:D,deliveryAble:b,created_at:t.created_at.substring(0,10)};this.orderList.push($)}this.page<this.lastPage?(this.setListScroll(!0),this.setListScrollMore(!1)):this.setListScroll(!1)},goClaim(s,t){sessionStorage.setItem("eventOrderTop",E("html,body").scrollTop()),this.$router.push("/mypage/claim/"+s+"/"+t)},claimDialogOpen(s){this.claimOid=s,this.claimDialogShow=!0},claimAction(s){this.goClaim(s,this.claimOid)},searchOstatus(s){const t=this.statusCount[s];for(let i of this.statusCount)t.code==i.code?i.active="active":i.active="";switch(t.code){case"all":this.ostatus="";break;case"claim":this.ostatus="CZ,FZ,RZ,EZ";break;default:this.ostatus=t.code;break}this.setPeriod("1mon"),this.page=1,this.getData()},search(){this.page=1,this.getData()},reviewRegist(s){s.pid&&this.$router.push("/mypage/orderList/reviewRegist/"+s.id+"/"+s.pid)},goOrderDetail(s){sessionStorage.setItem("eventOrderTop",E("html,body").scrollTop()),this.$router.push("/mypage/orderDetail/"+s)},goDeliveryPage(s){this.deliveryOid=s,this.deliveryDialogShow=!0},orderComplete(s){const t={id:s.id};this.emitter.emit("overlay","open"),A.post(Z,t,i=>{if(this.emitter.emit("overlay","hide"),i.status=="success"){this.getData(1);let n={message:"구매확정 되었습니다"};this.emitter.emit("modalOpen",n)}})},handleLoadMore(){this.page<this.lastPage&&(this.page++,this.getDataList())}}},O=s=>(B("data-v-221172ba"),s=s(),U(),s),wt={class:"mypage-container"},Dt={key:0},Ct={class:"order-status"},St={class:"progress-ul"},xt=["onClick"],Lt={class:"name"},Ot={class:"count"},Rt={class:"search-box"},$t={class:"period"},Vt={class:"search-input"},It={class:"select-box"},At={style:{width:"160px"}},Tt=O(()=>e("div",{style:{width:"10px","text-align":"center","line-height":"50px",height:"50px"}},"~ ",-1)),Mt={style:{width:"160px"}},Pt={class:"button-box"},Et=O(()=>e("span",null,"검색",-1)),Ft={class:"order-box"},Bt={class:"order-body"},Ut={class:"order-code"},Yt={class:"rdate"},Nt={class:"order-info-box"},Gt=["onClick"],Zt=["src"],zt=["onClick"],Ht={class:"info-ul"},Jt={class:"amt"},jt={class:"price"},Kt={class:"status-box"},Qt={key:0,class:"status"},Wt={class:"button-box"},qt=O(()=>e("span",null,"주문취소",-1)),Xt={key:1,class:"status-list"},te={key:0,class:"button-box"},ee=O(()=>e("span",null,"구매확정",-1)),se=O(()=>e("span",null,"교환/반품",-1)),ie=O(()=>e("span",null,"후기작성",-1)),ae={key:1,class:"button-box"},oe={class:"modal-box"},le={class:"modal-title"},ne=O(()=>e("div",{class:"modal-desc"},"교환요청 또는 반품요청을 선택하세요",-1)),de={class:"modal-button"},ce=O(()=>e("span",null,"교환요청",-1)),re=O(()=>e("span",null,"반품요청",-1));function ue(s,t,i,n,o,l){const r=y("v-btn"),g=y("v-text-field"),D=y("font-awesome-icon"),C=y("deliveryDialog"),b=y("v-dialog"),$=y("router-view");return c(),u("div",wt,[o.listView?(c(),u("div",Dt,[e("div",Ct,[e("ul",St,[(c(!0),u(S,null,x(o.statusCount,(a,v)=>(c(),u("li",null,[e("div",{class:T("status-box "+a.active),onClick:d=>l.searchOstatus(v)},[e("div",Lt,h(a.name),1),e("div",Ot,h(a.cnt),1)],10,xt)]))),256))])]),e("form",{novalidate:"",onSubmit:t[2]||(t[2]=z((...a)=>l.search&&l.search(...a),["prevent"]))},[e("div",Rt,[e("ul",$t,[(c(!0),u(S,null,x(o.periodList,a=>(c(),u("li",{class:T(a.active),key:a.code},[m(r,{variant:"outlined",rounded:"",onClick:v=>l.setPeriod(a.code),class:"whiteButton"},{default:_(()=>[e("span",null,h(a.name),1)]),_:2},1032,["onClick"])],2))),128))]),e("div",Vt,[e("div",It,[e("div",At,[m(g,{rounded:"",type:"date",modelValue:o.stdate,"onUpdate:modelValue":t[0]||(t[0]=a=>o.stdate=a),density:"compact",variant:"outlined"},null,8,["modelValue"])]),Tt,e("div",Mt,[m(g,{rounded:"",type:"date",density:"compact",variant:"outlined",modelValue:o.endate,"onUpdate:modelValue":t[1]||(t[1]=a=>o.endate=a)},null,8,["modelValue"])])])]),e("div",Pt,[m(r,{variant:"outlined",type:"submit",rounded:"",class:"whiteButton"},{default:_(()=>[m(D,{class:"icon",icon:"fa-solid fa-magnifying-glass"}),Et]),_:1})])])],32),e("div",Ft,[e("ul",Bt,[(c(!0),u(S,null,x(o.orderList,a=>(c(),u("li",null,[e("div",Ut,[e("span",null,"주문번호 "+h(a.orderCode),1),e("span",Yt,h(a.created_at),1)]),e("div",Nt,[e("div",{class:"img-box",onClick:v=>l.goOrderDetail(a.id)},[e("img",{src:a.img},null,8,Zt)],8,Gt),e("div",{class:"product-info",onClick:v=>l.goOrderDetail(a.id)},[e("ul",Ht,[(c(!0),u(S,null,x(a.options,v=>(c(),u("li",null,[V(h(v.name)+" ",1),e("span",Jt,h(v.amt)+"개",1)]))),256))]),e("div",jt,h(o.util.numberFormat(a.price))+"원 ",1)],8,zt),e("div",Kt,[a.ostatus?(c(),u("div",Qt,[V(h(a.ostatus)+" ",1),e("div",Wt,[m(r,{class:"whiteButton",onClick:v=>l.goClaim("CR",a.id),rounded:"",variant:"outlined"},{default:_(()=>[qt]),_:2},1032,["onClick"])])])):(c(),u("div",Xt,[e("ul",null,[(c(!0),u(S,null,x(a.ostatusList,(v,d)=>(c(),u("li",null,h(v),1))),256))]),a.reviewAble||a.claimAble?(c(),u("div",te,[a.claimAble?(c(),w(r,{key:0,class:"blackButton",rounded:"",variant:"outlined",onClick:v=>l.orderComplete(a)},{default:_(()=>[ee]),_:2},1032,["onClick"])):k("",!0),a.claimAble?(c(),w(r,{key:1,class:"whiteButton",rounded:"",variant:"outlined",onClick:v=>l.claimDialogOpen(a.id)},{default:_(()=>[se]),_:2},1032,["onClick"])):k("",!0),a.reviewAble?(c(),w(r,{key:2,class:"blackButton",onClick:v=>l.reviewRegist(a),rounded:"",variant:"outlined"},{default:_(()=>[ie]),_:2},1032,["onClick"])):k("",!0)])):k("",!0),a.deliveryAble?(c(),u("div",ae)):k("",!0)]))])])]))),256))])]),m(b,{modelValue:o.deliveryDialogShow,"onUpdate:modelValue":t[4]||(t[4]=a=>o.deliveryDialogShow=a),width:"600",persistent:"",style:{"z-index":"100"}},{default:_(()=>[o.deliveryDialogShow?(c(),w(C,{key:0,onHideEvent:t[3]||(t[3]=a=>o.deliveryDialogShow=!1),oid:o.deliveryOid},null,8,["oid"])):k("",!0)]),_:1},8,["modelValue"]),m(b,{modelValue:o.claimDialogShow,"onUpdate:modelValue":t[8]||(t[8]=a=>o.claimDialogShow=a),width:"350",style:{"z-index":"100"}},{default:_(()=>[e("div",oe,[e("div",le,[V(" 교환/반품 "),m(D,{class:"icon",onClick:t[5]||(t[5]=a=>o.claimDialogShow=!1),icon:"fa-solid fa-xmark"})]),ne,e("div",de,[m(r,{class:"whiteButton",rounded:"",variant:"outlined",onClick:t[6]||(t[6]=a=>l.claimAction("ER"))},{default:_(()=>[ce]),_:1}),m(r,{onClick:t[7]||(t[7]=a=>l.claimAction("RR")),class:"blackButton",rounded:"",variant:"outlined"},{default:_(()=>[re]),_:1})])])]),_:1},8,["modelValue"])])):(c(),w($,{key:1}))])}const me=M(kt,[["render",ue],["__scopeId","data-v-221172ba"]]);const he={name:"pcOrderList",components:{reviewRegist:Q,deliveryDialog:W,paging:q},data(){return{form:null,util:L,periodList:[{name:"1주일",code:"week",active:""},{name:"1개월",code:"1mon",active:""},{name:"3개월",code:"3mon",active:""},{name:"전체조회",code:"all",active:""}],stdate:"",endate:"",ostatus:"",orderList:[],statusCount:[{name:"주문전체",code:"all",cnt:0,active:"active"},{name:"미입금",code:"notpay",cnt:0,active:""},{name:"결제완료",code:"income",cnt:0,active:""},{name:"배송준비중",code:"DR",cnt:0,active:""},{name:"배송중",code:"DI",cnt:0,active:""},{name:"배송완료",code:"DC",cnt:0,active:""},{name:"구매확정",code:"OC",cnt:0,active:""},{name:"취소/교환/반품",code:"claim",cnt:0,active:""}],limit:2,page:1,paging:{},total:0,pageGroup:10,pagingReload:!1,claimDialogShow:!1,claimOid:"",reviewRegistData:{},reviewRegistShow:!1,deliveryDialogShow:!1,deliveryOid:""}},created(){this.setPeriod("all"),this.getData(1)},methods:{setPeriod(s){for(let l of this.periodList)s==l.code?l.active="active":l.active="";const t=new Date;let i=t.getMonth()+1,n=t.getDate();const o=t.getFullYear()+"-"+(i<10?"0"+i:i)+"-"+(n<10?"0"+n:n);switch(this.endate=o,s){case"week":t.setDate(n-7),i=t.getMonth()+1,n=t.getDate(),this.stdate=t.getFullYear()+"-"+(i<10?"0"+i:i)+"-"+(n<10?"0"+n:n);break;case"1mon":t.setMonth(i-1),i=t.getMonth(),n=t.getDate(),this.stdate=t.getFullYear()+"-"+(i<10?"0"+i:i)+"-"+(n<10?"0"+n:n);break;case"3mon":t.setMonth(i-3),i=t.getMonth(),n=t.getDate(),this.stdate=t.getFullYear()+"-"+(i<10?"0"+i:i)+"-"+(n<10?"0"+n:n);break;case"all":this.stdate="",this.endate="";break}},pageMode(s){this.getData(s.page)},getData(s){const t={stdate:this.stdate,endate:this.endate,page:s,limit:this.limit,ostatus:this.ostatus};A.post(F,t,i=>{const n=i.data.statusData;let o=0,l=0;for(const r in n){switch(r.substring(0,1)){case"C":case"E":case"F":case"R":o=o+parseInt(n[r]);break}l+=parseInt(n[r])}this.orderList=[];for(let r of this.statusCount)switch(r.code){case"all":r.cnt=L.numberFormat(l);break;case"claim":r.cnt=L.numberFormat(o);break;default:n[r.code]&&(r.cnt=L.numberFormat(n[r.code]));break}this.paging=i.data.orderList,this.pagingReload=!0,setTimeout(()=>{this.pagingReload=!1},100),this.total=L.numberFormat(i.data.orderList.total);for(const r of i.data.orderList.data){let g=[],D="",C="";switch(r.ostatus){case"notpay":case"income":C=i.data.ostatus[r.ostatus];break}let b={},$=!1,a=!1,v=!1,d="",f=!1;for(const p of r.orderProducts){D||(D=p.listImg);let Y=p.pname;switch(p.opt_name&&(Y+="("+p.opt_name+")"),g.push({name:Y,amt:p.oamt}),p.ostatus){case"notpay":case"income":break;default:switch($=!0,p.ostatus.substring(0,1)){case"C":b[p.ostatus]=i.data.cancleStatus[p.ostatus];break;case"E":b[p.ostatus]=i.data.exchangeStatus[p.ostatus];break;case"F":b[p.ostatus]=i.data.refundStatus[p.ostatus];break;case"R":b[p.ostatus]=i.data.returnStatus[p.ostatus];break;default:switch(b[p.ostatus]=i.data.ostatus[p.ostatus],p.ostatus){case"OC":p.isReview||(d=p.pid,a=!0),f=!0;break;case"DC":v=!0,f=!0;break;case"DI":f=!0;break}break}break}}$&&(C=""),r.deliveryId||(f=!1);let P={orderCode:r.order_code,id:r.id,pid:d,img:D,options:g,price:r.price,ostatus:C,ostatusList:b,reviewAble:a,claimAble:v,deliveryAble:f};this.orderList.push(P)}})},goClaim(s,t){this.$router.push("/mypage/claim/"+s+"/"+t)},claimDialogOpen(s){this.claimOid=s,this.claimDialogShow=!0},claimAction(s){this.goClaim(s,this.claimOid)},searchOstatus(s){const t=this.statusCount[s];for(let i of this.statusCount)t.code==i.code?i.active="active":i.active="";switch(t.code){case"all":this.ostatus="";break;case"claim":this.ostatus="CZ,FZ,RZ,EZ";break;default:this.ostatus=t.code;break}this.setPeriod("all"),this.getData(1)},search(){this.getData(1)},reviewRegist(s){s.pid&&(this.reviewRegistData={oid:s.id,pid:s.pid},this.reviewRegistShow=!0)},saveReviewRegist(){this.reviewRegistShow=!1,this.getData(1)},goOrderDetail(s){this.$router.push("/mypage/orderDetail/"+s)},goDeliveryPage(s){this.deliveryOid=s,this.deliveryDialogShow=!0},orderComplete(s){const t={id:s.id};this.emitter.emit("overlay","open"),A.post(Z,t,i=>{if(this.emitter.emit("overlay","hide"),i.status=="success"){this.getData(1);let n={message:"구매확정 되었습니다"};this.emitter.emit("modalOpen",n)}})}}},R=s=>(B("data-v-27999fe9"),s=s(),U(),s),_e={class:"mypage-container"},ve={class:"search-box"},pe={class:"period"},ge={class:"select-box"},fe={style:{width:"160px"}},be=R(()=>e("div",{style:{width:"30px","text-align":"center","line-height":"50px",height:"50px"}},"~ ",-1)),ye={style:{width:"160px"}},ke={class:"button-box"},we=R(()=>e("span",null,"조회하기",-1)),De={class:"order-box"},Ce={class:"order-header"},Se={class:"progress-ul"},xe=["onClick"],Le={class:"name"},Oe={class:"count"},Re={class:"order-body"},$e=["onClick"],Ve=["src"],Ie=["onClick"],Ae={class:"order-code"},Te={class:"info-ul"},Me={class:"amt"},Pe={class:"price"},Ee={class:"status-box"},Fe={key:0,class:"status"},Be={class:"button-box"},Ue=R(()=>e("span",null,"주문취소",-1)),Ye={key:1,class:"status-list"},Ne={key:0,class:"button-box"},Ge=R(()=>e("span",null,"구매확정",-1)),Ze=R(()=>e("span",null,"교환/반품",-1)),ze=R(()=>e("span",null,"후기작성",-1)),He={key:1,class:"button-box"},Je={class:"modal-box"},je={class:"modal-title"},Ke=R(()=>e("div",{class:"modal-desc"},"교환요청 또는 반품요청을 선택하세요",-1)),Qe={class:"modal-button"},We=R(()=>e("span",null,"교환요청",-1)),qe=R(()=>e("span",null,"반품요청",-1));function Xe(s,t,i,n,o,l){const r=y("v-btn"),g=y("v-text-field"),D=y("v-form"),C=y("font-awesome-icon"),b=y("paging"),$=y("reviewRegist"),a=y("v-dialog"),v=y("deliveryDialog");return c(),u("div",_e,[m(D,{modelValue:o.form,"onUpdate:modelValue":t[2]||(t[2]=d=>o.form=d),novalidate:"",onSubmit:z(l.search,["prevent"])},{default:_(()=>[e("div",ve,[e("ul",pe,[(c(!0),u(S,null,x(o.periodList,d=>(c(),u("li",{class:T(d.active),key:d.code},[m(r,{variant:"outlined",rounded:"",onClick:f=>l.setPeriod(d.code),class:"whiteButton"},{default:_(()=>[e("span",null,h(d.name),1)]),_:2},1032,["onClick"])],2))),128))]),e("div",ge,[e("div",fe,[m(g,{rounded:"",type:"date",modelValue:o.stdate,"onUpdate:modelValue":t[0]||(t[0]=d=>o.stdate=d),density:"compact",variant:"outlined"},null,8,["modelValue"])]),be,e("div",ye,[m(g,{rounded:"",type:"date",density:"compact",variant:"outlined",modelValue:o.endate,"onUpdate:modelValue":t[1]||(t[1]=d=>o.endate=d)},null,8,["modelValue"])])]),e("div",ke,[m(r,{variant:"outlined",type:"submit",rounded:"",class:"blackButton"},{default:_(()=>[we]),_:1})])])]),_:1},8,["modelValue","onSubmit"]),e("div",De,[e("div",Ce,[e("ul",Se,[(c(!0),u(S,null,x(o.statusCount,(d,f)=>(c(),u("li",null,[e("div",{class:T("status-box "+d.active),onClick:P=>l.searchOstatus(f)},[e("div",Le,h(d.name),1),e("div",Oe,h(d.cnt),1)],10,xe),d.code!="claim"?(c(),u("div",{key:0,class:T("icon-box "+d.code)},[d.code!="OC"&&d.code!="all"?(c(),w(C,{key:0,class:"icon",icon:"fa-solid fa-angle-right"})):k("",!0)],2)):k("",!0)]))),256))])]),e("ul",Re,[(c(!0),u(S,null,x(o.orderList,d=>(c(),u("li",null,[e("div",{class:"img-box",onClick:f=>l.goOrderDetail(d.id)},[e("img",{src:d.img},null,8,Ve)],8,$e),e("div",{class:"product-info",onClick:f=>l.goOrderDetail(d.id)},[e("div",Ae,"주문번호 "+h(d.orderCode),1),e("ul",Te,[(c(!0),u(S,null,x(d.options,f=>(c(),u("li",null,[V(h(f.name)+" ",1),e("span",Me,h(f.amt)+"개",1)]))),256))]),e("div",Pe,h(o.util.numberFormat(d.price))+"원 ",1)],8,Ie),e("div",Ee,[d.ostatus?(c(),u("div",Fe,[V(h(d.ostatus)+" ",1),e("div",Be,[m(r,{class:"whiteButton",onClick:f=>l.goClaim("CR",d.id),rounded:"",variant:"outlined"},{default:_(()=>[Ue]),_:2},1032,["onClick"])])])):(c(),u("div",Ye,[e("ul",null,[(c(!0),u(S,null,x(d.ostatusList,(f,P)=>(c(),u("li",null,h(f),1))),256))]),d.reviewAble||d.claimAble?(c(),u("div",Ne,[d.claimAble?(c(),w(r,{key:0,class:"blackButton",rounded:"",variant:"outlined",onClick:f=>l.orderComplete(d)},{default:_(()=>[Ge]),_:2},1032,["onClick"])):k("",!0),d.claimAble?(c(),w(r,{key:1,class:"whiteButton",rounded:"",variant:"outlined",onClick:f=>l.claimDialogOpen(d.id)},{default:_(()=>[Ze]),_:2},1032,["onClick"])):k("",!0),d.reviewAble?(c(),w(r,{key:2,class:"blackButton",onClick:f=>l.reviewRegist(d),rounded:"",variant:"outlined"},{default:_(()=>[ze]),_:2},1032,["onClick"])):k("",!0)])):k("",!0),d.deliveryAble?(c(),u("div",He)):k("",!0)]))])]))),256))]),m(b,{paging:o.paging,pageGroup:o.pageGroup,reload:o.pagingReload,onPageMove:l.pageMode},null,8,["paging","pageGroup","reload","onPageMove"])]),m(a,{modelValue:o.reviewRegistShow,"onUpdate:modelValue":t[4]||(t[4]=d=>o.reviewRegistShow=d),width:"600",persistent:"",style:{"z-index":"100"}},{default:_(()=>[o.reviewRegistShow?(c(),w($,{key:0,onHideEvent:t[3]||(t[3]=d=>o.reviewRegistShow=!1),onSaveRegist:l.saveReviewRegist,registData:o.reviewRegistData},null,8,["onSaveRegist","registData"])):k("",!0)]),_:1},8,["modelValue"]),m(a,{modelValue:o.deliveryDialogShow,"onUpdate:modelValue":t[6]||(t[6]=d=>o.deliveryDialogShow=d),width:"800",persistent:"",style:{"z-index":"100"}},{default:_(()=>[o.deliveryDialogShow?(c(),w(v,{key:0,onHideEvent:t[5]||(t[5]=d=>o.deliveryDialogShow=!1),oid:o.deliveryOid},null,8,["oid"])):k("",!0)]),_:1},8,["modelValue"]),m(a,{modelValue:o.claimDialogShow,"onUpdate:modelValue":t[10]||(t[10]=d=>o.claimDialogShow=d),width:"350",style:{"z-index":"100"}},{default:_(()=>[e("div",Je,[e("div",je,[V(" 교환/반품 "),m(C,{class:"icon",onClick:t[7]||(t[7]=d=>o.claimDialogShow=!1),icon:"fa-solid fa-xmark"})]),Ke,e("div",Qe,[m(r,{class:"whiteButton",rounded:"",variant:"outlined",onClick:t[8]||(t[8]=d=>l.claimAction("ER"))},{default:_(()=>[We]),_:1}),m(r,{onClick:t[9]||(t[9]=d=>l.claimAction("RR")),class:"blackButton",rounded:"",variant:"outlined"},{default:_(()=>[qe]),_:1})])])]),_:1},8,["modelValue"])])}const ts=M(he,[["render",Xe],["__scopeId","data-v-27999fe9"]]);const es={name:"mypageOrderList",components:{mobileOrderList:me,pcOrderList:ts},data(){return{mobile:!1}},created(){this.mobile=this.$isMobile()}},ss={class:"page-container"};function is(s,t,i,n,o,l){const r=y("mobileOrderList"),g=y("pcOrderList");return c(),u("div",ss,[o.mobile?(c(),w(r,{key:0})):(c(),w(g,{key:1}))])}const ps=M(es,[["render",is],["__scopeId","data-v-2731f2cd"]]);export{ps as default};
