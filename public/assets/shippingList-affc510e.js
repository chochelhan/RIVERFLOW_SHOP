import{a as y,O as L,P as V,Q as T}from"./apiService-6a3981ff.js";import{m as N,_ as k,r as c,o as d,c as a,a as e,b as p,w as f,k as S,F as P,g as C,t as r,e as v,j as w,d as D,s as E,v as F,p as U,f as R}from"./index-7c0b344a.js";import{m as O}from"./mobile-8dd88b05.js";import"./axios-c24e582b.js";const B={name:"mobileShippingList",watch:{$route(t,i){this.setListView(t.name)}},data(){return{shippingList:[],listView:!0}},created(){this.setListView(this.$route.name),this.getData()},methods:{...N(O,["setClass","setTitle"]),setListView(t){t=="mypageShippingListWithRegist"?(this.listView=!1,this.setClass("sub"),this.setTitle("배송지 추가")):(this.listView=!0,this.setClass("productView"),this.setTitle("배송지 관리"))},getData(){y.post(L,{},t=>{this.shippingList=[];for(const i of t.data)this.shippingList.push(i)})},updateItem(t){const i=this.shippingList[t];this.$router.push("/mypage/shippingList/regist/"+i.id)},deleteItem(t){const i=this.shippingList[t];let l={type:"confirm",message:"배송지를 삭제하시겠습니까?",doAction:()=>{this.deleteAction(i.id)}};this.emitter.emit("modalOpen",l)},deleteAction(t){this.serverFlag||(this.emitter.emit("overlay","open"),this.serverFlag=!0,y.post(V,{id:t},i=>{this.emitter.emit("overlay","hide"),this.serverFlag=!1,this.getData();const l={message:"배송지 정보를 삭제 하였습니다"};this.emitter.emit("modalOpen",l)}))},registShippingOpen(){this.$router.push("/mypage/shippingList/regist/new")}}},z={class:"mypage-container"},j={key:0},G={class:"write-button"},M={class:"order-box"},Z={class:"list-table"},H={key:0,style:{height:"100px",padding:"0","text-align":"center",display:"block","line-height":"100px"}},$={class:"info-box"},W={class:"title-box"},Y={style:{"font-size":"14px","font-weight":"bold","margin-right":"20px"}},Q={key:0,class:"check"},q={style:{"text-align":"left","line-height":"150%"}},J={class:"button-box"},K=["onClick"],X=["onClick"];function ee(t,i,l,m,n,o){const u=c("font-awesome-icon"),b=c("v-btn"),_=c("router-view");return d(),a("div",z,[n.listView?(d(),a("div",j,[e("div",G,[p(b,{class:"blackButton",depressed:"",rounded:"",onClick:i[0]||(i[0]=h=>o.registShippingOpen())},{default:f(()=>[p(u,{icon:"fa-solid fa-pen"})]),_:1})]),e("div",M,[e("ul",Z,[n.shippingList.length<1?(d(),a("li",H,"등록된 배송지가 없습니다 ")):S("",!0),(d(!0),a(P,null,C(n.shippingList,(h,x)=>(d(),a("li",null,[e("div",$,[e("div",W,[e("div",Y,r(h.title),1),h.defaultShipping=="yes"?(d(),a("div",Q,[p(u,{style:{"font-size":"18px",color:"#000"},icon:"fa-solid fa-check"}),v(" 기본배송지 ")])):S("",!0)]),e("div",q,[e("div",null,r(h.rname)+" "+r(h.rpcs),1),v(" ("+r(h.rpost)+") "+r(h.raddr1)+" "+r(h.raddr2),1)])]),e("div",J,[e("span",{class:"underline-text",onClick:s=>o.updateItem(x)},"수정",8,K),e("span",{class:"underline-text",onClick:s=>o.deleteItem(x)},"삭제",8,X)])]))),256))])])])):(d(),w(_,{key:1}))])}const ie=k(B,[["render",ee],["__scopeId","data-v-2644e1dc"]]);const te={name:"pcShippingList",data(){return{form:null,registShow:!1,shippingList:[],shippingId:"",shippingTitle:"",shippingName:"",shippingZip:"",shippingAddr1:"",shippingAddr2:"",shippingPcs:"",shippingPcsError:!1,jibunAddr1:"",defaultShipping:!1,shippingRegTitle:"추가",serverFlag:!1}},created(){this.getData()},methods:{getData(){y.post(L,{},t=>{this.shippingList=[];for(const i of t.data)this.shippingList.push(i)})},updateItem(t){this.shippingRegTitle="수정";const i=this.shippingList[t];this.shippingId=i.id,this.shippingTitle=i.title,this.shippingName=i.rname,this.shippingAddr1=i.raddr1,this.shippingZip=i.rpost,this.shippingAddr2=i.raddr2,this.shippingPcs=i.rpcs,i.defaultShipping=="yes"?this.defaultShipping=!0:this.defaultShipping=!1,this.registShow=!0},deleteItem(t){const i=this.shippingList[t];let l={type:"confirm",message:"배송지를 삭제하시겠습니까?",doAction:()=>{this.deleteAction(i.id)}};this.emitter.emit("modalOpen",l)},deleteAction(t){this.serverFlag||(this.emitter.emit("overlay","open"),this.serverFlag=!0,y.post(V,{id:t},i=>{this.emitter.emit("overlay","hide"),this.serverFlag=!1,this.getData();const l={message:"배송지 정보를 삭제 하였습니다"};this.emitter.emit("modalOpen",l)}))},registShippingOpen(){this.shippingRegTitle="추가",this.shippingTitle="",this.shippingZip="",this.shippingId="",this.defaultShipping=!1,this.shippingName="",this.shippingAddr1="",this.shippingAddr2="",this.shippingPcs="",this.registShow=!0},validate(){if(!this.serverFlag&&this.form){if(this.shippingPcsError)return;let t={id:"",title:this.shippingTitle,jibunAddr:this.jibunAddr1,defaultShipping:this.defaultShipping?"yes":"no",rname:this.shippingName,rpcs:this.shippingPcs,raddr1:this.shippingAddr1,raddr2:this.shippingAddr2,rpost:this.shippingZip};this.shippingId&&(t.id=this.shippingId),this.emitter.emit("overlay","open"),this.serverFlag=!0,y.post(T,t,i=>{this.emitter.emit("overlay","hide"),this.serverFlag=!1,this.registShow=!1,this.getData();const l={message:"배송지 정보를 "+this.shippingRegTitle+" 하였습니다"};this.emitter.emit("modalOpen",l)})}},showDaumAddress(){const t=this.$refs.wrap,i=Math.max(document.body.scrollTop,document.documentElement.scrollTop);new window.daum.Postcode({oncomplete:l=>{let m="";l.userSelectedType==="R"?m=l.roadAddress:m=l.jibunAddress,this.shippingZip=l.zonecode,this.shippingAddr1=m,this.jibunAddr1=l.jibunAddress,t.style.display="none",document.body.scrollTop=i},onresize:function(l){},width:"100%",height:"100%"}).embed(t),t.style.display="block"},foldDaumPostcode(){const t=this.$refs.wrap;t.style.display="none"},shippingTitleCheck(){return this.shippingTitle?!0:"배송지명을 입력하세요"},shippingNameCheck(){return this.shippingName?!0:"수령인을 입력하세요"},shippingAddr1Check(){return this.shippingAddr1?!0:"주소를 입력하세요"},shippingAddr2Check(){return this.shippingAddr2?!0:"상세주소를 입력하세요"},shippingPcsCheck(){if(this.shippingPcs){let t=this.shippingPcs.toString().replace(/-/gi,"");if(this.shippingPcsError=!0,isNaN(t))return"휴대폰번호는 숫자만 입력가능합니다";{let i=t.substr(0,3),l=t.substr(3,4),m=t.substr(7,4);if(t.length>3&&t.length<8)this.shippingPcs=i+"-"+l;else if(t.length>=8&&t.length<=11)this.shippingPcs=i+"-"+l+"-"+m,this.shippingPcsError=!1;else if(t.length>11)return"잘못된 휴대폰번호 입니다"}return!0}else return"연락처를 입력하세요"},registShippingHide(){this.registShow=!1}}},g=t=>(U("data-v-133989db"),t=t(),R(),t),se={class:"mypage-container"},ne={ref:"wrap",id:"daumFrame"},le={class:"title-box"},oe=g(()=>e("div",{class:"stitle"},"배송지 목록",-1)),pe=g(()=>e("span",null,"배송지 추가",-1)),de={class:"order-box"},re={class:"list-table",cellspacing:"0",cellpadding:"0"},he=g(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"100px"}},"기본배송지"),e("th",{style:{width:"150px"}},"배송지명"),e("th",{style:{width:"100px"}},"수령인"),e("th",null,"주소"),e("th",{style:{width:"100px"}},"관리")])],-1)),ae={style:{"text-align":"left","padding-left":"10px","line-height":"150%"}},ce=["onClick"],ue=["onClick"],ge={style:{"background-color":"#fff",padding:"40px"}},me={class:"info-title",style:{"padding-bottom":"30px"}},_e={class:"shipping-info"},fe=g(()=>e("div",{class:"label"},[v(" 배송지명"),e("span",null,"*")],-1)),ve={class:"field-box"},be=g(()=>e("div",{class:"label"},[v(" 수령인"),e("span",null,"*")],-1)),ye={class:"field-box"},xe=g(()=>e("div",{class:"label"},[v(" 주소"),e("span",null,"*")],-1)),we={class:"field-box"},Se={class:"flex-area"},ke=g(()=>e("span",null,"우편번호 검색",-1)),Ae=g(()=>e("div",{class:"label"},[v(" 연락처"),e("span",null,"*")],-1)),Le={class:"field-box"},Ve={class:"shipping-checkbox"},Pe={style:{"font-weight":"bold",cursor:"pointer"}},Ce={class:"button-row"},Ie=g(()=>e("span",null,"취소",-1));function Te(t,i,l,m,n,o){const u=c("v-btn"),b=c("font-awesome-icon"),_=c("v-text-field"),h=c("v-form"),x=c("v-dialog");return d(),a("div",se,[e("div",ne,[e("img",{src:"//t1.daumcdn.net/postcode/resource/images/close.png",id:"btnFoldWrap",style:{cursor:"pointer",position:"absolute",right:"0px",top:"-1px","z-index":"1"},onClick:i[0]||(i[0]=(...s)=>o.foldDaumPostcode&&o.foldDaumPostcode(...s)),alt:"접기 버튼"})],512),e("div",le,[oe,p(u,{class:"whiteButton",onClick:i[1]||(i[1]=s=>o.registShippingOpen()),rounded:"",variant:"outlined"},{default:f(()=>[pe]),_:1})]),e("div",de,[e("table",re,[he,e("tbody",null,[(d(!0),a(P,null,C(n.shippingList,(s,A)=>(d(),a("tr",null,[e("td",null,[s.defaultShipping=="yes"?(d(),w(b,{key:0,style:{"font-size":"18px",color:"#000"},icon:"fa-solid fa-check"})):S("",!0)]),e("td",null,r(s.title),1),e("td",null,r(s.rname),1),e("td",ae," ("+r(s.rpost)+") "+r(s.raddr1)+" "+r(s.raddr2),1),e("td",null,[e("span",{class:"underline-text",onClick:I=>o.updateItem(A)},"수정",8,ce),e("span",{class:"underline-text",onClick:I=>o.deleteItem(A)},"삭제",8,ue)])]))),256))])])]),p(x,{modelValue:n.registShow,"onUpdate:modelValue":i[12]||(i[12]=s=>n.registShow=s),width:"600",persistent:"",style:{"z-index":"100"}},{default:f(()=>[e("div",ge,[e("div",me,"배송지 "+r(n.shippingRegTitle),1),p(h,{modelValue:n.form,"onUpdate:modelValue":i[11]||(i[11]=s=>n.form=s),class:"order-form",novalidate:"",onSubmit:D(o.validate,["prevent"])},{default:f(()=>[e("ul",_e,[e("li",null,[fe,e("div",ve,[p(_,{modelValue:n.shippingTitle,"onUpdate:modelValue":i[2]||(i[2]=s=>n.shippingTitle=s),ref:"shippingTitle",rules:[o.shippingTitleCheck],placeholder:"배송지명",rounded:"",variant:"outlined"},null,8,["modelValue","rules"])])]),e("li",null,[be,e("div",ye,[p(_,{modelValue:n.shippingName,"onUpdate:modelValue":i[3]||(i[3]=s=>n.shippingName=s),ref:"shippingName",rules:[o.shippingNameCheck],placeholder:"수령인 이름",rounded:"",variant:"outlined"},null,8,["modelValue","rules"])])]),e("li",null,[xe,e("div",we,[e("div",Se,[p(_,{modelValue:n.shippingZip,"onUpdate:modelValue":i[4]||(i[4]=s=>n.shippingZip=s),placeholder:"우편번호",readonly:!0,rounded:"",variant:"outlined"},null,8,["modelValue"]),p(u,{class:"blackButton",type:"button",onClick:i[5]||(i[5]=s=>o.showDaumAddress()),variant:"outlined",rounded:""},{default:f(()=>[ke]),_:1})]),p(_,{modelValue:n.shippingAddr1,"onUpdate:modelValue":i[6]||(i[6]=s=>n.shippingAddr1=s),ref:"shippingAddr1",rules:[o.shippingAddr1Check],readonly:!0,placeholder:"주소를 입력하세요",rounded:"",variant:"outlined"},null,8,["modelValue","rules"]),p(_,{modelValue:n.shippingAddr2,"onUpdate:modelValue":i[7]||(i[7]=s=>n.shippingAddr2=s),ref:"shippingAddr2",rules:[o.shippingAddr2Check],placeholder:"상세주소를 입력하세요",rounded:"",variant:"outlined"},null,8,["modelValue","rules"])])]),e("li",null,[Ae,e("div",Le,[p(_,{modelValue:n.shippingPcs,"onUpdate:modelValue":i[8]||(i[8]=s=>n.shippingPcs=s),ref:"shippingPcs",rules:[o.shippingPcsCheck],placeholder:"휴대폰번호를 입력하세요",rounded:"",variant:"outlined"},null,8,["modelValue","rules"])])])]),e("div",Ve,[e("label",Pe,[E(e("input",{type:"checkbox","onUpdate:modelValue":i[9]||(i[9]=s=>n.defaultShipping=s)},null,512),[[F,n.defaultShipping]]),v(" 기본 배송지로 등록 ")])]),e("div",Ce,[p(u,{class:"whiteButton",onClick:i[10]||(i[10]=s=>o.registShippingHide()),rounded:"",variant:"outlined"},{default:f(()=>[Ie]),_:1}),p(u,{class:"blackButton",type:"submit",rounded:"",variant:"outlined"},{default:f(()=>[e("span",null,"배송지 "+r(n.shippingRegTitle),1)]),_:1})])]),_:1},8,["modelValue","onSubmit"])])]),_:1},8,["modelValue"])])}const Ne=k(te,[["render",Te],["__scopeId","data-v-133989db"]]);const De={components:{mobileShippingList:ie,pcShippingList:Ne},data(){return{mobile:!1}},created(){this.mobile=this.$isMobile()}},Ee={class:"page-container"};function Fe(t,i,l,m,n,o){const u=c("mobileShippingList"),b=c("pcShippingList");return d(),a("div",Ee,[n.mobile?(d(),w(u,{key:0})):(d(),w(b,{key:1}))])}const ze=k(De,[["render",Fe],["__scopeId","data-v-0861f77f"]]);export{ze as default};
