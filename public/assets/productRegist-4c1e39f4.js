import{a as M,Q as J,af as Z,ag as tt,ah as et,ai as st,aj as it}from"./apiService-0aea4262.js";import{J as K}from"./jquery-331624d0.js";import{_ as j}from"./style-b89010d1.js";import{U as x}from"./util-5fdb7bcf.js";import{_ as P,r as b,o as r,c as d,a as t,d as u,w as L,F as w,b as E,n as F,t as _,e as I,g as m,S as B,q as S,v as z,p as U,f as V,j as $,u as Q,s as q,W as k}from"./index-e9ed42ea.js";import{Q as W}from"./vue-quill.esm-bundler-7d17deec.js";import{P as ot}from"./productComponentList-5f3e492f.js";import"./axios-c24e582b.js";import"./shopTable-d56388e3.js";const nt={name:"productRegistBase",components:{CustomScrollbar:j},props:["baseData","productInfo","getDataSign"],computed:{form(){return{pname:this.pname}}},watch:{getDataSign(s){if(s){const e=this.getBaseData();this.$emit("getBaseData",{data:e})}},serviceType(s){this.$emit("serviceTypeEvent",{data:s})}},data(){return{categoryList:[],categoryListNames:{},subCategoryList:[],subSubCategoryList:[],brandList:[],brandId:"",pname:"",keyword:"",serviceType:"normal",selectCategoryList:[],tempSelectedCategory:{main:"",sub:"",subSub:""},platform:["pc","mw"],categoryError:!1,platformError:!1,description:""}},created(){this.setData()},methods:{setData(){var s;this.categoryList=[],this.categoryListNames={};for(let e of this.baseData.categoryList)if(e.active="",this.categoryList.push(e),this.categoryListNames[e.id]=e.cname,e.subList){for(let n of e.subList)if(this.categoryListNames[n.id]=n.cname,n.subList)for(let o of n.subList)this.categoryListNames[o.id]=o.cname}this.brandList=[];for(let e of this.baseData.brandList)e.active="",this.brandList.push(e);(s=this.productInfo)!=null&&s.id&&this.setProductInfo()},setProductInfo(){this.pname=this.productInfo.pname,this.serviceType=this.productInfo.serviceType,this.keyword=this.productInfo.keyword!="null"?this.productInfo.keyword:"",this.productInfo.brandId&&this.setBrand(this.productInfo.brandId),this.description=this.productInfo.description?this.productInfo.description:"",this.selectCategoryList=[];for(let s=1;s<=5;s++)if(this.productInfo["category"+s]){let e=this.productInfo["category"+s].split(","),n={main:e[0]};e[1]&&(n.sub=e[1]),e[2]&&(n.subSub=e[2]),this.checkIsCategory(n)&&this.selectCategoryList.push(n)}this.productInfo.platform&&(this.platform=this.productInfo.platform.split(","))},checkIsCategory(s){let e=!1;for(let n of this.categoryList)if(s.main==n.id)if(n.subList&&n.subList.length>0){for(let o of n.subList)if(s.sub==o.id)if(o.subList&&o.subList.length>0)for(let i of o.subList)s.subSub==i.id&&(e=!0);else e=!0}else e=!0;return e},setCategory(s){let e=0,n=0;switch(s.depth){case 1:for(let o of this.categoryList)s.id==o.id?(o.active="active",e=n):o.active="",n++;if(this.tempSelectedCategory={main:s.id,sub:"",subSub:""},this.subCategoryList=[],this.subSubCategoryList=[],this.categoryList[e].subList&&this.categoryList[e].subList.length>0)for(let o of this.categoryList[e].subList)o.active="",this.subCategoryList.push(o);else this.checkSelectCategory()&&this.selectCategoryList.push(this.tempSelectedCategory);break;case 2:for(let o of this.subCategoryList)s.id==o.id?(o.active="active",e=n):o.active="",n++;if(this.tempSelectedCategory.sub=s.id,this.tempSelectedCategory.subSub="",this.subSubCategoryList=[],this.subCategoryList[e].subList&&this.subCategoryList[e].subList.length>0)for(let o of this.subCategoryList[e].subList)o.active="",this.subSubCategoryList.push(o);else this.checkSelectCategory()&&this.selectCategoryList.push(this.tempSelectedCategory);break;case 3:this.tempSelectedCategory.subSub=s.id;for(let o of this.subSubCategoryList)s.id==o.id?o.active="active":o.active="",this.$set(this.subSubCategoryList,n,o),n++;this.checkSelectCategory()&&this.selectCategoryList.push(this.tempSelectedCategory);break}},checkSelectCategory(){let s=!1,e=this.tempSelectedCategory.main+"|"+(this.tempSelectedCategory.sub?this.tempSelectedCategory.sub:"")+"|"+(this.tempSelectedCategory.subSub?this.tempSelectedCategory.subSub:"");for(let n of this.selectCategoryList)if(n.main+"|"+(n.sub?n.sub:"")+"|"+(n.subSub?n.subSub:"")==e){s=!0;break}if(s)return!1;if(this.selectCategoryList.length>2){let n={message:"카테고리는 최대 3개 까지 추가할수 있습니다"};return this.$eventBus.$emit("modalOpen",n),!1}return!0},deleteCategory(s){this.selectCategoryList.splice(s,1)},setBrand(s){this.brandId=s;for(let e of this.brandList)s==e.id?e.active="active":e.active=""},deleteConfirm(s,e,n,o,i){const a={type:"confirm",message:"선택된 카테고리을 삭제하시겠습니까?",doAction:()=>{this.deleteAction(s,e,n,o,i)}};this.$eventBus.$emit("modalOpen",a)},reload(){this.categoryList=[],this.categoryListNames={},this.subCategoryList=[],this.subSubCategoryList=[],this.brandList=[],this.brandId="",this.pname="",this.keyword="",this.serviceType="normal",this.description="",this.selectCategoryList=[],this.tempSelectedCategory={main:"",sub:"",subSub:""},this.platform=["pc","mw"],this.categoryError=!1,this.platformError=!1},getBaseData(){if(this.selectCategoryList.length<1)return x.errorPosition("base","#error-posi-category",()=>{this.categoryError=!0}),!1;let s=!1;if(Object.keys(this.form).forEach(e=>{this.$refs[e].validate()||(this.$refs[e].validate(!0),s=!0)}),s){x.errorPosition("base","#error-posi-pname",()=>{});return}return this.platform.length<1?(x.errorPosition("base","#error-posi-platform",()=>{this.platformError=!0}),!1):{brandId:this.brandId,pname:this.pname,keyword:this.keyword,serviceType:this.serviceType,selectCategoryList:this.selectCategoryList,platform:this.platform,description:this.description}}}},N=s=>(U("data-v-d554e35c"),s=s(),V(),s),lt={class:"product-regist"},rt=N(()=>t("div",{class:"product-title"},"기본정보",-1)),at={class:"product-form"},dt={class:"table-regist",cellspacing:"0",cellpadding:"0",border:"0"},ct=N(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("카테고리")],-1)),pt={id:"error-posi-category"},ut={class:"category-box"},ht={class:"category-ul"},mt=["onClick"],ft={class:"cname"},gt={key:0,class:"arrow-icon"},_t={class:"category-ul"},yt=["onClick"],xt={class:"cname"},It={key:0,class:"arrow-icon"},bt={class:"category-ul"},vt=["onClick"],Lt={class:"cname"},Dt={class:"category-result"},St=N(()=>t("div",{class:"label"},"선택된 카테고리",-1)),Ot={class:"selected-category-ul"},kt={key:0},wt={key:1},Et={key:0,class:"error-message"},Tt=N(()=>t("span",{class:"required-icon"},"*",-1)),Nt={style:{"font-size":"12px"}},Pt=N(()=>t("span",null," SEO(구글 검색엔진이 정보를 읽어들일수 있도록 하는 기능)에서 meta title 에 들어가는 내용이 됩니다 ",-1)),At={id:"error-posi-pname"},Ct={class:"input-box"},Ut=N(()=>t("th",null,"브랜드",-1)),Vt={class:"category-box brand-box"},Rt={class:"category-ul"},$t=["onClick"],Mt={class:"cname"},Ft=N(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("플랫폼별 노출설정")],-1)),qt={id:"error-posi-platform"},Gt={class:"radio-box",style:{display:"flex","max-height":"55px"}},Bt=N(()=>t("div",{style:{width:"20px"}},null,-1)),zt={key:0,class:"error-message"},Yt={style:{"font-size":"12px"}},Ht=N(()=>t("span",null," SEO(구글 검색엔진이 정보를 읽어들일수 있도록 하는 기능)에서 meta keyword 에 들어가는 내용이 됩니다 ",-1)),Jt={class:"input-box",style:{"min-height":"58px"}},Kt=N(()=>t("div",{class:"tip"}," ' , ' 로 구분하여 등록해주세요 ",-1)),jt={style:{"font-size":"12px"}},Qt=N(()=>t("span",null," SEO(구글 검색엔진이 정보를 읽어들일수 있도록 하는 기능)에서 meta description 에 들어가는 내용이 됩니다 ",-1)),Wt={class:"input-box",style:{"max-width":"800px",width:"800px"}};function Xt(s,e,n,o,i,a){const h=b("font-awesome-icon"),g=b("custom-scrollbar"),y=b("v-btn"),f=b("v-tooltip"),p=b("v-text-field");return r(),d("div",lt,[rt,t("div",at,[t("table",dt,[t("tbody",null,[t("tr",null,[ct,t("td",pt,[t("div",ut,[u(g,{class:"scroll-area"},{default:L(()=>[t("ul",ht,[(r(!0),d(w,null,E(i.categoryList,c=>(r(),d("li",{key:c.id,onClick:l=>a.setCategory(c),class:F(c.active)},[t("span",ft,_(c.cname),1),c.subList&&c.subList.length>0?(r(),d("span",gt,[u(h,{icon:"fa-solid fa-angle-right"})])):I("",!0)],10,mt))),128))])]),_:1}),u(g,{class:"scroll-area"},{default:L(()=>[t("ul",_t,[(r(!0),d(w,null,E(i.subCategoryList,c=>(r(),d("li",{key:c.id,onClick:l=>a.setCategory(c),class:F(c.active)},[t("span",xt,_(c.cname),1),c.subList&&c.subList.length>0?(r(),d("span",It,[u(h,{icon:"fa-solid fa-angle-right"})])):I("",!0)],10,yt))),128))])]),_:1}),u(g,{class:"scroll-area"},{default:L(()=>[t("ul",bt,[(r(!0),d(w,null,E(i.subSubCategoryList,c=>(r(),d("li",{key:c.id,onClick:l=>a.setCategory(c),class:F(c.active)},[t("span",Lt,_(c.cname),1)],10,vt))),128))])]),_:1})]),t("div",Dt,[St,t("ul",Ot,[(r(!0),d(w,null,E(i.selectCategoryList,(c,l)=>(r(),d("li",null,[t("span",null,_(i.categoryListNames[c.main]),1),c.sub?(r(),d("span",kt,[u(h,{icon:"fa-solid fa-angle-right"}),m(" "+_(i.categoryListNames[c.sub]),1)])):I("",!0),c.subSub?(r(),d("span",wt,[u(h,{icon:"fa-solid fa-angle-right"}),m(" "+_(i.categoryListNames[c.subSub]),1)])):I("",!0),t("span",null,[u(y,{class:"white-button small-btn",style:{"font-size":"11px"},onClick:D=>a.deleteCategory(l),depressed:""},{default:L(()=>[m("삭제")]),_:2},1032,["onClick"])])]))),256))]),i.categoryError&&i.selectCategoryList.length<1?(r(),d("div",Et," 카테고리를 선택하세요 ")):I("",!0)])])]),t("tr",null,[t("th",null,[Tt,m("상품명 "),t("div",Nt,[m("부가기능: meta title "),u(f,{bottom:""},{activator:L(({props:c})=>[u(h,B(c,{class:"icon",icon:"fa-solid fa-circle-question"}),null,16)]),default:L(()=>[Pt]),_:1})])]),t("td",At,[t("div",Ct,[u(p,{modelValue:i.pname,"onUpdate:modelValue":e[0]||(e[0]=c=>i.pname=c),density:"compact",variant:"outlined",ref:"pname",rules:[()=>!!i.pname||"상품명을 입력하세요"],placeholder:"상품명을 입력해주세요"},null,8,["modelValue","rules"])])])]),t("tr",null,[Ut,t("td",null,[t("div",Vt,[u(g,{class:"scroll-area",style:{height:"150px"}},{default:L(()=>[t("ul",Rt,[(r(!0),d(w,null,E(i.brandList,c=>(r(),d("li",{key:c.id,onClick:l=>a.setBrand(c.id),class:F(c.active)},[t("span",Mt,_(c.bname),1)],10,$t))),128))])]),_:1})])])]),t("tr",null,[Ft,t("td",qt,[t("div",Gt,[t("label",null,[S(t("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=c=>i.platform=c),value:"pc"},null,512),[[z,i.platform]]),m(" PC ")]),Bt,t("label",null,[S(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=c=>i.platform=c),value:"mw"},null,512),[[z,i.platform]]),m(" 모바일 웹 ")]),i.platformError&&i.platform.length<1?(r(),d("div",zt,"플랫폼별 노출설정을 선택하세요 ")):I("",!0)])])]),t("tr",null,[t("th",null,[m("검색어 "),t("div",Yt,[m("부가기능: meta keyword "),u(f,{bottom:""},{activator:L(({props:c})=>[u(h,B(c,{class:"icon",icon:"fa-solid fa-circle-question"}),null,16)]),default:L(()=>[Ht]),_:1})])]),t("td",null,[t("div",Jt,[u(p,{modelValue:i.keyword,"onUpdate:modelValue":e[3]||(e[3]=c=>i.keyword=c),density:"compact",variant:"outlined",placeholder:"검색어를 입력해주세요"},null,8,["modelValue"]),Kt])])]),t("tr",null,[t("th",null,[m("상품 간략설명 "),t("div",jt,[m("부가기능: meta description "),u(f,{bottom:""},{activator:L(({props:c})=>[u(h,B(c,{class:"icon",icon:"fa-solid fa-circle-question"}),null,16)]),default:L(()=>[Qt]),_:1})])]),t("td",null,[t("div",Wt,[u(p,{modelValue:i.description,"onUpdate:modelValue":e[4]||(e[4]=c=>i.description=c),density:"compact",variant:"outlined",maxLength:"80",placeholder:"상품간략설명를 입력해주세요"},null,8,["modelValue"])])])])])])])])}const Zt=P(nt,[["render",Xt],["__scopeId","data-v-d554e35c"]]);const te={props:["productId","baseProductId","isOptionInfo","orgOptionList"],data(){return{util:x,update:!1,tempOptionList:[],optionTypeList:[{title:"단독형",value:"single"},{title:"조합형",value:"multi"}],optionUseList:[{title:"Y",value:"Y"},{title:"N",value:"N"}],optionTypeTitle:"단독형",optionType:"single",multiOptionList:[],multiOptionNames:[],baseOptionId:"newOption",multiWidth:"",singleOptionList:[],resultSingleRequired:"",updateInitCheck:!1,amtDisabled:!1,refreshStep:0,optionRemove:!1,tempOptionShow:!0,updateOrgResultSingleRequired:"",buttonTitle:"생성"}},watch:{optionType(s){s=="single"?this.optionTypeTitle="단독형":this.optionTypeTitle="조합형",this.multiOptionList=[],this.multiOptionNames=[],this.multiWidth="",this.singleOptionList=[],this.resultSingleRequired="",this.updateInitCheck&&this.setIsOption()},resultSingleRequired(s){this.requiredOptionChange(s)}},created(){this.productId!=this.baseProductId&&(this.update=!0,this.buttonTitle="수정",this.setIsOptionType())},methods:{setIsOptionType(){this.tempOptionShow=!1,this.optionType=this.isOptionInfo.type,this.optionType=="single"?this.setIsSingleOption():this.updateInitCheck=!0},requiredOptionChange(s){for(let e in this.singleOptionList){let n=this.singleOptionList[e];s==e+"req"?n.required="Y":n.required="N"}},setIsSingleOption(){this.tempOptionList=[];for(let s of this.isOptionInfo.optionList){let e=[];for(let o of s.subList)e.push({code:o.code,subname:o.name,nameError:!1,subprice:o.price,priceError:!1,priceErrorMessage:"",subdcprice:o.dcprice,dcpriceError:!1,dcpriceErrorMessage:"",subamt:o.amt,amtError:""});let n={name:s.name,error:!1,errorMessage:"",subList:e};this.tempOptionList.push(n)}this.setOption(),this.amtDisabled=!0},setIsOption(){this.updateInitCheck=!1,this.tempOptionList=[];for(let s of this.isOptionInfo.singleOptionList){let e=[];for(let o of s.subList)e.push({code:o.code,subname:o.name,nameError:!1,subprice:o.price,priceError:!1,priceErrorMessage:"",subdcprice:o.dcprice,dcpriceError:!1,dcpriceErrorMessage:"",subamt:o.amt,amtError:""});let n={name:s.name,error:!1,errorMessage:"",subList:e};this.tempOptionList.push(n)}this.setOption(),this.amtDisabled=!0},ruleTempName(s){return s?!0:"옵션명을 입력해주세요"},ruleTempSubName(s){return s?!0:"옵션내용을 입력해주세요"},ruleTempSubPrice(s,e,n){const o=this.tempOptionList[e].subList[n];if(s){const i=x.price(s);if(!i)o.priceError=!0,o.priceErrorMessage="금액은 숫자만 입력가능합니다",this.tempOptionList[e].subList[n]=o;else if(o.priceError=!1,o.subdcprice&&o.subdcprice!=0){const a=o.subdcprice.toString().replace(/,/gi,"");o.subprice=i;const h=s.toString().replace(/,/gi,"");parseInt(h)<=parseInt(a)?(o.priceError=!0,o.priceErrorMessage="가격은 할인가보다 커야합니다",this.tempOptionList[e].subList[n]=o):(o.dcpriceErrorMessage="",o.dcpriceError=!1,o.priceError=!1,o.priceErrorMessage="",this.tempOptionList[e].subList[n]=o)}else o.subprice=i,o.priceErrorMessage="",this.tempOptionList[e].subList[n]=o}else o.subprice=0,o.priceError=!1,this.tempOptionList[e].subList[n]=o},ruleTempSubDcPrice(s,e,n){const o=this.tempOptionList[e].subList[n];if(s){const i=x.price(s);if(!i)o.dcpriceError=!0,o.dcpriceErrorMessage="금액은 숫자만 입력가능합니다",this.tempOptionList[e].subList[n]=o;else if(o.dcpriceError=!1,o.subdcprice=i,o.subprice&&o.subprice!=0){const a=o.subprice.toString().replace(/,/gi,""),h=s.toString().replace(/,/gi,"");parseInt(a)<=parseInt(h)?(o.dcpriceError=!0,o.dcpriceErrorMessage="할인가는 가격보다 작아야합니다",this.tempOptionList[e].subList[n]=o):(o.priceError=!1,o.dcpriceErrorMessage="",this.tempOptionList[e].subList[n]=o)}else o.dcpriceError=!0,o.dcpriceErrorMessage="할인가는 가격보다 작아야합니다",this.tempOptionList[e].subList[n]=o}else o.subdcprice=0,o.dcpriceErrorMessage="",o.dcpriceError=!1,this.tempOptionList[e].subList[n]=o},addTempOption(){if(this.update){const s={type:"confirm",message:"옵션추가시 고객의 장바구니 상품들은 삭제되고 재고는 0부터 시작됩니다",doAction:()=>{this.refreshStep=1,this.doAddTempOption()}};this.emitter.emit("modalOpen",s)}else this.doAddTempOption()},doAddTempOption(){if(this.tempOptionList.length>4){let n={message:"옵션은 최대5개 까지 입력가능합니다"};this.emitter.emit("modalOpen",n);return}let e={name:"",error:!0,subList:[{subname:"",nameError:!0,subprice:0,priceError:!1,priceErrorMessage:"",subdcprice:0,dcpriceError:!1,dcpriceErrorMessage:"",subamt:0,amtError:""}]};this.tempOptionList.push(e)},deleteTempOption(s){if(this.update){const e={type:"confirm",message:"옵션삭제시 고객의 장바구니 상품들은 삭제되고 재고는 0부터 시작됩니다",doAction:()=>{this.refreshStep=1,this.doDeleteTempOption(s)}};this.emitter.emit("modalOpen",e)}else this.doDeleteTempOption(s)},doDeleteTempOption(s){this.tempOptionList.splice(s,1)},deleteTempOptionSubList(s,e){if(this.update){const n={type:"confirm",message:"옵션삭제시 고객의 장바구니 상품들은 삭제되고 재고는 0부터 시작됩니다",doAction:()=>{this.refreshStep=1,this.doDeleteTempOptionSubList(s,e)}};this.emitter.emit("modalOpen",n)}else this.doDeleteTempOptionSubList(s,e)},doDeleteTempOptionSubList(s,e){this.tempOptionList[s].subList.splice(e,1)},addSubOption(s){if(this.update){const e={type:"confirm",message:"내용추가시 고객의 장바구니 상품들은 삭제되고 재고는 0부터 시작됩니다",doAction:()=>{this.refreshStep=1,this.doAddSubOption(s)}};this.emitter.emit("modalOpen",e)}else this.doAddSubOption(s)},doAddSubOption(s){let e={subname:"",nameError:!0,subprice:0,priceError:!1,subdcprice:0,dcpriceError:!1,subamt:0,amtError:""};this.tempOptionList[s].subList.push(e)},setOption(){this.resultSingleRequired="",this.setSingleOption()&&(this.optionType=="multi"&&this.setMultiOption(),this.tempOptionShow=!1)},setSingleOption(){if(!this.tempOptionValidate())return!1;this.refreshStep==1&&(this.optionRemove=!0,this.amtDisabled=!1);let s=0;this.singleOptionList=[];for(let e of this.tempOptionList){let n=[];for(let i of e.subList){let a=s+"_"+Math.floor(Math.random()*1e3);!this.optionRemove&&i.code&&(a=i.code);let h={code:a,name:i.subname,price:i.subprice,dcprice:i.subdcprice,amt:0,amtError:"",addAmt:0,addAmtError:!1,status:"soldout",use:"Y",amtErrorMessage:"",addAmtErrorMessage:""};n.push(h)}let o={required:"N",name:e.name,subList:n};this.singleOptionList.push(o),s++}if(this.optionType=="single"&&this.update&&!this.optionRemove){let e=0;for(let n of this.singleOptionList){console.log(n,"-----");const o=this.isOptionInfo.optionList[e];o&&o.required=="Y"&&(n.required="Y",this.resultSingleRequired=e+"req",this.updateOrgResultSingleRequired=e+"req"),e++;for(let i of n.subList)if(this.orgOptionList[i.code]){let a=this.orgOptionList[i.code];i.id=a.id,i.amt=a.amt,i.use=a.use,i.status=a.amt>0?"sale":"solodout"}}}return!0},setMultiOption(){this.multiOptionList=[],this.multiOptionNames=[];for(let s of this.singleOptionList)this.multiOptionNames.push(s.name);this.multiWidth=100/this.singleOptionList.length+"%";for(let s of this.singleOptionList[0].subList){let e={price:0,dcprice:0,amt:0,status:"soldout",use:"Y",optNames:[],amtError:"",addAmt:0,addAmtError:!1,amtErrorMessage:"",addAmtErrorMessage:""},n=0;s.price&&parseInt(s.price)>0&&(n=parseInt(s.price.replace(/,/gi,"")));let o=s.dcprice&&parseInt(s.dcprice)>0?parseInt(s.dcprice.replace(/,/gi,"")):0;if(this.singleOptionList[1])for(let i of this.singleOptionList[1].subList){let a=0;i.price&&parseInt(i.price)>0&&(a=parseInt(i.price.replace(/,/gi,"")));let h=i.dcprice&&parseInt(i.dcprice)>0?parseInt(i.dcprice.replace(/,/gi,"")):0;if(this.singleOptionList[2])for(let g of this.singleOptionList[2].subList){let y=0;g.price&&parseInt(g.price)>0&&(y=parseInt(g.price.replace(/,/gi,"")));let f=g.dcprice&&parseInt(g.dcprice)>0?parseInt(g.dcprice.replace(/,/gi,"")):0;if(this.singleOptionList[3])for(let p of this.singleOptionList[3].subList){let c=0;p.price&&parseInt(p.price)>0&&(c=parseInt(p.price.replace(/,/gi,"")));let l=p.dcprice&&parseInt(p.dcprice)?parseInt(p.dcprice.replace(/,/gi,"")):0;if(this.singleOptionList[4])for(let D of this.singleOptionList[4].subList){let v=D.price&&parseInt(D.price)>0?parseInt(D.price.replace(/,/gi,"")):0,R=D.dcprice&&parseInt(D.dcprice)>0?parseInt(D.dcprice.replace(/,/gi,"")):0;e.code=s.code+"-"+i.code+"-"+g.code+"-"+p.code+"-"+D.code,e.optNames.push(s.name),e.optNames.push(i.name),e.optNames.push(g.name),e.optNames.push(p.name),e.optNames.push(D.name),e.price=x.numberFormat(n+a+y+c+v),e.dcprice=x.numberFormat(o+h+f+l+R),this.multiOptionList.push(e),e={price:0,dcprice:0,amt:0,status:"soldout",use:"Y",optNames:[],amtError:"",addAmt:0,addAmtError:!1,amtErrorMessage:"",addAmtErrorMessage:""}}else e.code=s.code+"-"+i.code+"-"+g.code+"-"+p.code,e.optNames.push(s.name),e.optNames.push(i.name),e.optNames.push(g.name),e.optNames.push(p.name),e.price=x.numberFormat(n+a+y+c),e.dcprice=x.numberFormat(o+h+f+l),this.multiOptionList.push(e),e={price:0,dcprice:0,amt:0,status:"soldout",use:"Y",optNames:[],amtError:"",addAmt:0,addAmtError:!1,amtErrorMessage:"",addAmtErrorMessage:""}}else e.code=s.code+"-"+i.code+"-"+g.code,e.optNames.push(s.name),e.optNames.push(i.name),e.optNames.push(g.name),e.price=x.numberFormat(n+a+y),e.dcprice=x.numberFormat(o+h+f),this.multiOptionList.push(e),e={price:0,dcprice:0,amt:0,status:"soldout",use:"Y",optNames:[],amtError:"",addAmt:0,addAmtError:!1,amtErrorMessage:"",addAmtErrorMessage:""}}else e.code=s.code+"-"+i.code,e.optNames.push(s.name),e.optNames.push(i.name),e.price=x.numberFormat(n+a),e.dcprice=x.numberFormat(o+h),this.multiOptionList.push(e),e={price:0,dcprice:0,amt:0,status:"soldout",use:"Y",optNames:[],amtError:"",addAmt:0,addAmtError:!1,amtErrorMessage:"",addAmtErrorMessage:""}}else e.code=s.code,e.optNames.push(s.name),e.price=x.numberFormat(n),e.dcprice=x.numberFormat(o),this.multiOptionList.push(e)}for(let s of this.multiOptionList)if(this.update&&this.orgOptionList[s.code]&&!this.optionRemove){let e=this.orgOptionList[s.code];s.id=e.id,s.amt=e.amt,s.use=e.use,s.status=e.amt>0?"sale":"solodout"}},tempOptionValidate(){let s=!1;for(let e of this.tempOptionList){e.name||(s=!0,e.nameError="옵션명을 입력해주세요");for(let n of e.subList)n.subname||(s=!0),n.priceError&&(s=!0),n.dcpriceError&&(s=!0)}return!s},ruleSingleAddAmt(s,e,n){let o=this.singleOptionList[e].subList[n];if(s){const i=x.price(s);i?(o.status="sale",o.addAmtError=!1,o.addAmt=i,o.addAmtErrorMessage="",this.singleOptionList[e].subList[n]=o):(o.addAmtError=!0,o.addAmtErrorMessage="숫자만가능",this.singleOptionList[e].subList[n]=o)}else o.amt?o.status="sale":o.status="soldout",o.addAmt=0,o.addAmtError=!1,o.addAmtErrorMessage="",this.singleOptionList[e].subList[n]=o},ruleSingleAmt(s,e,n){let o=this.singleOptionList[e].subList[n];if(s){const i=x.price(s);i?(o.amtError=!1,o.amt=i,o.status="sale",o.amtErrorMessage="",this.singleOptionList[e].subList[n]=o):(o.amtError=!0,o.amtErrorMessage="숫자만가능",this.singleOptionList[e].subList[n]=o)}else o.status="soldout",o.amt=0,o.amtError=!1,o.amtErrorMessage="",this.singleOptionList[e].subList[n]=o},ruleMultiAddAmt(s,e){let n=this.multiOptionList[e];if(s){const o=x.price(s);o?(n.status="sale",n.addAmtError=!1,n.addAmt=o,n.addAmtErrorMessage="",this.multiOptionList[e]=n):(n.addAmtError=!0,n.addAmtErrorMessage="숫자만가능",this.multiOptionList[e]=n)}else n.amt?n.status="sale":n.status="soldout",n.addAmt=0,n.addAmtError=!1,n.addAmtErrorMessage="",this.multiOptionList[e]=n},ruleMultiAmt(s,e){let n=this.multiOptionList[e];if(s){const o=x.price(s);o?(n.status="sale",n.amtError=!1,n.amt=o,n.amtErrorMessage="",this.multiOptionList[e]=n):(n.amtError=!0,n.amtErrorMessage="숫자만가능",this.multiOptionList[e]=n)}else n.status="soldout",n.amt=0,n.amtError=!1,n.amtErrorMessage="",this.multiOptionList[e]=n},optionCancle(){this.$emit("optionDialogHide")},optionSave(){let s=!1,e=[];if(this.optionType=="single"){if(this.singleOptionList.length<1){let n={message:"단독형 옵션을 생성하세요"};this.emitter.emit("modalOpen",n);return}for(let n of this.singleOptionList)for(let o of n.subList)if(o.amtError||o.addAmtError)return;s=!0,e=this.singleOptionList}else{if(this.multiOptionList.length<1){let n={message:"조합형 옵션을 생성하세요"};this.emitter.emit("modalOpen",n);return}for(let n of this.multiOptionList)if(n.amtError||n.addAmtError)return;s=!0,e=this.multiOptionList}if(s){let n={optionType:this.optionType,optionData:e,singleOptionList:this.singleOptionList,width:this.multiWidth,optionNames:this.multiOptionNames,optionRemove:this.optionRemove};this.$emit("optionSave",n)}}}},O=s=>(U("data-v-053d035e"),s=s(),V(),s),ee={class:"option-container"},se={class:"option-regist"},ie=O(()=>t("div",{class:"option-title"},[t("br"),m(" 조합형 옵션 선택시 모든 옵션값은 필수옵션이 되고,재고가 있고 사용가능한 옵션중 가장 낮은 금액이 상품의 가격, 가장 많은 재고가 상품의 재고에 적용됩니다"),t("br"),m(" 단독형 옵션중 필수옵션은 상품의 가격과 재고에 적용됩니다 ")],-1)),oe={key:0,class:"option-form"},ne={class:"sub-title"},le={class:"left-item"},re=O(()=>t("span",{class:"small-text",style:{"margin-left":"10px"}},"옵현정보 입력형태",-1)),ae={style:{display:"inline-block","max-width":"120px","margin-left":"15px",position:"relative",top:"10px"}},de=O(()=>t("span",null,"옵션 추가",-1)),ce=O(()=>t("div",null,null,-1)),pe={class:"option-box"},ue={class:"option-card-ul"},he={class:"option-card-li"},me={class:"card-header"},fe={class:"input-box"},ge={key:0,class:"add-box"},_e=O(()=>t("span",null,"내용 추가",-1)),ye={key:1,class:"del-box"},xe=O(()=>t("span",null,"삭제",-1)),Ie={class:"card-body"},be={class:"table-list",cellspacing:"0",cellpadding:"0",border:"0"},ve=O(()=>t("th",{style:{"min-width":"450px",width:"450px"}},"내용",-1)),Le=O(()=>t("th",null,"가격",-1)),De=O(()=>t("th",null,"즉시 할인가",-1)),Se={key:0,style:{width:"150px","max-width":"150px"}},Oe={class:"list-input-box"},ke={class:"list-input-box price"},we={class:"list-input-box price"},Ee={key:0,style:{"text-align":"center"}},Te=O(()=>t("span",null,"삭제",-1)),Ne={key:0,class:"option-button-row"},Pe={key:1,class:"option-form"},Ae={class:"sub-title"},Ce={class:"left-item"},Ue={key:0,class:"table-list",cellspacing:"0",cellpadding:"0",border:"0"},Ve=O(()=>t("th",{style:{width:"80px"}},"번호",-1)),Re=O(()=>t("div",{class:"option-th-header"},"옵션명",-1)),$e={class:"option-th-body"},Me=O(()=>t("th",{style:{width:"100px"}},"가격",-1)),Fe=O(()=>t("th",{style:{width:"100px"}},"즉시할인가",-1)),qe=O(()=>t("th",{style:{width:"80px"}},"재고",-1)),Ge={key:0,style:{width:"80px"}},Be=O(()=>t("th",{style:{width:"80px"}},"판매상태",-1)),ze=O(()=>t("th",{style:{width:"80px"}},"사용여부",-1)),Ye={class:"nopadding"},He={style:{display:"flex",padding:"0",margin:"0"}},Je={class:"price-text"},Ke={class:"price-text"},je={class:"list-input-box price"},Qe={key:0},We={class:"list-input-box price"},Xe={key:0,class:"amt"},Ze={key:1,class:"amt"},ts={style:{"text-align":"center"}},es={style:{width:"80px","max-height":"40px"}},ss={key:1,class:"table-list",cellspacing:"0",cellpadding:"0",border:"0"},is=O(()=>t("th",{style:{width:"80px"}},"필수옵션",-1)),os=O(()=>t("th",null,"옵션명",-1)),ns=O(()=>t("th",{style:{width:"180px"}},"내용",-1)),ls=O(()=>t("th",{style:{width:"100px"}},"가격",-1)),rs=O(()=>t("th",{style:{width:"100px"}},"즉시할인가",-1)),as=O(()=>t("th",{style:{width:"80px"}},"재고",-1)),ds={key:0,style:{width:"80px"}},cs=O(()=>t("th",{style:{width:"80px"}},"판매상태",-1)),ps=O(()=>t("th",{style:{width:"80px"}},"사용여부",-1)),us=["rowspan"],hs=["value","disabled"],ms=["rowspan"],fs={class:"price-text"},gs={class:"price-text"},_s={class:"list-input-box price"},ys={key:2},xs={class:"list-input-box price"},Is={key:0,class:"amt"},bs={key:1,class:"amt"},vs={style:{"text-align":"center"}},Ls={style:{width:"80px","max-height":"40px"}},Ds={class:"button-row"};function Ss(s,e,n,o,i,a){const h=b("v-select"),g=b("v-btn"),y=b("v-text-field"),f=b("v-form");return r(),d("div",ee,[t("div",se,[ie,i.tempOptionShow?(r(),d("div",oe,[t("div",ne,[t("div",le,[m("옵션 입력 | "),re,t("span",ae,[u(h,{disabled:i.update,items:i.optionTypeList,variant:"outlined",density:"compact",modelValue:i.optionType,"onUpdate:modelValue":e[0]||(e[0]=p=>i.optionType=p)},null,8,["disabled","items","modelValue"])]),i.update?I("",!0):(r(),$(g,{key:0,class:"white-button",variant:"outlined",style:{"font-weight":"bold","font-size":"16px",width:"100px","margin-left":"40px",height:"40px","margin-top":"-10px"},onClick:e[1]||(e[1]=p=>a.addTempOption())},{default:L(()=>[de]),_:1}))]),ce]),u(f,{modelValue:s.form,"onUpdate:modelValue":e[2]||(e[2]=p=>s.form=p),onSubmit:Q(a.setOption,["prevent"])},{default:L(()=>[t("div",pe,[t("ul",ue,[(r(!0),d(w,null,E(i.tempOptionList,(p,c)=>(r(),d("li",he,[t("div",me,[t("div",fe,[u(y,{modelValue:p.name,"onUpdate:modelValue":l=>p.name=l,variant:"outlined",density:"compact","bg-color":"#fff",rules:[a.ruleTempName],placeholder:"옵션명을 입력해주세요"},null,8,["modelValue","onUpdate:modelValue","rules"])]),i.update?I("",!0):(r(),d("div",ge,[u(g,{class:"add-button",variant:"outlined",style:{width:"80px"},onClick:l=>a.addSubOption(c)},{default:L(()=>[_e]),_:2},1032,["onClick"])])),i.update?I("",!0):(r(),d("div",ye,[u(g,{class:"white-button",variant:"outlined",onClick:l=>a.deleteTempOption(c)},{default:L(()=>[xe]),_:2},1032,["onClick"])]))]),t("div",Ie,[t("table",be,[t("thead",null,[t("tr",null,[ve,Le,De,i.update?I("",!0):(r(),d("th",Se,"삭제"))])]),t("tbody",null,[(r(!0),d(w,null,E(p.subList,(l,D)=>(r(),d("tr",null,[t("td",null,[t("div",Oe,[u(y,{modelValue:l.subname,"onUpdate:modelValue":v=>l.subname=v,variant:"outlined",density:"compact",rules:[a.ruleTempSubName],placeholder:"옵션내용을 입력해주세요"},null,8,["modelValue","onUpdate:modelValue","rules"])])]),t("td",null,[t("div",ke,[u(y,{error:l.priceError,onInput:v=>a.ruleTempSubPrice(l.subprice,c,D),"error-messages":l.priceErrorMessage,variant:"outlined",density:"compact",modelValue:l.subprice,"onUpdate:modelValue":v=>l.subprice=v},null,8,["error","onInput","error-messages","modelValue","onUpdate:modelValue"])])]),t("td",null,[t("div",we,[u(y,{error:l.dcpriceError,modelValue:l.subdcprice,"onUpdate:modelValue":v=>l.subdcprice=v,"error-messages":l.dcpriceErrorMessage,variant:"outlined",density:"compact",onInput:v=>a.ruleTempSubDcPrice(l.subdcprice,c,D)},null,8,["error","modelValue","onUpdate:modelValue","error-messages","onInput"])])]),i.update?I("",!0):(r(),d("td",Ee,[D>0?(r(),$(g,{key:0,class:"white-button",onClick:v=>a.deleteTempOptionSubList(c,D),variant:"outlined",style:{width:"40px"}},{default:L(()=>[Te]),_:2},1032,["onClick"])):I("",!0)]))]))),256))])])])]))),256))]),i.tempOptionList.length>0?(r(),d("div",Ne,[u(g,{class:"submit-button dark",variant:"outlined",type:"submit"},{default:L(()=>[m(_(i.optionTypeTitle)+" 옵션 "+_(i.buttonTitle),1)]),_:1})])):I("",!0)])]),_:1},8,["modelValue","onSubmit"])])):I("",!0),!i.tempOptionShow&&(i.optionType=="multi"&&i.multiOptionList.length>0||i.optionType=="single"&&i.singleOptionList.length>0)?(r(),d("div",Pe,[t("div",Ae,[t("div",Ce,[m(_(i.optionTypeTitle)+" 옵션 정보 등록 ",1),i.tempOptionShow?I("",!0):(r(),$(g,{key:0,class:"white-button",style:{width:"80px","margin-left":"20px"},variant:"outlined",onClick:e[3]||(e[3]=p=>i.tempOptionShow=!0)},{default:L(()=>[m("옵션 수정 ")]),_:1}))])]),i.optionType=="multi"?(r(),d("table",Ue,[t("thead",null,[t("tr",null,[Ve,t("th",null,[Re,t("div",$e,[(r(!0),d(w,null,E(i.multiOptionNames,p=>(r(),d("div",{style:q({width:i.multiWidth})},_(p),5))),256))])]),Me,Fe,qe,i.amtDisabled?(r(),d("th",Ge,"추가재고")):I("",!0),Be,ze])]),t("tbody",null,[(r(!0),d(w,null,E(i.multiOptionList,(p,c)=>(r(),d("tr",null,[t("td",null,_(c+1),1),t("td",Ye,[t("div",He,[(r(!0),d(w,null,E(p.optNames,l=>(r(),d("div",{class:"optNames",style:q({width:i.multiWidth})},_(l),5))),256))])]),t("td",null,[t("div",Je,_(i.util.fNumberFormat(p.price)),1)]),t("td",null,[t("div",Ke,_(i.util.fNumberFormat(p.dcprice)),1)]),t("td",null,[t("div",je,[u(y,{modelValue:p.amt,"onUpdate:modelValue":l=>p.amt=l,disabled:i.amtDisabled,"error-messages":p.amtErrorMessage,variant:"outlined",density:"compact",onInput:l=>a.ruleMultiAmt(p.amt,c)},null,8,["modelValue","onUpdate:modelValue","disabled","error-messages","onInput"])])]),i.amtDisabled?(r(),d("td",Qe,[t("div",We,[u(y,{modelValue:p.addAmt,"onUpdate:modelValue":l=>p.addAmt=l,variant:"outlined",density:"compact","error-messages":p.addAmtErrorMessage,onInput:l=>a.ruleMultiAddAmt(p.addAmt,c)},null,8,["modelValue","onUpdate:modelValue","error-messages","onInput"])])])):I("",!0),t("td",null,[p.status=="sale"?(r(),d("div",Xe," 판매가능 ")):(r(),d("div",Ze," 품절 "))]),t("td",ts,[t("div",es,[u(h,{items:i.optionUseList,variant:"outlined",density:"compact",modelValue:p.use,"onUpdate:modelValue":l=>p.use=l},null,8,["items","modelValue","onUpdate:modelValue"])])])]))),256))])])):(r(),d("table",ss,[t("thead",null,[t("tr",null,[is,os,ns,ls,rs,as,i.amtDisabled?(r(),d("th",ds,"추가재고")):I("",!0),cs,ps])]),(r(!0),d(w,null,E(i.singleOptionList,(p,c)=>(r(),d("tbody",null,[(r(!0),d(w,null,E(p.subList,(l,D)=>(r(),d("tr",null,[D<1?(r(),d("td",{key:0,rowspan:p.subList.length},[t("div",null,[S(t("input",{type:"radio",style:{width:"20px",height:"20px"},"onUpdate:modelValue":e[4]||(e[4]=v=>i.resultSingleRequired=v),value:c+"req",disabled:i.update},null,8,hs),[[k,i.resultSingleRequired]])])],8,us)):I("",!0),D<1?(r(),d("td",{key:1,rowspan:p.subList.length},_(p.name),9,ms)):I("",!0),t("td",null,_(l.name),1),t("td",null,[t("div",fs,_(i.util.fNumberFormat(l.price)),1)]),t("td",null,[t("div",gs,_(i.util.fNumberFormat(l.dcprice)),1)]),t("td",null,[t("div",_s,[u(y,{modelValue:l.amt,"onUpdate:modelValue":v=>l.amt=v,disabled:i.amtDisabled,"error-messages":l.amtErrorMessage,variant:"outlined",density:"compact",onInput:v=>a.ruleSingleAmt(l.amt,c,D)},null,8,["modelValue","onUpdate:modelValue","disabled","error-messages","onInput"])])]),i.amtDisabled?(r(),d("td",ys,[t("div",xs,[u(y,{modelValue:l.addAmt,"onUpdate:modelValue":v=>l.addAmt=v,variant:"outlined",density:"compact","error-messages":l.addAmtErrorMessage,onInput:v=>a.ruleSingleAddAmt(l.addAmt,c,D)},null,8,["modelValue","onUpdate:modelValue","error-messages","onInput"])])])):I("",!0),t("td",null,[l.status=="sale"?(r(),d("div",Is," 판매가능 ")):(r(),d("div",bs," 품절 "))]),t("td",vs,[t("div",Ls,[u(h,{variant:"outlined",density:"compact",items:i.optionUseList,modelValue:l.use,"onUpdate:modelValue":v=>l.use=v},null,8,["items","modelValue","onUpdate:modelValue"])])])]))),256))]))),256))]))])):I("",!0)]),t("div",Ds,[u(g,{class:"cancle-button",type:"button",onClick:e[5]||(e[5]=p=>a.optionCancle())},{default:L(()=>[m("취소")]),_:1}),u(g,{class:"submit-button",type:"button",onClick:e[6]||(e[6]=p=>a.optionSave())},{default:L(()=>[m("옵션 정보 저장")]),_:1})])])}const Os=P(te,[["render",Ss],["__scopeId","data-v-053d035e"]]);const ks={components:{optionRegist:Os},props:["saleData","productInfo","getDataSign"],computed:{form(){return{price:this.price,dcprice:this.dcprice,amt:this.amt,point:this.point}}},watch:{getDataSign(s){if(s){const e=this.getSaleData();this.$emit("getSaleData",{data:e})}},optionUse(s){s=="no"?this.priceReadOnly=!1:this.priceReadOnly=!0},pointSet(s){s!="fix"?this.pointSufix="%":this.pointSufix=""}},data(){return{util:x,price:0,optionDialog:!1,optionRegistButtonTitle:"옵션 등록",optionInfo:{show:!1,type:"",typeTitle:"",optionList:[],singleOptionList:[],width:"",optionNames:[]},optionUse:"yes",dcprice:0,amt:0,addAmt:0,priceReadOnly:!0,pstatus:"sale",periodStdate:new Date(Date.now()-new Date().getTimezoneOffset()*6e4).toISOString().substr(0,10),periodEndate:"",vmenu1:!1,vmenu2:!1,salePeriod:"every",pointType:"yes",point:0,pointSufix:"",pointSet:"fix",pointSetList:[{title:"정액",value:"fix"},{title:"정률",value:"rate"}],pointUse:"yes",orgOptionList:{},optionRemove:!1,optionError:!1,ableAmt:0,priceError:!1,dcpriceError:!1,addAmtShow:!1,update:!1,productId:"",baseProductId:""}},created(){var s;this.productId=this.saleData.productId,this.baseProductId=this.saleData.baseProductId,this.productId!=this.saleData.baseProductId&&((s=this.productInfo)!=null&&s.id)?(this.inventoryInfo=this.saleData.inventoryInfo,this.setProductInfo()):this.setDate()},methods:{setDate(){const s=new Date;let e=s.getMonth();s.setMonth(e+1),e=s.getMonth()+1;let n=s.getDate();this.periodEndate=s.getFullYear()+"-"+(e<10?"0"+e:e)+"-"+(n<10?"0"+n:n)},setProductInfo(){if(this.amt=this.productInfo.gamt,this.optionUse=this.productInfo.optionUse,this.optionUse=="yes"){for(let s of this.saleData.optionList)this.orgOptionList[s.option_code]={id:s.id,amt:s.amt,use:s.ouse};this.setIsOptionInfo()}else this.addAmtShow=!0;this.ableAmt=this.productInfo.gamt,this.price=x.numberFormat(this.productInfo.price),this.dcprice=x.numberFormat(this.productInfo.dcprice),this.pstatus=this.productInfo.pstatus,this.periodStdate=this.productInfo.periodStdate,this.periodEndate=this.productInfo.periodEndate,this.salePeriod=this.productInfo.salePeriod,this.pointType=this.productInfo.pointType,this.point=this.productInfo.point,this.pointSet=this.productInfo.pointSet,this.pointUse=this.productInfo.pointUse,this.update=!0},setIsOptionInfo(){const s=JSON.parse(this.productInfo.optionInfo);switch(this.optionInfo.type=s.type,this.optionInfo.optionList=s.optionList,this.optionInfo.type){case"single":this.optionInfo.typeTitle="단독형 옵션 정보";let e=!1;for(let n of this.optionInfo.optionList)for(let o of n.subList){let i=this.orgOptionList[o.code];i&&(o.id=i.id,o.amt=i.amt,n.required=="Y"&&o.use=="Y"&&(e=!0))}e?(this.priceReadOnly=!0,this.addAmtShow=!1):(this.priceReadOnly=!1,this.addAmtShow=!0);break;default:this.optionInfo.singleOptionList=s.singleOptionList,this.optionInfo.typeTitle="조합형 옵션 정보",this.optionInfo.width=s.width,this.optionInfo.optionNames=s.optionNames;for(let n of this.optionInfo.optionList){let o=this.orgOptionList[n.code];n.id=o.id,n.amt=o.amt}this.priceReadOnly=!0;break}this.optionInfo.show=!0,this.optionRegistButtonTitle="옵션 수정"},optionDialogShow(){this.optionDialog=!0},saveOption(s){this.optionDialog=!1,this.optionInfo.type=s.optionType,this.optionInfo.optionList=s.optionData,this.productId&&this.productId!=this.baseProductId&&(this.optionRemove=s.optionRemove);let e="",n={};switch(this.optionInfo.type){case"single":this.optionInfo.typeTitle="단독형 옵션 정보",this.priceReadOnly=!1;let o=0,i=0,a="",h="",g=!1;for(let f of this.optionInfo.optionList)for(let p of f.subList)if(p.dcprice=p.dcprice?p.dcprice.toString().replace(/,/gi,""):0,p.price=p.price?p.price.toString().replace(/,/gi,""):0,p.amt=p.amt?p.amt.toString().replace(/,/gi,""):0,p.addAmt=p.addAmt?p.addAmt.toString().replace(/,/gi,""):0,f.required=="Y"&&p.use=="Y"){let c=parseInt(p.dcprice)>0?parseInt(p.dcprice):parseInt(p.price);h?h>c&&(h=c,i=p.dcprice,o=parseInt(p.price)):(h=c,i=p.dcprice,o=parseInt(p.price)),a?a<parseInt(p.amt)&&(a=parseInt(p.amt)):a=parseInt(p.amt),g=!0}this.productId==this.baseProductId?(this.price=o,this.dcprice=i,this.amt=a):g&&(this.price=o,this.dcprice=i,this.amt=a),g&&(this.priceReadOnly=!0,this.addAmtShow=!1);break;default:this.optionInfo.singleOptionList=s.singleOptionList,this.optionInfo.typeTitle="조합형 옵션 정보",this.optionInfo.width=s.width,this.optionInfo.optionNames=s.optionNames;let y=0;for(let f of this.optionInfo.optionList)f.dcprice=f.dcprice?f.dcprice.toString().replace(/,/gi,""):0,f.price=f.price?f.price.toString().replace(/,/gi,""):0,f.amt=f.amt?f.amt.toString().replace(/,/gi,""):0,f.addAmt=f.addAmt?f.addAmt.toString().replace(/,/gi,""):0,f.amt&&parseInt(f.amt)>0&&f.use=="Y"&&(f.dcprice&&parseInt(f.dcprice)>0?e?e>parseInt(f.dcprice)&&(e=parseInt(f.dcprice),n=f):(e=parseInt(f.dcprice),n=f):e?e>parseInt(f.price)&&(e=parseInt(f.price),n=f):(e=f.price&&parseInt(f.price)>0?parseInt(f.price):0,n=f),y<parseInt(f.amt)&&(y=parseInt(f.amt)));n.price?(this.price=n.price,this.dcprice=n.dcprice):(this.price=0,this.dcprice=0),this.amt=y,this.priceReadOnly=!0;break}this.optionInfo.show=!0,this.optionRegistButtonTitle="옵션 수정"},checkPoint(){if(this.point){let s=this.point.toString().replace(/,/gi,"");return isNaN(s)?"숫자만 입력가능합니다":parseInt(s)<1?"설정값을 입력하세요":(this.point=x.numberFormat(s),!0)}else return"설정값을 입력하세요"},checkPrice(){if(this.price){let s=this.price.toString().replace(/,/gi,"");if(isNaN(s))return"숫자만 입력가능합니다";if(parseInt(s)<1)return"판매가를 입력하세요";if(this.dcprice){let e=this.dcprice.toString().replace(/,/gi,"");if(!isNaN(e)&&parseInt(s)<=parseInt(e))return this.priceError=!0,"판매가는 할인가보다 커야 합니다"}return this.price=x.numberFormat(s),this.priceError=!1,this.dcpriceError&&(this.$refs.dcprice.validate(),this.dcpriceError=!1),!0}else return"가격을 입력하세요"},checkDcprice(){if(this.dcprice){let s=this.dcprice.toString().replace(/,/gi,"");if(isNaN(s))return"숫자만 입력가능합니다";if(this.price){let e=this.price.toString().replace(/,/gi,"");if(!isNaN(e)&&parseInt(e)<=parseInt(s))return this.dcpriceError=!0,"할인가는 판매가 보다 작아야 합니다"}return this.dcprice=x.numberFormat(s),this.dcpriceError=!1,this.priceError&&(this.$refs.price.validate(),this.priceError=!1),!0}else return this.dcprice=0,this.priceError&&(this.$refs.price.validate(),this.priceError=!1),!0},checkAmt(){if(this.amt){let s=this.amt.toString().replace(/,/gi,"");return isNaN(s)?"숫자만 입력가능합니다":(this.amt=x.numberFormat(s),!0)}else return this.amt=0,!0},checkAddAmt(){sessionStorage.getItem("oldAmt")||sessionStorage.setItem("oldAmt",this.amt);const s=sessionStorage.getItem("oldAmt");if(this.addAmt){let e=this.addAmt.toString().replace(/,/gi,"");return isNaN(this.addAmt)?"숫자만 입력가능합니다":(this.addAmt=x.numberFormat(e),this.amt=parseInt(s)+parseInt(e),!0)}else return this.addAmt=0,this.amt=parseInt(s),!0},reload(){},getSaleData(){let s=!1,e="";if(Object.keys(this.form).forEach(h=>{let g=!1;switch(h){case"dcprice":case"amt":case"price":this.optionUse=="yes"?((this.optionInfo.type!="single"||this.optionInfo.type=="single"&&this.priceReadOnly)&&(g=!0),this.update&&h=="amt"&&(g=!0)):(this.update?h=="amt"&&(g=!0):h=="amt"&&this.amt==0&&(g=!0),h=="dcprice"&&this.dcprice==0&&(g=!0));break;case"point":this.pointType=="no"&&(g=!0);break}g||this.$refs[h].validate()||(this.$refs[h].validate(!0),s=!0,e||(e=h))}),s)return x.errorPosition("base","#error-posi-"+e,()=>{}),!1;if(this.optionUse=="yes"&&this.optionInfo.optionList.length<1)return x.errorPosition("base","#error-posi-option",()=>{this.optionError=!0}),!1;let n=this.price.toString().replace(/,/gi,"");if(parseInt(n)<1)return!1;let o=0;this.point&&(o=parseInt(this.point.toString().replace(/,/gi,"")));let i=0;this.dcprice&&(i=this.dcprice.toString().replace(/,/gi,""),i=parseInt(i));let a={price:parseInt(n),dcprice:i,pstatus:this.pstatus,periodStdate:this.periodStdate,periodEndate:this.periodEndate,salePeriod:this.salePeriod,pointType:this.pointType,point:o,pointSet:this.pointSet,pointUse:this.pointUse,optionUse:this.optionUse,optionRemove:this.optionRemove};if(this.optionUse=="yes"&&(a.optionInfo=JSON.stringify(this.optionInfo),a.optionType=this.optionInfo.type),this.update){let h=0;this.addAmt&&(h=this.addAmt.toString().replace(/,/gi,"")),h=parseInt(h),a.addAmt=h}else{let h=0;this.amt&&(h=this.amt.toString().replace(/,/gi,""),h=parseInt(h)),a.gamt=h}return a}}},T=s=>(U("data-v-fa8d5ce7"),s=s(),V(),s),ws={class:"product-regist"},Es=T(()=>t("div",{class:"product-title"},"판매정보",-1)),Ts={class:"product-form"},Ns={class:"table-regist",cellspacing:"0",cellpadding:"0",border:"0"},Ps=T(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("판매기간")],-1)),As={colspan:"3"},Cs={style:{display:"flex"}},Us={class:"radio-box",style:{height:"65px","padding-top":"11px"}},Vs={key:0,style:{display:"flex"}},Rs=T(()=>t("div",{style:{width:"30px","text-align":"center","line-height":"50px",height:"50px"}},"~ ",-1)),$s=T(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("적립금 설정")],-1)),Ms={colspan:"3",id:"error-posi-point"},Fs={style:{display:"flex"}},qs={class:"radio-box",style:{height:"65px","padding-top":"11px"}},Gs={key:0,style:{display:"flex","padding-left":"10px"}},Bs={style:{width:"100px","margin-right":"10px"}},zs={class:"price",style:{width:"120px"}},Ys=T(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("적립금 사용")],-1)),Hs={colspan:"3"},Js={class:"radio-box"},Ks=T(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("옵션 사용여부")],-1)),js={colspan:"3"},Qs={class:"radio-box"},Ws=["disabled"],Xs=["disabled"],Zs={key:0},ti=T(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("옵션")],-1)),ei={id:"error-posi-option",colspan:"3"},si={style:{"padding-bottom":"10px"}},ii={style:{"font-size":"12px"}},oi={key:0,class:"error-message",style:{"margin-top":"6px"}},ni={key:1,class:"option-result-box"},li={class:"option-title"},ri={key:0,class:"table-list",cellspacing:"0",cellpadding:"0",border:"0"},ai=T(()=>t("th",{style:{width:"70px"}},"번호",-1)),di=T(()=>t("div",{class:"option-th-header"},"옵션명",-1)),ci={class:"option-th-body"},pi=T(()=>t("th",{style:{width:"100px"}},"가격",-1)),ui=T(()=>t("th",{style:{width:"100px"}},"즉시할인가",-1)),hi=T(()=>t("th",{style:{width:"90px"}},"재고",-1)),mi=T(()=>t("th",{style:{width:"90px"}},"판매상태",-1)),fi=T(()=>t("th",{style:{width:"90px"}},"사용여부",-1)),gi={class:"nopadding"},_i={style:{display:"flex",padding:"0",margin:"0"}},yi={key:0,class:"sale"},xi={key:1,class:"sale"},Ii={class:"sale"},bi={key:1},vi={class:"table-list",cellspacing:"0",cellpadding:"0",border:"0"},Li=T(()=>t("thead",null,[t("tr",null,[t("th",{style:{width:"70px"}},"필수옵션"),t("th",null,"옵션명"),t("th",{style:{width:"180px"}},"내용"),t("th",{style:{width:"100px"}},"가격"),t("th",{style:{width:"100px"}},"즉시할인가"),t("th",{style:{width:"90px"}},"재고"),t("th",{style:{width:"90px"}},"판매상태"),t("th",{style:{width:"90px"}},"사용여부")])],-1)),Di=["rowspan"],Si={key:0},Oi=["rowspan"],ki={key:0,class:"sale"},wi={key:1,class:"sale"},Ei={class:"sale"},Ti={key:1},Ni=T(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("판매가")],-1)),Pi={id:"error-posi-price",style:{"border-right":"none",width:"580px"}},Ai={class:"input-box price"},Ci=T(()=>t("th",null,"할인가",-1)),Ui={id:"error-posi-dcprice"},Vi={class:"input-box price"},Ri={key:2},$i=T(()=>t("th",null,"재고",-1)),Mi={key:0,style:{"border-right":"none",width:"580px",display:"flex"},id:"error-posi-addAmt"},Fi={class:"sale",style:{"padding-right":"15px"}},qi={key:0,class:"input-box price",style:{display:"flex","min-width":"200px"}},Gi=T(()=>t("span",{style:{padding:"7px 10px 0 0"}},"추가재고 :",-1)),Bi={key:1,style:{"border-right":"none",width:"450px"},id:"error-posi-amt"},zi={class:"input-box price"},Yi=T(()=>t("th",null,"재고상태",-1)),Hi={key:0,class:"sale"},Ji={key:1,class:"sale"},Ki=T(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("판매 상태")],-1)),ji={colspan:"3"},Qi={class:"radio-box"},Wi={class:"modal-layout",style:{height:"760px"}},Xi={class:"modal-header"},Zi=T(()=>t("div",{class:"modal-title"},"옵션 등록",-1)),to={class:"modal-body",style:{height:"700px"}};function eo(s,e,n,o,i,a){const h=b("v-text-field"),g=b("v-select"),y=b("v-btn"),f=b("font-awesome-icon"),p=b("optionRegist"),c=b("v-dialog");return r(),d("div",ws,[Es,t("div",Ts,[t("table",Ns,[t("tbody",null,[t("tr",null,[Ps,t("td",As,[t("div",Cs,[t("div",Us,[t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[0]||(e[0]=l=>i.salePeriod=l),value:"every"},null,512),[[k,i.salePeriod]]),m(" 상시판매 ")]),t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=l=>i.salePeriod=l),value:"period"},null,512),[[k,i.salePeriod]]),m(" 기간지정판매 ")])]),i.salePeriod=="period"?(r(),d("div",Vs,[u(h,{density:"compact",variant:"outlined",modelValue:i.periodStdate,"onUpdate:modelValue":e[2]||(e[2]=l=>i.periodStdate=l),type:"date"},null,8,["modelValue"]),Rs,u(h,{density:"compact",variant:"outlined",modelValue:i.periodEndate,"onUpdate:modelValue":e[3]||(e[3]=l=>i.periodEndate=l),type:"date"},null,8,["modelValue"])])):I("",!0)])])]),t("tr",null,[$s,t("td",Ms,[t("div",Fs,[t("div",qs,[t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=l=>i.pointType=l),value:"no"},null,512),[[k,i.pointType]]),m(" 사용안함 ")]),t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=l=>i.pointType=l),value:"yes"},null,512),[[k,i.pointType]]),m(" 사용 ")])]),i.pointType=="yes"?(r(),d("div",Gs,[t("div",Bs,[u(g,{modelValue:i.pointSet,"onUpdate:modelValue":e[6]||(e[6]=l=>i.pointSet=l),density:"compact",variant:"outlined",items:i.pointSetList},null,8,["modelValue","items"])]),t("div",zs,[u(h,{modelValue:i.point,"onUpdate:modelValue":e[7]||(e[7]=l=>i.point=l),ref:"point",density:"compact",variant:"outlined",rules:[a.checkPoint],suffix:i.pointSufix},null,8,["modelValue","rules","suffix"])])])):I("",!0)])])]),t("tr",null,[Ys,t("td",Hs,[t("div",Js,[t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[8]||(e[8]=l=>i.pointUse=l),value:"yes"},null,512),[[k,i.pointUse]]),m(" 사용가능 ")]),t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[9]||(e[9]=l=>i.pointUse=l),value:"no"},null,512),[[k,i.pointUse]]),m(" 사용불가 ")])])])]),t("tr",null,[Ks,t("td",js,[t("div",Qs,[t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[10]||(e[10]=l=>i.optionUse=l),disabled:i.update,value:"no"},null,8,Ws),[[k,i.optionUse]]),m(" 사용안함 ")]),t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[11]||(e[11]=l=>i.optionUse=l),disabled:i.update,value:"yes"},null,8,Xs),[[k,i.optionUse]]),m(" 사용 ")])])])]),i.optionUse=="yes"?(r(),d("tr",Zs,[ti,t("td",ei,[t("div",si,[u(y,{class:"white-button",style:{"min-width":"80px",width:"80px"},variant:"outlined",onClick:e[12]||(e[12]=l=>a.optionDialogShow())},{default:L(()=>[t("span",ii,_(i.optionRegistButtonTitle),1)]),_:1}),i.optionError&&!i.optionInfo.show?(r(),d("div",oi,"옵션을 등록하세요 ")):I("",!0),i.optionInfo.show?(r(),d("div",ni,[t("div",li,_(i.optionInfo.typeTitle),1),i.optionInfo.type=="multi"?(r(),d("table",ri,[t("thead",null,[t("tr",null,[ai,t("th",null,[di,t("div",ci,[(r(!0),d(w,null,E(i.optionInfo.optionNames,l=>(r(),d("div",{style:q({width:i.optionInfo.width})},_(l),5))),256))])]),pi,ui,hi,mi,fi])]),t("tbody",null,[(r(!0),d(w,null,E(i.optionInfo.optionList,(l,D)=>(r(),d("tr",null,[t("td",null,_(D+1),1),t("td",gi,[t("div",_i,[(r(!0),d(w,null,E(l.optNames,v=>(r(),d("div",{class:"optNames",style:q({width:i.optionInfo.width})},_(v),5))),256))])]),t("td",null,_(i.util.numberFormat(l.price))+"원 ",1),t("td",null,_(i.util.numberFormat(l.dcprice))+"원 ",1),t("td",null,_(i.util.numberFormat(parseInt(l.amt)+parseInt(l.addAmt)))+"개 ",1),t("td",null,[parseInt(l.amt)+parseInt(l.addAmt)>0?(r(),d("div",yi," 판매가능 ")):(r(),d("div",xi," 품절 "))]),t("td",null,[t("div",Ii,_(l.use),1)])]))),256))])])):(r(),d("div",bi,[t("table",vi,[Li,(r(!0),d(w,null,E(i.optionInfo.optionList,(l,D)=>(r(),d("tbody",null,[(r(!0),d(w,null,E(l.subList,(v,R)=>(r(),d("tr",null,[R<1?(r(),d("td",{key:0,rowspan:l.subList.length},[l.required=="Y"?(r(),d("div",Si,[u(f,{icon:"fa-solid fa-check"})])):I("",!0)],8,Di)):I("",!0),R<1?(r(),d("td",{key:1,rowspan:l.subList.length},_(l.name),9,Oi)):I("",!0),t("td",null,_(v.name),1),t("td",null,_(i.util.numberFormat(v.price))+"원 ",1),t("td",null,_(i.util.numberFormat(v.dcprice))+"원 ",1),t("td",null,_(i.util.numberFormat(parseInt(v.amt)+parseInt(v.addAmt)))+"개 ",1),t("td",null,[parseInt(v.amt)+parseInt(v.addAmt)>0?(r(),d("div",ki," 판매가능 ")):(r(),d("div",wi," 품절 "))]),t("td",null,[t("div",Ei,_(v.use),1)])]))),256))]))),256))])]))])):I("",!0)])])])):I("",!0),i.optionUse=="no"||i.optionUse=="yes"&&i.optionInfo.optionList.length>0?(r(),d("tr",Ti,[Ni,t("td",Pi,[t("div",Ai,[u(h,{modelValue:i.price,"onUpdate:modelValue":e[13]||(e[13]=l=>i.price=l),ref:"price",density:"compact",variant:"outlined",rules:[a.checkPrice],disabled:i.priceReadOnly,placeholder:"판매가를 입력해주세요"},null,8,["modelValue","rules","disabled"])])]),Ci,t("td",Ui,[t("div",Vi,[u(h,{modelValue:i.dcprice,"onUpdate:modelValue":e[14]||(e[14]=l=>i.dcprice=l),ref:"dcprice",density:"compact",variant:"outlined",rules:[a.checkDcprice],disabled:i.priceReadOnly},null,8,["modelValue","rules","disabled"])])])])):I("",!0),i.optionUse=="no"||i.optionUse=="yes"&&i.optionInfo.optionList.length>0?(r(),d("tr",Ri,[$i,i.update?(r(),d("td",Mi,[t("div",Fi," 판매가능재고 : "+_(i.util.numberFormat(i.ableAmt))+"개 ",1),i.addAmtShow?(r(),d("div",qi,[Gi,u(h,{modelValue:i.addAmt,"onUpdate:modelValue":e[15]||(e[15]=l=>i.addAmt=l),ref:"addAmt",density:"compact",variant:"outlined",style:{"max-width":"120px"},rules:[a.checkAddAmt]},null,8,["modelValue","rules"])])):I("",!0)])):(r(),d("td",Bi,[t("div",zi,[u(h,{modelValue:i.amt,"onUpdate:modelValue":e[16]||(e[16]=l=>i.amt=l),ref:"amt",density:"compact",variant:"outlined",rules:[a.checkAmt],disabled:i.priceReadOnly},null,8,["modelValue","rules","disabled"])])])),Yi,t("td",null,[parseInt(i.amt)>0?(r(),d("div",Hi," 판매가능 ")):(r(),d("div",Ji," 품절 "))])])):I("",!0),t("tr",null,[Ki,t("td",ji,[t("div",Qi,[t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[17]||(e[17]=l=>i.pstatus=l),value:"sale"},null,512),[[k,i.pstatus]]),m(" 정상판매 ")]),t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[18]||(e[18]=l=>i.pstatus=l),value:"hidden"},null,512),[[k,i.pstatus]]),m(" 노출중지 ")])])])])])])]),u(c,{modelValue:i.optionDialog,"onUpdate:modelValue":e[21]||(e[21]=l=>i.optionDialog=l),width:"1100",persistent:"",rounded:"",style:{"z-index":"100"}},{default:L(()=>[t("div",Wi,[t("div",Xi,[Zi,t("div",{class:"modal-close",onClick:e[19]||(e[19]=l=>i.optionDialog=!1)},[u(f,{icon:"fa-solid fa-circle-xmark"})])]),t("div",to,[i.optionDialog?(r(),$(p,{key:0,productId:i.productId,isOptionInfo:i.optionInfo,orgOptionList:i.orgOptionList,baseProductId:i.baseProductId,onOptionDialogHide:e[20]||(e[20]=l=>i.optionDialog=!1),onOptionSave:a.saveOption},null,8,["productId","isOptionInfo","orgOptionList","baseProductId","onOptionSave"])):I("",!0)])])]),_:1},8,["modelValue"])])}const so=P(ks,[["render",eo],["__scopeId","data-v-fa8d5ce7"]]),io={props:["addinfoData","productInfo","getDataSign"],watch:{getDataSign(s){if(s){const e=this.getAddinfoData();this.$emit("getAddinfoData",{data:e})}},addInfoId(s){if(this.addInfos=[],s){for(const e of this.addInfoList)if(s==e.value){let n=0;for(const o of e.itemList){let i="";s==this.isAddInfoId&&this.isAddInfos&&(i=this.isAddInfos[n].value),this.addInfos.push({name:o.name,value:i}),n++}}}}},data(){return{addInfos:[],addInfoList:[],addInfoId:"",isAddInfoId:"",isAddInfos:[]}},created(){this.setData()},methods:{setData(){var s;if(this.addInfoList=[],this.addinfoData){this.addInfoList.push({title:"추가정보를 선택하세요",value:""});for(const e of this.addinfoData)this.addInfoList.push({title:e.bname,value:e.id,itemList:JSON.parse(e.itemList)})}(s=this.productInfo)!=null&&s.id&&(this.addInfoId=this.productInfo.addInfoId?this.productInfo.addInfoId:"",this.isAddInfoId=this.productInfo.addInfoId?this.productInfo.addInfoId:"",this.isAddInfos=this.productInfo.addInfos?JSON.parse(this.productInfo.addInfos):"")},getAddinfoData(){return{addInfos:JSON.stringify(this.addInfos),addInfoId:this.addInfoId}},reload(){this.addInfos=[],this.addInfoList=[],this.addInfoId=""}}},oo={class:"product-regist"},no=t("div",{class:"product-title"},"추가정보",-1),lo={class:"product-form"},ro={class:"table-regist cols-table",cellspacing:"0",cellpadding:"0",border:"0"},ao=t("th",null,"추가정보",-1),co={class:"select-box",style:{width:"300px","max-height":"40px"}},po={class:"input-box",style:{width:"400px","max-height":"35px"}};function uo(s,e,n,o,i,a){const h=b("v-select"),g=b("v-text-field");return r(),d("div",oo,[no,t("div",lo,[t("table",ro,[t("tbody",null,[t("tr",null,[ao,t("td",null,[t("div",co,[u(h,{modelValue:i.addInfoId,"onUpdate:modelValue":e[0]||(e[0]=y=>i.addInfoId=y),density:"compact",variant:"outlined",items:i.addInfoList},null,8,["modelValue","items"])])])]),(r(!0),d(w,null,E(i.addInfos,(y,f)=>(r(),d("tr",null,[t("th",null,_(y.name),1),t("td",null,[t("div",po,[u(g,{modelValue:y.value,"onUpdate:modelValue":p=>y.value=p,density:"compact",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])])])]))),256))])])])])}const ho=P(io,[["render",uo]]),mo={components:{QuillEditor:W},props:["imageData","productInfo","getDataSign"],watch:{getDataSign(s){if(s){const e=this.getImageData();this.$emit("getImageData",{data:e})}}},data(){return{detailImgs:[{isfile:"",file:null,url:""},{isfile:"",file:null,url:""}],detailImgIndex:0,uploadImgType:"detail",detailImgSize:{width:640,height:640,text:"640×640"},listImg:{isfile:"",file:null,url:""},listImgSize:{width:720,height:720,text:"720×400"},content:"",editorOption:{placeholder:"상품상세정보를 입력하세요",theme:"snow",modules:{toolbar:{container:[[{header:1},{header:2}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["image"],["clean"]],handlers:{image:this.editorImageHandler}}}},detailImgError:!1,listImgError:!1,contentError:!1,editor:null}},created(){this.setData()},methods:{onEditorReady(s){this.editor=s},setData(){var s;this.detailImgSize={width:this.imageData.detailImg.width,height:this.imageData.detailImg.height,text:this.imageData.detailImg.width+"×"+this.imageData.detailImg.height},this.listImgSize={width:this.imageData.listImg.width,height:this.imageData.listImg.height,text:this.imageData.listImg.width+"×"+this.imageData.listImg.height},(s=this.productInfo)!=null&&s.id&&this.setProductInfo()},setProductInfo(){this.listImg={isfile:!0,file:null,url:this.productInfo.listImg},this.detailImgs=[];const s=JSON.parse(this.productInfo.detailImgs);for(let e of s){let n={isfile:e,file:null,url:e};this.detailImgs.push(n)}this.detailImgs.push({isfile:"",file:null,url:""}),setTimeout(()=>{this.$refs.myQuillEditor.setHTML(this.productInfo.content)},300)},editorImageHandler(){this.uploadImgType="productEditor",this.$refs.img.click()},insertDetailImg(s){this.uploadImgType="detail",this.detailImgIndex=s,this.$refs.img.click()},insertListImg(){this.uploadImgType="list",this.$refs.img.click()},deleteDetailImg(s){this.detailImgs.splice(s,1),(this.detailImgs.length<2||this.detailImgs.length>=8)&&this.detailImgs.push({isfile:"",file:null,url:""})},deleteListImg(){this.listImg={isfile:"",file:null,url:""}},imgUpload(){const s=this.$refs.img.files;let e=s.length>0?s[0]:null,n={isfile:"",file:e,url:URL.createObjectURL(e)};switch(this.uploadImgType){case"detail":this.detailImgs.splice(this.detailImgIndex,1,n),this.detailImgIndex>0&&this.detailImgIndex<9&&this.detailImgs.push({isfile:"",file:null,url:""});break;case"list":this.listImg=n;break;case"productEditor":const o=new FormData;o.append("image",e),M.postFile(J,o,i=>{const a=this.editor.getSelection();this.editor.insertEmbed(a.index,"image",i.data)});break}this.$refs.img.value=""},getImageData(){if(!this.detailImgs[0].file&&!this.detailImgs[0].isfile)return this.detailImgError=!0,x.errorPosition("base","#error-posi-detailImg",()=>{}),!1;if(!this.listImg.file&&!this.listImg.isfile)return x.errorPosition("base","#error-posi-listImg",()=>{this.listImgError=!0}),!1;const s=this.$refs.myQuillEditor.getHTML(),e=x.stripTags(s);return!x.isImgTags(s)&&!e?(x.errorPosition("base","#error-posi-content",()=>{this.contentError=!0}),!1):{detailImgs:this.detailImgs,listImg:this.listImg,content:s}},reload(){this.detailImgs=[{isfile:"",file:null,url:""},{isfile:"",file:null,url:""}],this.detailImgIndex=0,this.uploadImgType="detail",this.detailImgSize={width:640,height:640,text:"640×640"},this.listImg={isfile:"",file:null,url:""},this.listImgSize={width:720,height:720,text:"720×400"},this.content="",this.detailImgError=!1,this.listImgError=!1,this.contentError=!1}},mounted(){K(".quill-content-box .ql-editor").css({"min-height":"500px","max-height":"800px"})}},fo={class:"product-regist"},go=t("div",{class:"product-title"},"이미지정보",-1),_o={class:"product-form"},yo={class:"table-regist",cellspacing:"0",cellpadding:"0",border:"0"},xo=t("th",null,[t("span",{class:"required-icon"},"*"),m("상품 이미지")],-1),Io={id:"error-posi-detailImg"},bo={key:0,class:"error-message",style:{"margin-bottom":"6px"}},vo={class:"detail-img-box"},Lo={class:"detail-img"},Do={class:"reg-img-box"},So={key:0,class:"is-img"},Oo=t("div",{class:"is-img-title"},"대표",-1),ko=["src"],wo={class:"guide-img-icon"},Eo=t("div",{class:"guide-img-title"},"대표이미지",-1),To={class:"guide-img-size"},No=t("div",{class:"line-divide"},null,-1),Po={class:"add-detial-img-ul"},Ao={style:{width:"auto"}},Co={key:0,class:"reg-img-box"},Uo={key:0,class:"is-img"},Vo=t("div",{class:"is-img-title"},"추가",-1),Ro=["onClick"],$o=["src"],Mo=["onClick"],Fo={class:"guide-img-icon"},qo=t("div",{class:"guide-img-title"},"추가이미지",-1),Go={class:"guide-img-size"},Bo=t("div",{style:{height:"30px"}},null,-1),zo=t("div",{class:"tip"}," 상품이미지 등록 시 자동으로 리스트, 확대, 고정 이미지에 리사이징되어 전시됩니다. (추가이미지 최대 9개 등록가능) ",-1),Yo=t("th",null,[t("span",{class:"required-icon"},"*"),m("리스트 이미지")],-1),Ho={id:"error-posi-listImg"},Jo={key:0,class:"error-message",style:{"margin-bottom":"6px"}},Ko={class:"list-img"},jo={class:"reg-img-box",style:{width:"110px"}},Qo={key:0,class:"is-img"},Wo=["src"],Xo={class:"guide-img-icon"},Zo=t("div",{class:"guide-img-title"},"리스트이미지",-1),tn={class:"guide-img-size"},en=t("th",null,[t("span",{class:"required-icon"},"*"),m("상품 상세")],-1),sn={id:"error-posi-content"},on={key:0,class:"error-message",style:{"margin-bottom":"6px"}},nn={class:"quill-content-box"};function ln(s,e,n,o,i,a){const h=b("font-awesome-icon"),g=b("quill-editor");return r(),d("div",fo,[go,t("div",_o,[t("input",{type:"file",style:{display:"none"},ref:"img",accept:"image/*",onChange:e[0]||(e[0]=(...y)=>a.imgUpload&&a.imgUpload(...y))},null,544),t("table",yo,[t("tbody",null,[t("tr",null,[xo,t("td",Io,[i.detailImgError&&!i.detailImgs[0].file&&!i.detailImgs[0].isfile?(r(),d("div",bo,"상품 이미지를 등록하세요 ")):I("",!0),t("div",vo,[t("div",Lo,[t("div",Do,[i.detailImgs[0].url?(r(),d("div",So,[Oo,t("div",{class:"is-img-close",onClick:e[1]||(e[1]=y=>a.deleteDetailImg(0))},[u(h,{icon:"fa-solid fa-xmark"})]),t("img",{src:i.detailImgs[0].url},null,8,ko)])):(r(),d("div",{key:1,class:"guide-img",onClick:e[2]||(e[2]=y=>a.insertDetailImg(0))},[t("div",wo,[u(h,{icon:"fa-solid fa-plus"})]),Eo,t("div",To,"권장 "+_(i.detailImgSize.text),1)]))]),No]),t("ul",Po,[(r(!0),d(w,null,E(i.detailImgs,(y,f)=>(r(),d("li",Ao,[f>0?(r(),d("div",Co,[y.url?(r(),d("div",Uo,[Vo,t("div",{class:"is-img-close",onClick:p=>a.deleteDetailImg(f)},[u(h,{icon:"fa-solid fa-xmark"})],8,Ro),t("img",{src:y.url},null,8,$o)])):(r(),d("div",{key:1,class:"guide-img",onClick:p=>a.insertDetailImg(f)},[t("div",Fo,[u(h,{icon:"fa-solid fa-plus"})]),qo,t("div",Go,"권장 "+_(i.detailImgSize.text),1)],8,Mo))])):I("",!0)]))),256))])]),Bo,zo])]),t("tr",null,[Yo,t("td",Ho,[i.listImgError&&!i.listImg.url?(r(),d("div",Jo,"리스트 이미지를 등록하세요 ")):I("",!0),t("div",Ko,[t("div",jo,[i.listImg.url?(r(),d("div",Qo,[t("div",{class:"is-img-close",onClick:e[3]||(e[3]=y=>a.deleteListImg())},[u(h,{icon:"fa-solid fa-xmark"})]),t("img",{src:i.listImg.url},null,8,Wo)])):(r(),d("div",{key:1,class:"guide-img",onClick:e[4]||(e[4]=y=>a.insertListImg())},[t("div",Xo,[u(h,{icon:"fa-solid fa-plus"})]),Zo,t("div",tn,"권장 "+_(i.listImgSize.text),1)]))])])])]),t("tr",null,[en,t("td",sn,[i.contentError&&!i.content?(r(),d("div",on,"상품상세 정보를 입력하세요 ")):I("",!0),t("div",nn,[u(g,{ref:"myQuillEditor",options:i.editorOption,onReady:a.onEditorReady},null,8,["options","onReady"])])])])])])])])}const rn=P(mo,[["render",ln]]);const an={components:{QuillEditor:W},props:["deliveryData","productInfo","getDataSign"],watch:{deliveryId(s){this.deliveryInfo=this.orgDeliveryList[s],this.isDeliveryId==s&&this.isDcontent?this.dcontent=this.isDcontent:this.dcontent=this.deliveryInfo.dcontent,setTimeout(()=>{this.$refs.myQuillDeditor.setHTML(this.dcontent)},300),this.deliveryInfo.dmethod=="auto"?this.deliveryGroupDisable=!1:(this.deliveryGroup="no",this.deliveryGroupDisable=!0)},getDataSign(s){if(s){const e=this.getDeliveryData();this.$emit("getDeliveryData",{data:e})}}},data(){return{dcontent:"",dcontentError:!1,deliveryGroupDisable:!1,deditorOption:{placeholder:"배송/환불/교환 정보를 입력하세요",theme:"snow",modules:{toolbar:{container:[[{header:1},{header:2}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["image"],["clean"]],handlers:{image:this.deditorImageHandler}}}},deliveryList:[],orgDeliveryList:{},deliveryId:"",deliveryInfo:{},deliveryGroup:"yes",isDcontent:"",isDeliveryId:"",deliveryIdError:!1,deditor:null}},created(){this.setData()},methods:{onEditorReady(s){this.deditor=s},setData(){var s,e,n;this.deliveryList=[],this.orgDeliveryList=[];for(let o of this.deliveryData){let i={title:o.name,value:o.id};this.deliveryList.push(i);let a={};switch(a.dmethodText=o.dmethod=="auto"?"택배/등기/소포":"직접배송(화물배달)",a.dmethod=o.dmethod,o.dpriceType){case"free":a.dpriceText="무료";break;case"half":a.dpriceText="주문금액 "+x.numberFormat(o.oprice)+"원 이상일때 배송비 무료<br>미만시 "+x.numberFormat(o.mprice)+"원";break;case"price":a.dpriceText=x.numberFormat(o.fprice)+"원";break}a.localUseText=o.localUse=="yes"?"사용":"사용안함",a.backPriceText=x.numberFormat(o.backPrice)+"원",a.dcontent=o.dcontent?o.dcontent:"",this.orgDeliveryList[o.id]=a,(!((s=this.productInfo)!=null&&s.id)||!((e=this.productInfo)!=null&&e.deliveryId))&&(this.deliveryId||(this.deliveryId=o.id))}(n=this.productInfo)!=null&&n.id&&this.setProductInfo()},setProductInfo(){this.isDcontent=this.productInfo.dcontent?this.productInfo.dcontent:"",this.isDeliveryId=this.productInfo.deliveryId?this.productInfo.deliveryId:"",this.deliveryId=this.productInfo.deliveryId?this.productInfo.deliveryId:"",this.deliveryGroup=this.productInfo.deliveryGroup},deditorImageHandler(){this.uploadImgType="productDeditor",this.$refs.img.click()},imgUpload(){const s=this.$refs.img.files;let e=s.length>0?s[0]:null;const n=new FormData;n.append("image",e),M.postFile(J,n,o=>{const i=this.deditor.getSelection();this.deditor.insertEmbed(i.index,"image",o.data)}),this.$refs.img.value=""},getDeliveryData(){if(!this.deliveryId)return x.errorPosition("base","#error-posi-delivery",()=>{this.deliveryIdError=!0}),!1;const s=this.$refs.myQuillDeditor.getHTML(),e=x.stripTags(s);return!x.isImgTags(s)&&!e?(x.errorPosition("base","#error-posi-dcontent",()=>{this.dcontentError=!0}),!1):{deliveryId:this.deliveryId,deliveryGroup:this.deliveryGroup,dcontent:s}},reload(){this.dcontent="",this.dcontentError=!1,this.deliveryList=[],this.orgDeliveryList={},this.deliveryId="",this.deliveryInfo={},this.deliveryGroup="yes",this.deliveryIdError=!1}},mounted(){K(".quill-content-box .ql-editor").css({"min-height":"500px","max-height":"800px"})}},A=s=>(U("data-v-0dddf209"),s=s(),V(),s),dn={class:"product-regist"},cn=A(()=>t("div",{class:"product-title"},"배송정보",-1)),pn={class:"product-form"},un={class:"table-regist cols-table",cellspacing:"0",cellpadding:"0",border:"0"},hn=A(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("묶음배송 가능여부")],-1)),mn={colspan:"3"},fn={class:"radio-box"},gn=["disabled"],_n=["disabled"],yn=A(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("배송비 템플릿")],-1)),xn={colspan:"3",id:"error-posi-delivery"},In={key:0,class:"error-message",style:{"margin-bottom":"6px"}},bn={style:{width:"300px","max-height":"40px"}},vn=A(()=>t("th",null,"배송 방법",-1)),Ln={style:{"border-right":"none",width:"450px"}},Dn={style:{"min-height":"40px","line-height":"40px"}},Sn=A(()=>t("th",null,"배송비",-1)),On=["innerHTML"],kn=A(()=>t("th",null,"지역별 추가 배송비",-1)),wn={style:{"border-right":"none",width:"450px"}},En={style:{"min-height":"40px","line-height":"40px"}},Tn=A(()=>t("th",null,"반품/교환 배송비",-1)),Nn={style:{"min-height":"40px","line-height":"40px"}},Pn=A(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("배송/환불/교환 정보")],-1)),An={id:"error-posi-dcontent",colspan:"3"},Cn={key:0,class:"error-message",style:{"margin-bottom":"6px","min-width":"220px","max-width":"220px"}},Un={class:"quill-content-box"};function Vn(s,e,n,o,i,a){const h=b("v-select"),g=b("quill-editor");return r(),d("div",dn,[cn,t("div",pn,[t("input",{type:"file",style:{display:"none"},ref:"img",accept:"image/*",onChange:e[0]||(e[0]=(...y)=>a.imgUpload&&a.imgUpload(...y))},null,544),t("table",un,[t("tbody",null,[t("tr",null,[hn,t("td",mn,[t("div",fn,[t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=y=>i.deliveryGroup=y),disabled:i.deliveryGroupDisable,value:"yes"},null,8,gn),[[k,i.deliveryGroup]]),m(" 묶음배송 가능 ")]),t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=y=>i.deliveryGroup=y),disabled:i.deliveryGroupDisable,value:"no"},null,8,_n),[[k,i.deliveryGroup]]),m(" 묶음배송 불가능 ")])])])]),t("tr",null,[yn,t("td",xn,[i.deliveryIdError&&!i.deliveryId?(r(),d("div",In,"배송비 템플릿을 선택하세요 ")):I("",!0),t("div",bn,[u(h,{modelValue:i.deliveryId,"onUpdate:modelValue":e[3]||(e[3]=y=>i.deliveryId=y),density:"compact",variant:"outlined",items:i.deliveryList},null,8,["modelValue","items"])])])]),t("tr",null,[vn,t("td",Ln,[t("div",Dn,_(i.deliveryInfo.dmethodText),1)]),Sn,t("td",null,[t("div",{innerHTML:i.deliveryInfo.dpriceText},null,8,On)])]),t("tr",null,[kn,t("td",wn,[t("div",En,_(i.deliveryInfo.localUseText),1)]),Tn,t("td",null,[t("div",Nn,_(i.deliveryInfo.backPriceText),1)])]),t("tr",null,[Pn,t("td",An,[i.dcontentError&&!i.dcontent?(r(),d("div",Cn,"배송/교환/환불 정보를 입력하세요 ")):I("",!0),t("div",Un,[u(g,{ref:"myQuillDeditor",options:i.deditorOption,onReady:a.onEditorReady},null,8,["options","onReady"])])])])])])])])}const Rn=P(an,[["render",Vn],["__scopeId","data-v-0dddf209"]]),Y=[{name:"의류",code:"a",datas:[{text:"제품 소재",desc:"섬유의 조성 또는 혼용률을 백분율로 표시, 기능성인 경우 성적서 또는 허가서"},{text:"색상"},{text:"치수"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기, 병행수입의 경우 병행수입 여부로 대체 가능"},{text:"제조국"},{text:"세탁방법 및 취급시 주의사항",type:"textarea"},{text:"제조연월"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"구두/신발",code:"b",datas:[{text:"제품 주소재",desc:"운동화인 경우에는 겉감, 안감을 구분하여 표시"},{text:"색상"},{text:"치수",desc:"발길이: 해외사이즈 표기시 국내사이즈 병행 표기(mm),굽높이:굽 재료를 사용하는 여성화에 한함(cm)"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"취급시 주의사항",type:"textarea"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"가방",code:"c",datas:[{text:"종류"},{text:"소재"},{text:"색상"},{text:"크기"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"취급시 주의사항",type:"textarea"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"패션잡화 (모자/벨트/액세서리)",code:"d",datas:[{text:"종류"},{text:"소재"},{text:"치수"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"취급시 주의사항",type:"textarea"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"침구류/커튼",code:"e",datas:[{text:"제품 소재",desc:"섬유의 조성 또는 혼용률을 백분율로 표시, 충전재를 사용한 제품은 충전재를 함께 표기"},{text:"색상"},{text:"치수"},{text:"제품구성"},{text:"제조자",desc:" 수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"세탁방법 및 취급시 주의사항",type:"textarea"},{text:"품질보증 기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"가구(침대/소파/싱크대/DIY제품)",code:"f",datas:[{text:"품명"},{text:"KC 인증 필 유무",desc:"전기용품및생활용품안전관리법상 공급자적합성확인대상에 한함"},{text:"색상"},{text:"구성품"},{text:"주요 소재"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능),구성품 별 제조자가 다른 경우 각 구성품의 제조자, 수입자"},{text:"제조국",desc:"구성품 별 제조국이 다른 경우 각 구성품의 제조국"},{text:"크기"},{text:"배송·설치비용"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"영상가전(TV류)",code:"g",datas:[{text:"품명 및 모델명"},{text:"KC 인증 필 유무",desc:"전기용품및생활용품안전관리법상 안전인증대상전기용품, 안전확인대상전기용품, 공급자적합성확인대상전기용품에 한함"},{text:"정격전압, 소비전력"},{text:"에너지소비효율등급",desc:"에너지이용합리화법 상 의무대상상품에 한함"},{text:"동일모델의 출시년월"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"크기 (형태포함)"},{text:"화면사양",desc:"크기, 해상도, 화면비율 등"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"가정용 전기제품(냉장고/세탁기/식기세척기/전자레인지)",code:"h",datas:[{text:"품명 및 모델명"},{text:"KC 인증 필 유무",desc:"전기용품및생활용품안전관리법상 안전인증대상전기용품, 안전확인대상전기용품, 공급자적합성확인대상전기용품에 한함"},{text:"정격전압, 소비전력"},{text:"에너지소비효율등급",desc:"에너지이용합리화법 상 의무대상상품에 한함"},{text:"동일모델의 출시년월"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"크기 (용량,형태포함)"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"계절가전(에어컨/온풍기)",code:"i",datas:[{text:"품명 및 모델명"},{text:"KC 인증 필 유무",desc:"전기용품및생활용품안전관리법상 안전인증대상전기용품, 안전확인대상전기용품, 공급자적합성확인대상전기용품에 한함"},{text:"정격전압, 소비전력"},{text:"에너지소비효율등급",desc:"에너지이용합리화법 상 의무대상상품에 한함"},{text:"동일모델의 출시년월"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"크기 (형태 및 실외기 포함)"},{text:"냉난방면적"},{text:"추가설치비용"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"사무용기기(컴퓨터/노트북/프린터)",code:"j",datas:[{text:"품명 및 모델명"},{text:"KC 인증 필 유무",desc:"전기용품및생활용품안전관리법상 안전인증대상전기용품, 안전확인대상전기용품, 공급자적합성확인대상전기용품에 한함"},{text:"정격전압, 소비전력"},{text:"에너지소비효율등급",desc:"에너지이용합리화법 상 의무대상상품에 한함"},{text:"동일모델의 출시년월"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"크기, 무게",desc:"무게는 노트북에 한함"},{text:"주요 사양",desc:"컴퓨터와 노트북의 경우 성능, 용량, 운영체제 포함여부 등 / 프린터의 경우 인쇄 속도 등"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"광학기기(디지털카메라 / 캠코더)",code:"k",datas:[{text:"품명 및 모델명"},{text:"KC 인증 필 유무",desc:"전파법 상 인증대상상품에 한함, MIC 인증 필 혼용 가능"},{text:"동일모델의 출시년월"},{text:"제조자",desc:" 수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"크기, 무게"},{text:"주요 사양"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"소형전자(MP3 / 전자사전 등)",code:"l",datas:[{text:"품명 및 모델명"},{text:"KC 인증 필 유무",desc:"전파법 상 인증대상상품에 한함, MIC 인증 필 혼용 가능"},{text:"정격전압, 소비전력"},{text:"동일모델의 출시년월"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"크기, 무게"},{text:"주요 사양"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"휴대폰",code:"m",datas:[{text:"품명 및 모델명"},{text:"KC 인증 필 유무",desc:"전파법 상 인증대상상품에 한함, MIC 인증 필 혼용 가능"},{text:"동일모델의 출시년월"},{text:"제조자",desc:" 수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"크기, 무게"},{text:"이동통신 가입조건"},{text:"이동통신사"},{text:"가입절차"},{text:"소비자의 추가적인 부담사항",desc:"가입비, 유심카드 구입비 등 추가로 부담하여야 할 금액, 부가서비스, 의무사용기간, 위약금 등)"},{text:"주요사양"},{text:"품질보증기준",type:"textarea"},{text:" A/S 책임자와 전화번호"}]},{name:"내비게이션",code:"n",datas:[{text:"품명 및 모델명"},{text:"KC 인증 필 유무",desc:"전파법 상 인증대상상품에 한함, MIC 인증 필 혼용 가능"},{text:"정격전압, 소비전력"},{text:"동일모델의 출시년월"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"크기, 무게"},{text:"주요 사양"},{text:"맵 업데이트 비용 및 무상기간"},{text:" 품질보증기준",type:"textarea"},{text:" A/S 책임자와 전화번호"}]},{name:"자동차용품 (자동차부품 / 기타 자동차용품)",code:"o",datas:[{text:"품명 및 모델명"},{text:"동일모델의 출시년월"},{text:"KC 인증 필 유무",desc:"자동차관리법에 따른 자기인증 대상 자동차부품에 한함"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"크기"},{text:"적용차종"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"},{text:" 검사합격증 번호",desc:"대기환경보전법에 따른 첨가제·촉매제에 한함"},{text:" A/S책임자와 전화번호"}]},{name:"의료기기",code:"p",datas:[{text:"품명 및 모델명"},{text:"의료기기법상 허가·신고 번호",desc:"(허가·신고 대상 의료기기에 한함) 및 광고사전심의필 유무"},{text:"정격전압, 소비전력",desc:"전기용품에 한함"},{text:"동일모델의 출시년월"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"제품의 사용목적 및 사용방법"},{text:"취급시 주의사항"},{text:"품질보증기준",type:"textarea"},{text:" A/S 책임자와 전화번호"}]},{name:"주방용품",code:"q",datas:[{text:"품명 및 모델명"},{text:"재질"},{text:"구성품"},{text:"크기"},{text:"동일모델의 출시년월"},{text:"제조자",desc:"수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국"},{text:"수입식품안전관리특별법에 따른 수입 기구·용기의 경우",desc:" “수입식품안전관리특별법에 따른 수입신고를 필함”의 문구"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"화장품",code:"r",datas:[{text:"용량 및 중량"},{text:"제품 주요 사양",desc:"피부타입, 색상(호, 번) 등"},{text:"사용기한 또는 개봉 후 사용기간",desc:"개봉 후 사용기간을 기재할 경우에는 제조연월일을 병행표기"},{text:"사용방법"},{text:"화장품제조업자 및 화장품책임판매업자"},{text:"제조국"},{text:"화장품 법에 따라 기재.표시하여야 하는 모든 성분"},{text:"기능성 화장품의 경우 화장품법에 따른 식품의약품안전처 심사 필 유무",desc:"미백, 주름개선, 자외선차단 등"},{text:"사용 시 주의사항"},{text:" 품질보증기준",type:"textarea"},{text:"소비자상담관련 전화번호"}]},{name:"귀금속 / 보석 / 시계류",code:"s",datas:[{text:"소재 / 순도 / 밴드재질",desc:"시계의 경우"},{text:"중량"},{text:"제조자",desc:", 수입품의 경우 수입자를 함께 표기 (병행수입의 경우 병행수입 여부로 대체 가능)"},{text:"제조국",desc:"원산지와 가공지 등이 다를 경우 함께 표기)"},{text:"치수"},{text:"착용 시 주의사항"},{text:"주요 사양"},{text:"귀금속, 보석류 - 등급"},{text:"시계 - 기능, 방수 등"},{text:"보증서 제공여부"},{text:"품질보증기준",type:"textarea"},{text:"A/S 책임자와 전화번호"}]},{name:"식품(농수축산물)",code:"t",datas:[{text:"품목 또는 명칭"},{text:"포장단위별 내용물의 용량(중량),수량,크기"},{text:"생산자,수입품의 경우 수입자를 함께 표기"},{text:"농수산물의 원산지 표시에 관한 법률에 따른 원산지"},{text:"제조연월일(포장일 또는 생산연도),유통기한"},{text:"관련법상 표시사항"},{text:"농산물-농수산물품질관리법상 유전자변형농산물 표시,지리적 표시"},{text:"축산물-축산법에 따른 등급 표시,축산물이력법에 따른 이력관리대상축산물 유무"},{text:"수산물-농수산물품질관리법상 유전자변형수산물 표시,지리적 표시"},{text:"수입식품에 해당하는 경우",desc:"“수입식품안전관리특별법에 따른 수입신고를 필함”의 문구"},{text:"상품구성"},{text:"보관방법 또는 취급방법"},{text:"식품등의표시·광고에관한법률에 따른 소비자안전을 위한 주의사항"},{text:"소비자상담 관련 전화번호"}]},{name:"가공식품",code:"u",datas:[{text:"식품등의표시·광고에관한법률에 따른 표시사항"},{text:"제품명"},{text:"식품의 유형"},{text:"생산자 및 소재지",desc:"수입품의 경우 생산자,수입자 및 제조국"},{text:"제조연월일,유통기한 또는 품질유지기한"},{text:"포장단위별 내용물의 용량(중량),수량"},{text:"원재료명 및 함량",desc:"농수산물의 원산지 표시에 관한 법률에 따른 원산지 표시 포함"},{text:"영양성분",desc:"식품등의표시·광고에관한법률에 따른 영양성분 표시대상 식품에 한함"},{text:"유전자변형식품에 해당하는 경우의 표시"},{text:"소비자안전을 위한 주의사항"},{text:"수입식품에 해당하는 경우",desc:" “수입식품안전관리특별법에 따른 수입신고를 필함”의 문구"},{text:"소비자상담 관련 전화번호"}]},{name:"건강기능식품",code:"v",datas:[{text:"식품등의표시·광고에관한법률에 따른 표시사항"},{text:"제품명"},{text:"식품의 유형"},{text:"제조업소의 명칭과 소재지",desc:"수입품의 경우 수입업소명,제조업소명 및 수출국명"},{text:"제조연월일,유통기한"},{text:"포장단위별 내용물의 용량(중량),수량"},{text:"원재료명 및 함량",desc:"농수산물의 원산지 표시에 관한 법률에 따른 원산지 표시 포함"},{text:"영양정보"},{text:"기능정보"},{text:"섭취량,섭취방법 및 섭취 시 주의사항 및 부작용 가능성"},{text:"질병의 예방 및 치료를 위한 의약품이 아니라는 내용의 표현"},{text:"유전자변형건강기능식품에 해당하는 경우의 표시"},{text:"수입식품에 해당하는 경우",desc:" “수입식품안전관리특별법에 따른 수입신고를 필함”의 문구"},{text:"소비자안전을 위한 주의사항"},{text:"소비자상담 관련 전화번호"}]},{name:"영유아용품",code:"w",datas:[{text:"품명 및 모델명"},{text:"어린지제품 안전 특별법 상 안전인증대상어린이제품, 안전확인대상어린이제품, 공급자적합성확인대상어린이제품에 대한 KC인증 필 유무"},{text:"크기, 중량"},{text:"색상"},{text:"재질",desc:"섬유의 경우 혼용률"},{text:"사용연령 또는 체중범위",desc:"품질경영 및 공산품안전관리법에 따라 표시해야 하는 사항은 반드시 표기"},{text:"동일모델의 출시년월"},{text:"제조자, 수입품의 경우 수입자를 함께 표기",desc:"병행수입의 경우 병행수입 여부로 대체 가능"},{text:"제조국"},{text:" 취급방법 및 취급시 주의사항, 안전표시 (주의, 경고 등)"},{text:" 품질보증기준",type:"textarea"},{text:" A/S 책임자와 전화번호"}]},{name:"악기",code:"x",datas:[{text:"품명 및 모델명"},{text:"크기"},{text:"색상"},{text:"재질"},{text:"제품 구성"},{text:"동일모델의 출시년월"},{text:"제조자, 수입품의 경우 수입자를 함께 표기",desc:"병행수입의 경우 병행수입 여부로 대체 가능"},{text:"제조국"},{text:"상품별 세부 사양"},{text:" 품질보증기준",type:"textarea"},{text:" A/S 책임자와 전화번호"}]},{name:"스포츠용품",code:"y",datas:[{text:"품명 및 모델명"},{text:"크기, 중량"},{text:"색상"},{text:"재질"},{text:"제품 구성"},{text:"동일모델의 출시년월"},{text:"제조자, 수입품의 경우 수입자를 함께 표기",desc:"병행수입의 경우 병행수입 여부로 대체 가능"},{text:"제조국"},{text:"상품별 세부 사양"},{text:" 품질보증기준",type:"textarea"},{text:" A/S 책임자와 전화번호"}]},{name:"서적",code:"z",datas:[{text:"도서명"},{text:"저자, 출판사"},{text:"크기"},{text:"쪽수"},{text:"제품 구성",desc:"전집 또는 세트일 경우 낱권 구성, CD 등"},{text:"출간일"},{text:"목차 또는 책소개",desc:"아동용 학습교재의 경우 사용연령을 포함"}]},{name:"호텔 / 펜션 예약",code:"aa",datas:[{text:"국가 또는 지역명"},{text:"숙소형태"},{text:"등급, 객실타입"},{text:"사용가능 인원, 인원 추가 시 비용"},{text:"부대시설, 제공 서비스",desc:"조식 등"},{text:"취소 규정",desc:"환불, 위약금 등"},{text:"예약담당 연락처"}]},{name:"여행패키지",code:"ab",datas:[{text:"여행사"},{text:"이용항공편"},{text:"여행기간 및 일정"},{text:"총 예정 인원, 출발 가능 인원"},{text:"숙박정보"},{text:"여행상품 가격",desc:"유류할증료, 공항이용료, 전쟁보험료, 관광진흥개발기금, 운송요금, 숙박요금, 식사요금, 가이드 경비, 여행자보험료, 현지관광입장료 등 소비자가 특정 여행상품을 선택할 경우 부담해야 하는 모든 경비가 포함되어야 함. 다만, 가이드 경비를 현지에서 지불하여야하는 경우 별도로 그 금액을 표시할 수 있으며, 현지에서 별도로 지불해야 한다는 점을 표시하여야 함"},{text:"선택경비 유무 및 세부 내용"},{text:"선택경비 유무 등",desc:"선택관광 경비 등 현지에서 개별 구매자의 필요나 선택에 의하여 지출하게 되는 경비가 있는 여부 및 소비자의 선택에 따라 자유롭게 지불할 수 있다는 점을 함께 표시하여아 함"},{text:"선택관광 및 대체일정",desc:"선택관광 경비의 금액 및 선택관광을 선택하지 않을 경우의 대체 일정을 함께 표시하여야 함"},{text:"가이드 팁",desc:"가이드 팁에 대하여 기재할 경우에는 가이드 경비와 구별하여 자유롭게 지불여부를 결정할 수 있음을 표시하여야 함. 다만, 정액으로 지불을 권장하는 등 소비자가 필수적으로 지불하여야 하는 경비인 것처럼 오인하지 않도록 표시하여야 함"},{text:"취소 규정",desc:"환불, 위약금 등"},{text:"해외여행의 경우 외교통상부가 지정하는 여행경보단계"},{text:" 예약담당 연락처"}]},{name:"항공권",code:"ac",datas:[{text:"요금조건,왕복·편도여부"},{text:"유효기간"},{text:"제한사항",desc:"출발일, 귀국일 변경가능 여부 등"},{text:"티켓수령방법"},{text:"좌석종류"},{text:"가격에 포함되지 않은 내역 및 금액",desc:"유류할증료, 공항이용료 등"},{text:"취소 규정",desc:"환불, 위약금 등"},{text:"예약담당 연락처"}]},{name:"자동차 대여 서비스 (렌터카)",code:"ad",datas:[{text:"차종"},{text:"소유권 이전 조건",desc:"소유권이 이전되는 경우에 한함"},{text:"추가 선택 시 비용",desc:"자차면책제도, 내비게이션 등"},{text:"차량 반환 시 연료대금 정산 방법"},{text:"차량의 고장·훼손 시 소비자 책임"},{text:"예약 취소 또는 중도 해약 시 환불 기준"},{text:"소비자상담 관련 전화번호"}]},{name:"물품대여 서비스 (정수기, 비데, 공기청정기 등)",code:"ae",datas:[{text:"품명 및 모델명"},{text:"소유권 이전 조건",desc:"소유권이 이전되는 경우에 한하여, 소유권 이전에 필요한 렌탈기간 또는 총 렌탈금액 등 요건을 구체적으로 명시"},{text:"유지보수 조건",desc:"점검·필터교환 주기, 추가 비용 등"},{text:"상품의 고장·분실·훼손 시 소비자 책임"},{text:"중도 해약 시 환불 기준"},{text:"제품 사양",desc:"용량, 소비전력 등"},{text:"소비자상담 관련 전화번호"}]},{name:"물품대여 서비스 (서적, 유아용품, 행사용품 등)",code:"af",datas:[{text:"품명 및 모델명"},{text:"소유권 이전 조건",desc:"소유권이 이전되는 경우에 한하여, 소유권 이전에 필요한 렌탈기간 또는 총 렌탈금액 등 요건을 구체적으로 명시"},{text:"상품의 고장·분실·훼손 시 소비자 책임"},{text:"중도 해약 시 환불 기준"},{text:"소비자상담 관련 전화번호"}]},{name:"디지털 콘텐츠 (음원, 게임, 인터넷강의 등)",code:"ag",datas:[{text:"제작자 또는 공급자"},{text:"이용조건, 이용기간"},{text:"상품 제공 방식",desc:"CD, 다운로드, 실시간 스트리밍 등"},{text:"최소 시스템 사양, 필수 소프트웨어"},{text:"청약철회 또는 계약의 해제 · 해지에 따른 효과"},{text:"소비자상담 관련 전화번호"}]},{name:"상품권 / 쿠폰",code:"ah",datas:[{text:"발행자"},{text:"유효기간, 이용조건",desc:"유효기간 경과 시 보상 기준, 사용제한품목 및 기간 등"},{text:"이용 가능 매장"},{text:"잔액 환급 조건"},{text:"소비자상담 관련 전화번호"}]},{name:"모바일쿠폰",code:"ai",datas:[{text:"발행자"},{text:"유효기간, 이용조건",desc:"유효기간 경과시 보상 기준 포함"},{text:"이용 가능 매장"},{text:"환불조건 및 방법"},{text:"소비자상담 관련 전화번호"}]},{name:"영화·공연",code:"aj",datas:[{text:"주최 또는 기획",desc:"공연에 한함"},{text:"주연",desc:"공연에 한함"},{text:"관람등급"},{text:"상영·공연시간"},{text:"상영·공연장소"},{text:"예매 취소 조건"},{text:"취소·환불방법"},{text:"소비자상담 관련 전화번호"}]},{name:"생활화학제(생활화학제품및살생물제의안전관리에관한법률에 따른 안전확인대상 제품에 한함)",code:"ak",datas:[{text:"품목 및 제품명"},{text:"용도 및 제형",desc:"표백제의 경우 계열을 함께 표시"},{text:"제조연월 및 유통기한",desc:"해당 없는 제품 생략 가능"},{text:"중량/용량/매수"},{text:"효과?효능",desc:"승인대상 제품에 한함"},{text:"수입자(수입제품에 한함),제조국 및 제조사"},{text:"어린이 보호포장 대상 제품 유무"},{text:"제품에 사용된 화학물질 명칭",desc:"주요물질,보존제 등 관련 고시에 따른 표시의무 화학물질에 한함"},{text:"사용상 주의사항"},{text:"안전기준 적합확인 신고번호(자가검사번호)또는 안전확인대상 생활화학제품 승인번호"},{text:"소비자상담 관련 전화번호"}]},{name:"살생물제품(생활화학제품및살생물제의안전관리에관한법률에 따른 살생물제품에 한함)",code:"al",datas:[{text:"제품명 및 제품유형"},{text:"중량 또는 용량 및 표준사용량"},{text:"효과/효능"},{text:"사용대상자 및 사용범위"},{text:"수입자(수입제품에 한함),제조국 및 제조사"},{text:"어린이보호포장 대상제품 유무"},{text:"살생물물질,나노물질,기타 화학물질(유해화학물질 또는 중점관리물질)의 명칭"},{text:"제품 유해성/위해성 표시"},{text:"사용방법 및 사용상 주의사항"},{text:"승인번호"},{text:"소비자상담 관련 전화번호"}]},{name:"기타 용역",code:"am",datas:[{text:"서비스 제공 사업자"},{text:"법에 의한 인증·허가 등을 받았음을 확인할 수 있는 경우 그에 대한 사항"},{text:"이용조건",desc:"이용가능 기간·장소, 추가비용 등"},{text:"취소·중도해약·해지 조건 및 환불기준"},{text:"취소·환불방법"},{text:"소비자상담 관련 전화번호"}]},{name:"기타 재화",code:"an",datas:[{text:"품명 및 모델명"},{text:"법에 의한 인증·허가 등을 받았음을 확인할 수 있는 경우 그에 대한 사항"},{text:"제조국 또는 원산지"},{text:"제조자, 수입품의 경우 수입자를 함께 표기"},{text:"A/S 책임자와 전화번호 또는 소비자상담 관련 전화번호"}]}];const $n={props:["pid"],data(){return{infoNoticeList:[],infoNoticeNames:{}}},created(){for(const s of Y)this.infoNoticeNames[s.code]=s.name;this.getData()},methods:{getData(){const s={};M.post(Z,s,e=>{this.infoNoticeList=e.data})},deleteItem(s){let e={type:"confirm",message:"선택된 정보를 삭제하시겠습니까?",doAction:()=>{this.deleteAction(s)}};this.$eventBus.$emit("modalOpen",e)},deleteAction(s){const n={id:this.infoNoticeList[s].id};this.$eventBus.$emit("overlay","open"),M.post(tt,n,o=>{this.$eventBus.$emit("overlay","hide"),this.infoNoticeList.splice(s,1);let i={message:"선택된 정보가 삭제되었습니다"};this.$eventBus.$emit("modalOpen",i)})},selectItem(s){const e=this.infoNoticeList[s];this.$emit("infoNoticeSave",{info:e})},hide(){this.$emit("infoNoticeDialogHide")}}},H=s=>(U("data-v-280273b7"),s=s(),V(),s),Mn={class:"product-info-notice"},Fn={class:"table-box"},qn={class:"table-list",cellspacing:"0",cellpadding:"0",border:"0"},Gn=H(()=>t("thead",null,[t("tr",null,[t("th",{style:{width:"120px"}},"선택"),t("th",null,"상품군/적용상품명"),t("th",{style:{width:"160px"}},"등록일"),t("th",{style:{width:"120px"}},"삭제")])],-1)),Bn=H(()=>t("span",null,"선택",-1)),zn=["onClick"],Yn={class:"button-row"},Hn=H(()=>t("span",null,"닫기",-1));function Jn(s,e,n,o,i,a){const h=b("v-btn");return r(),d("div",Mn,[t("div",Fn,[t("table",qn,[Gn,t("tbody",null,[(r(!0),d(w,null,E(i.infoNoticeList,(g,y)=>(r(),d("tr",{key:g.id},[t("td",null,[u(h,{class:"white-button",style:{width:"60px","max-height":"30px"},depressed:"",onClick:f=>a.selectItem(y)},{default:L(()=>[Bn]),_:2},1032,["onClick"])]),t("td",null,_(i.infoNoticeNames[g.code])+" / "+_(g.pname),1),t("td",null,_(g.created_at.substring(0,10)),1),t("td",null,[t("span",{class:"underline-text",onClick:f=>a.deleteItem(y)},"삭제",8,zn)])]))),128))])])]),t("div",Yn,[u(h,{class:"white-button",variant:"outlined",onClick:e[0]||(e[0]=g=>a.hide())},{default:L(()=>[Hn]),_:1})])])}const Kn=P($n,[["render",Jn],["__scopeId","data-v-280273b7"]]);const jn={components:{productInfoNoticeList:Kn},props:["productInfo","getDataSign"],watch:{getDataSign(s){if(s){const e=this.getInfoNotiData();this.$emit("getInfoNotiData",{data:e})}},infoNotiId(s){if(this.infoNotices=[],s){for(const e of Y)if(e.code==s)for(const n of e.datas)this.infoNotices.push({name:n.text,desc:n.desc,value:"",type:n.type})}},allCheck(s){for(let e of this.infoNotices)s?e.value="상품상세 참조":e.value=""}},data(){return{infoNotiRegist:"no",infoNotices:[],infoNotiList:[],infoNotiId:"",allCheck:!1,infoNoticeDialog:!1,pid:""}},created(){this.setData()},methods:{setData(){var s;this.infoNotiList.push({title:"상품군을 선택하세요",value:""});for(const e of Y)this.infoNotiList.push({title:e.name,value:e.code});(s=this.productInfo)!=null&&s.id&&(this.pid=this.productInfo.id,this.setProductInfo())},setProductInfo(){if(this.productInfo.pInfoNoti){const s=JSON.parse(this.productInfo.pInfoNoti);this.infoNotiId=s.infoNotiId,this.infoNotiRegist=s.infoNotiRegist,this.resetInfoNotices(s.infoNotices)}},resetInfoNotices(s){setTimeout(()=>{this.infoNotices=s},100)},getInfoNotiData(){if(!this.infoNotiId)return this.$refs.infoNotiId.validate(!0),x.errorPosition("base","#error-posi-infoNotiId",()=>{}),!1;let s="",e=0;for(const o of this.infoNotices){if(!o.value){let i="key_"+e+"_key";s||(s=i),this.$refs[i][0].validate(!0)}e++}if(s)return x.errorPosition("base","#error-posi-"+s,()=>{}),!1;const n={infoNotices:this.infoNotices,infoNotiId:this.infoNotiId,infoNotiRegist:this.infoNotiRegist};return JSON.stringify(n)},saveInfoNotice(s){console.log(s),this.infoNotiId=s.info.code,this.resetInfoNotices(JSON.parse(s.info.datas)),this.infoNoticeDialog=!1}}},G=s=>(U("data-v-3cc850f4"),s=s(),V(),s),Qn={class:"product-regist"},Wn={class:"product-title"},Xn={class:"product-form"},Zn={class:"table-regist cols-table",cellspacing:"0",cellpadding:"0",border:"0"},tl=G(()=>t("th",null,"상품군",-1)),el={id:"error-posi-infoNotiId",style:{display:"flex"}},sl={class:"select-box",style:{width:"700px"}},il={style:{"padding-left":"20px","padding-top":"11px"}},ol={style:{cursor:"pointer"}},nl=["disabled"],ll=["id"],rl={class:"input-box",style:{width:"800px","max-height":"35px"}},al={key:0,class:"stip-box"},dl={class:"stip"},cl={key:0},pl=G(()=>t("th",null,"상품정보제공고시 등록",-1)),ul={class:"radio-box"},hl=G(()=>t("div",{class:"stip-box"},[t("span",{class:"stip"}," 등록할 경우, 타 상품등록 시 간편하게 사용 가능합니다. ")],-1)),ml={class:"modal-layout",style:{height:"760px"}},fl={class:"modal-header"},gl=G(()=>t("div",{class:"modal-title"},"저장된 상품정보제공고시",-1)),_l={class:"modal-body",style:{height:"700px"}};function yl(s,e,n,o,i,a){const h=b("v-btn"),g=b("v-select"),y=b("v-text-field"),f=b("font-awesome-icon"),p=b("productInfoNoticeList"),c=b("v-dialog");return r(),d("div",Qn,[t("div",Wn,[m(" 상품정보제공고시 "),u(h,{class:"white-button",style:{width:"230px","margin-left":"20px"},onClick:e[0]||(e[0]=l=>i.infoNoticeDialog=!0),variant:"outlined"},{default:L(()=>[m("저장된 상품정보제공고시 불러오기 ")]),_:1})]),t("div",Xn,[t("table",Zn,[t("tbody",null,[t("tr",null,[tl,t("td",el,[t("div",sl,[u(g,{modelValue:i.infoNotiId,"onUpdate:modelValue":e[1]||(e[1]=l=>i.infoNotiId=l),density:"compact",variant:"outlined",ref:"infoNotiId",rules:[()=>!!i.infoNotiId||"상품군을 선택하세요"],items:i.infoNotiList},null,8,["modelValue","rules","items"])]),t("div",il,[t("label",ol,[S(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=l=>i.allCheck=l),disabled:!i.infoNotiId},null,8,nl),[[z,i.allCheck]]),m(" 상품상세 참조로 전체입력 ")])])])]),(r(!0),d(w,null,E(i.infoNotices,(l,D)=>(r(),d("tr",{key:D+"_key"},[t("th",null,_(l.name),1),t("td",{style:{position:"relative",height:"auto"},id:"error-posi-key_"+D+"_key"},[t("div",rl,[u(y,{modelValue:l.value,"onUpdate:modelValue":v=>l.value=v,ref_for:!0,ref:"key_"+D+"_key",rules:[()=>!!l.value||l.name+" 입력하세요"],density:"compact",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","rules"])]),l.desc?(r(),d("div",al,[t("span",dl,_(l.desc),1)])):I("",!0)],8,ll)]))),128)),i.infoNotiId?(r(),d("tr",cl,[pl,t("td",null,[t("div",ul,[t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=l=>i.infoNotiRegist=l),value:"no"},null,512),[[k,i.infoNotiRegist]]),m(" 등록안함 ")]),t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=l=>i.infoNotiRegist=l),value:"yes"},null,512),[[k,i.infoNotiRegist]]),m(" 등록 ")])]),hl])])):I("",!0)])])]),u(c,{modelValue:i.infoNoticeDialog,"onUpdate:modelValue":e[7]||(e[7]=l=>i.infoNoticeDialog=l),width:"1100",persistent:"",rounded:"",style:{"z-index":"100"}},{default:L(()=>[t("div",ml,[t("div",fl,[gl,t("div",{class:"modal-close",onClick:e[5]||(e[5]=l=>i.infoNoticeDialog=!1)},[u(f,{icon:"fa-solid fa-circle-xmark"})])]),t("div",_l,[u(p,{pid:i.pid,onInfoNoticeDialogHide:e[6]||(e[6]=l=>i.infoNoticeDialog=!1),onInfoNoticeSave:a.saveInfoNotice},null,8,["pid","onInfoNoticeSave"])])])]),_:1},8,["modelValue"])])}const xl=P(jn,[["render",yl],["__scopeId","data-v-3cc850f4"]]);const Il={name:"productRegistRelations",components:{ProductComponentList:ot,CustomScrollbar:j},props:["productInfo","getDataSign"],watch:{getDataSign(s){if(s){const e=this.getRelationData();this.$emit("getRelationData",{data:e})}}},data(){return{relType:"single",relDeny:"no",relUse:"no",productDialog:!1,selectedProduct:!1,selectedProductList:[],pstatusList:{sale:"정상판매",hidden:"노출금지",soldout:"품절"},relProductError:!1,relProductErrorMessage:""}},created(){this.setData()},methods:{setData(){var s;if((s=this.productInfo)!=null&&s.id&&(this.relType=this.productInfo.relType,this.relDeny=this.productInfo.relDeny,this.relUse=this.productInfo.relUse,this.relUse=="yes"&&(this.relType=="single"||this.relType!="single"&&this.relDeny=="yes"))){for(let e of this.productInfo.relProductList)e.id!=this.productInfo.id&&(e.pstatus=this.pstatusList[e.pstatus],e.price=x.numberFormat(e.price),e.dcprice=x.numberFormat(e.dcprice),e.gamt=x.numberFormat(e.gamt),e.created_at=e.created_at.substring(0,10),this.selectedProductList.push(e));this.selectedProduct=!1}},showProductList(){this.productDialog=!0},getIdsList(s){var n;const e={};for(let o of this.selectedProductList)s[o.id]&&(e[o.id]=o.id);for(let o in s)(n=this.productInfo)!=null&&n.id&&o==this.productInfo.id||e[o]||this.selectedProductList.push(s[o]);this.productDialog=!1,this.selectedProduct=!1},deleteProduct(s){this.selectedProductList.splice(s,1)},checkProduct(){this.selectedProduct=!0},getRelationData(){let s=[];if(this.relUse=="yes"){let e=!1,n="";if(this.relType=="single"&&(e=!0,n="개별상품을"),this.relType!="single"&&this.relDeny=="yes"&&(e=!0,n="제외대상 상품을"),e){if(this.selectedProductList.length<1)return this.relProductError=!0,this.relProductErrorMessage=n+" 하나이상 선택하세요",!1;for(const o of this.selectedProductList)s.push(o.id)}}return{selectedProductList:JSON.stringify(s),relUse:this.relUse,relType:this.relType,relDeny:this.relDeny}}}},C=s=>(U("data-v-01798f5b"),s=s(),V(),s),bl={class:"product-regist"},vl=C(()=>t("div",{class:"product-title"},"관련 추천상품",-1)),Ll={class:"product-form"},Dl={class:"table-regist",cellspacing:"0",cellpadding:"0",border:"0"},Sl=C(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("사용여부")],-1)),Ol={colspan:"3"},kl={class:"radio-box"},wl={key:0},El=C(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("상품군")],-1)),Tl={class:"border-right-none"},Nl={class:"radio-box"},Pl=C(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("제외 대상")],-1)),Al={class:"radio-box"},Cl=["disabled"],Ul=["disabled"],Vl={key:1},Rl=C(()=>t("th",null,[t("span",{class:"required-icon"},"*"),m("선택된 상품")],-1)),$l={colspan:"3",style:{"padding-bottom":"20px"}},Ml={style:{"padding-bottom":"8px"}},Fl=C(()=>t("span",null,"상품목록 불러오기",-1)),ql={key:0,class:"error-message",style:{"margin-bottom":"6px","min-width":"220px","max-width":"200px","margin-top":"7px"}},Gl={class:"table-list",cellpadding:"0",cellspacing:"0",border:"0"},Bl=C(()=>t("thead",null,[t("tr",null,[t("th",{style:{width:"60px"}}," 번호 "),t("th",null," 상품명 "),t("th",{style:{width:"100px"}}," 판매상태 "),t("th",{style:{width:"100px"}}," 정가 "),t("th",{style:{width:"100px"}}," 할인가 "),t("th",{style:{width:"100px"}}," 재고 "),t("th",{style:{width:"100px"}}," 등록일 "),t("th",{style:{width:"60px"}}," 삭제 ")])],-1)),zl=["onClick"],Yl={class:"modal-layout",style:{height:"790px",background:"#fff"}},Hl={class:"modal-header"},Jl=C(()=>t("div",{class:"modal-title"},"상품 목록",-1)),Kl={class:"modal-body",style:{"overflow-x":"hidden"}},jl={class:"modal-button-row"};function Ql(s,e,n,o,i,a){const h=b("v-btn"),g=b("custom-scrollbar"),y=b("font-awesome-icon"),f=b("productComponentList"),p=b("v-dialog");return r(),d("div",bl,[vl,t("div",Ll,[t("table",Dl,[t("tbody",null,[t("tr",null,[Sl,t("td",Ol,[t("div",kl,[t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[0]||(e[0]=c=>i.relUse=c),value:"yes"},null,512),[[k,i.relUse]]),m(" 사용 ")]),t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=c=>i.relUse=c),value:"no"},null,512),[[k,i.relUse]]),m(" 사용 안함 ")])])])]),i.relUse=="yes"?(r(),d("tr",wl,[El,t("td",Tl,[t("div",Nl,[t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=c=>i.relType=c),value:"single"},null,512),[[k,i.relType]]),m(" 개별 상품 ")]),t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=c=>i.relType=c),value:"brand"},null,512),[[k,i.relType]]),m(" 동일 브랜드 ")]),t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=c=>i.relType=c),value:"category"},null,512),[[k,i.relType]]),m(" 동일 카테고리 ")])])]),Pl,t("td",null,[t("div",Al,[t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=c=>i.relDeny=c),disabled:i.relType=="single",value:"yes"},null,8,Cl),[[k,i.relDeny]]),m(" 설정 ")]),t("label",null,[S(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=c=>i.relDeny=c),disabled:i.relType=="single",value:"no"},null,8,Ul),[[k,i.relDeny]]),m(" 설정안함 ")])])])])):I("",!0),(i.relType=="single"||i.relType!="single"&&i.relDeny=="yes")&&i.relUse=="yes"?(r(),d("tr",Vl,[Rl,t("td",$l,[t("div",Ml,[u(h,{class:"white-button",style:{width:"140px"},onClick:e[7]||(e[7]=c=>a.showProductList()),variant:"outlined"},{default:L(()=>[Fl]),_:1}),i.relProductError&&i.selectedProductList.length<1?(r(),d("div",ql,_(i.relProductErrorMessage),1)):I("",!0)]),u(g,{class:"select-product-list"},{default:L(()=>[t("table",Gl,[Bl,t("tbody",null,[(r(!0),d(w,null,E(i.selectedProductList,(c,l)=>(r(),d("tr",null,[t("td",null,_(i.selectedProductList.length-l),1),t("td",null,_(c.pname),1),t("td",null,_(c.pstatus),1),t("td",null,_(c.price),1),t("td",null,_(c.dcprice),1),t("td",null,_(c.gamt),1),t("td",null,_(c.created_at),1),t("td",null,[t("div",{class:"underline",onClick:D=>a.deleteProduct(l)},"삭제",8,zl)])]))),256))])])]),_:1})])])):I("",!0)])])]),u(p,{modelValue:i.productDialog,"onUpdate:modelValue":e[11]||(e[11]=c=>i.productDialog=c),width:"1200",persistent:"",rounded:"",style:{"z-index":"100"}},{default:L(()=>[t("div",Yl,[t("div",Hl,[Jl,t("div",{class:"modal-close",onClick:e[8]||(e[8]=c=>i.productDialog=!1)},[u(y,{icon:"fa-solid fa-circle-xmark"})])]),t("div",Kl,[u(f,{accept:"couponRegist",selectedProduct:i.selectedProduct,onEventData:a.getIdsList},null,8,["selectedProduct","onEventData"])]),t("div",jl,[u(h,{class:"cancle-button",onClick:e[9]||(e[9]=c=>i.productDialog=!1),depressed:""},{default:L(()=>[m("취소")]),_:1}),u(h,{class:"submit-button",onClick:e[10]||(e[10]=c=>a.checkProduct()),depressed:""},{default:L(()=>[m("상품 선택")]),_:1})])])]),_:1},8,["modelValue"])])}const Wl=P(Il,[["render",Ql],["__scopeId","data-v-01798f5b"]]);const Xl={components:{productRegistBase:Zt,productRegistSale:so,productRegistAddinfo:ho,productInfoNotice:xl,productRegistImage:rn,productRegistDelivery:Rn,productRegistRelation:Wl},data(){return{getBaseDataSign:!1,getSaleDataSign:!1,getAddinfoDataSign:!1,getImageDataSign:!1,getDeliveryDataSign:!1,getInfoNotiDataSign:!1,getRelationDataSign:!1,baseData:{},baseParams:{},saleData:{productId:"",baseProductId:"",inventoryInfo:{},optionList:[]},saleParams:{},addinfoData:{},addinfoParams:{},addInfoComponentShow:!1,infoNotiParams:{},imageData:{},imageParams:{},deliveryData:{},deliveryParams:{},relationParams:{},productId:"",productInfo:{},productCode:"",buttonTitle:"저장",baseProductId:"newProduct",serviceType:"normal",registLoad:!1,update:!1,firstAccept:!0}},created(){this.emitter.on("productRegistReload",this.reload),this.$route.params.id?this.productId=this.$route.params.id:this.productId=this.baseProductId,this.getData()},methods:{setServiceType(s){this.serviceType=s.data},getData(){if(this.serverFlag)return;this.serverFlag=!0;const s={};this.productId!=this.baseProductId&&(s.id=this.$route.params.id),M.post(et,s,e=>{if(this.serverFlag=!1,this.baseData.categoryList=e.data.categoryList,this.baseData.brandList=e.data.brandList,e.data.addInfos&&e.data.addInfos.length>0&&(this.addInfoComponentShow=!0,this.addinfoData=e.data.addInfos),this.imageData.detailImg=e.data.detailImgSize,this.imageData.listImg=e.data.listImgSize,this.deliveryData=e.data.deliveryList,this.registLoad=!0,this.saleData.productId=this.productId,this.saleData.baseProductId=this.baseProductId,this.productId!=this.baseProductId)e.data.product.id||(alert("잘못된 접근입니다"),this.$router.back()),this.buttonTitle="수정",this.update=!0,this.productInfo=e.data.product,this.serviceType=this.productInfo.serviceType,this.saleData.inventoryInfo=e.data.inventoryInfo,this.productInfo.optionUse=="yes"&&(this.saleData.optionList=e.data.optionList),this.productCode=this.productInfo.pcode;else{const n=new Date,o=Math.floor(Math.random()*100);this.productCode=o+"z"+n.getTime()}})},getBaseData(s){this.baseParams=s},getSaleData(s){this.saleParams=s},getAddinfoData(s){this.addinfoParams=s},getImageData(s){this.imageParams=s},getDeliveryData(s){this.deliveryParams=s},getInfoNotiData(s){this.infoNotiParams=s},getRelationData(s){this.relationParams=s},validate(){this.getBaseDataSign=!0,setTimeout(()=>{this.getBaseDataSign=!1,this.baseParams.data&&(this.addInfoComponentShow?(this.getAddinfoDataSign=!0,setTimeout(()=>{this.getAddinfoDataSign=!1,this.addinfoParams.data&&this.commonValidate()},50)):this.commonValidate())},50)},commonValidate(){this.getInfoNotiDataSign=!0,setTimeout(()=>{this.getInfoNotiDataSign=!1,this.infoNotiParams.data&&(this.getSaleDataSign=!0,setTimeout(()=>{this.getSaleDataSign=!1,this.saleParams.data&&(this.getImageDataSign=!0,setTimeout(()=>{this.getImageDataSign=!1,this.imageParams.data&&(this.serviceType=="normal"?(this.getDeliveryDataSign=!0,setTimeout(()=>{this.getDeliveryDataSign=!1,this.deliveryParams.data&&(this.getRelationDataSign=!0,setTimeout(()=>{this.getRelationDataSign=!1,this.relationParams.data&&this.registAction()},50))},50)):(this.getRelationDataSign=!0,setTimeout(()=>{this.getRelationDataSign=!1,this.relationParams.data&&this.registAction()},50)))},50))},50))},50)},registAction(){const s=new FormData;s.append("pname",this.baseParams.data.pname),s.append("serviceType",this.serviceType),s.append("keyword",this.baseParams.data.keyword),s.append("brandId",this.baseParams.data.brandId),s.append("pcode",this.productCode);let e=1;for(let i of this.baseParams.data.selectCategoryList){let a=i.main;i.sub&&(a+=","+i.sub),i.subSub&&(a+=","+i.subSub),s.append("category"+e,a),e++}s.append("platform",this.baseParams.data.platform.join(",")),s.append("description",this.baseParams.data.description),s.append("price",this.saleParams.data.price),s.append("pstatus",this.saleParams.data.pstatus),s.append("periodStdate",this.saleParams.data.periodStdate),s.append("periodEndate",this.saleParams.data.periodEndate),s.append("salePeriod",this.saleParams.data.salePeriod),s.append("pointType",this.saleParams.data.pointType),s.append("point",this.saleParams.data.point),s.append("pointSet",this.saleParams.data.pointSet),s.append("pointUse",this.saleParams.data.pointUse),s.append("optionUse",this.saleParams.data.optionUse),this.saleParams.data.optionUse=="yes"&&(s.append("optionInfo",this.saleParams.data.optionInfo),s.append("optionType",this.saleParams.data.optionType)),s.append("dcprice",this.saleParams.data.dcprice),this.update?this.saleParams.data.addAmt&&s.append("addAmt",parseInt(this.saleParams.data.addAmt)):s.append("gamt",parseInt(this.saleParams.data.gamt)),s.append("pInfoNoti",this.infoNotiParams.data);let n=1;for(let i of this.imageParams.data.detailImgs)i.file?(s.append("detailImgs[]",n),s.append("detailImg"+n,i.file),n++):i.isfile&&(s.append("detailImgs[]",n),s.append("isDetailImg"+n,i.isfile),n++);this.imageParams.data.listImg&&this.imageParams.data.listImg.file&&s.append("listImg",this.imageParams.data.listImg.file),s.append("content",this.imageParams.data.content),this.addInfoComponentShow&&(s.append("addInfos",this.addinfoParams.data.addInfos),s.append("addInfoId",this.addinfoParams.data.addInfoId)),this.serviceType=="normal"&&(s.append("deliveryId",this.deliveryParams.data.deliveryId),s.append("deliveryGroup",this.deliveryParams.data.deliveryGroup),s.append("dcontent",this.deliveryParams.data.dcontent)),s.append("relProducts",this.relationParams.data.selectedProductList),s.append("relUse",this.relationParams.data.relUse),s.append("relType",this.relationParams.data.relType),s.append("relDeny",this.relationParams.data.relDeny);let o=st;this.productId&&this.productId!=this.baseProductId&&(o=it,s.append("id",this.productId),this.saleParams.data.optionRemove&&s.append("optionRemove","yes")),!this.serverFlag&&(this.serverFlag=!0,this.emitter.emit("overlay","open"),M.postFile(o,s,i=>{if(this.serverFlag=!1,this.emitter.emit("overlay","hide"),i.status=="message"){let a="";switch(i.data){case"wrong_detailimg":a="잘못된 상세이미지 입니다";break;case"wrong_listimg":a="잘못된 목록이미지 입니다";break}let h={message:a};this.emitter.emit("modalOpen",h)}else if(i.data){let a="저장";this.productId&&this.productId!=this.baseProductId&&(a="수정");let h={message:"상품정보가 "+a+" 되었습니다",doAction:()=>{this.$router.push("/admin/product/productList")}};this.emitter.emit("modalOpen",h)}}))},reload(){this.productId=this.baseProductId,this.addInfoComponentShow=!1,this.registLoad=!1,this.baseData={},this.saleData={productId:"",baseProductId:"",inventoryInfo:{},optionList:[]},this.addinfoData={},this.imageData={},this.deliveryData={},this.productInfo={},this.productCode="",this.buttonTitle="저장",this.serviceType="normal",this.update=!1,this.getData(),setTimeout(()=>{scrollTo(0,0)},100)}},updated(){this.firstAccept&&(this.firstAccept=!1,scrollTo(0,0))},destroyed(){this.emitter.off("productRegistReload")}},Zl={class:"page-container"},tr={key:0,class:"empty-regist"},er={key:1,id:"product-container"},sr={class:"button-row",style:{"text-align":"center"}};function ir(s,e,n,o,i,a){const h=b("v-progress-circular"),g=b("v-overlay"),y=b("productRegistBase"),f=b("productRegistAddinfo"),p=b("productInfoNotice"),c=b("productRegistSale"),l=b("productRegistImage"),D=b("productRegistDelivery"),v=b("productRegistRelation"),R=b("v-btn");return r(),d("div",Zl,[i.registLoad?(r(),d("div",er,[t("form",{novalidate:"",onSubmit:e[0]||(e[0]=Q((...X)=>a.validate&&a.validate(...X),["prevent"]))},[u(y,{onServiceTypeEvent:a.setServiceType,onGetBaseData:a.getBaseData,getDataSign:i.getBaseDataSign,productInfo:i.productInfo,baseData:i.baseData},null,8,["onServiceTypeEvent","onGetBaseData","getDataSign","productInfo","baseData"]),i.addInfoComponentShow?(r(),$(f,{key:0,onGetAddinfoData:a.getAddinfoData,getDataSign:i.getAddinfoDataSign,productInfo:i.productInfo,addinfoData:i.addinfoData},null,8,["onGetAddinfoData","getDataSign","productInfo","addinfoData"])):I("",!0),u(p,{getDataSign:i.getInfoNotiDataSign,onGetInfoNotiData:a.getInfoNotiData,productInfo:i.productInfo},null,8,["getDataSign","onGetInfoNotiData","productInfo"]),u(c,{onGetSaleData:a.getSaleData,getDataSign:i.getSaleDataSign,productInfo:i.productInfo,saleData:i.saleData},null,8,["onGetSaleData","getDataSign","productInfo","saleData"]),u(l,{onGetImageData:a.getImageData,getDataSign:i.getImageDataSign,productInfo:i.productInfo,imageData:i.imageData},null,8,["onGetImageData","getDataSign","productInfo","imageData"]),i.serviceType=="normal"?(r(),$(D,{key:1,onGetDeliveryData:a.getDeliveryData,getDataSign:i.getDeliveryDataSign,productInfo:i.productInfo,deliveryData:i.deliveryData},null,8,["onGetDeliveryData","getDataSign","productInfo","deliveryData"])):I("",!0),u(v,{onGetRelationData:a.getRelationData,getDataSign:i.getRelationDataSign,productInfo:i.productInfo},null,8,["onGetRelationData","getDataSign","productInfo"]),t("div",sr,[u(R,{class:"submit-button",type:"submit"},{default:L(()=>[m("상품정보 "+_(i.buttonTitle),1)]),_:1})])],32)])):(r(),d("div",tr,[u(g,{style:{"z-index":"100000000"}},{default:L(()=>[u(h,{size:50,color:"lime accent-1",indeterminate:""})]),_:1})]))])}const hr=P(Xl,[["render",ir]]);export{hr as default};
