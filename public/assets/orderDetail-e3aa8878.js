import{U as p}from"./util-c02dbcf9.js";import{a as P,B as D}from"./apiService-6a3981ff.js";import{i as x,m as w,_ as k,o as l,c as n,a as s,n as a,t as e,e as b,k as h,F as f,g as y,p as C,f as F,r as I,j as S}from"./index-7c0b344a.js";import{c as N}from"./config-9369631b.js";import{m as O}from"./mobile-8dd88b05.js";import"./jquery-d0ecd42c.js";import"./axios-c24e582b.js";const L={computed:{...x(N,["pointName","pointUnit"])},data(){return{util:p,id:"",orderInfo:{},productList:[],ostatus:{notpay:"",income:"",DR:"",DI:"",DC:"",OC:"",claim:""},orderDate:"",point:0,coupon:0,deliveryPrice:0,payMethod:"",productPrice:0,totalPaymentPrice:0,bankSetting:""}},created(){this.setClass("sub"),this.setTitle("주문상세"),this.id=this.$route.params.id,this.getData()},methods:{...w(O,["setClass","setTitle"]),getData(){const r={id:this.id};P.post(D,r,c=>{this.orderInfo=c.data.orderList[0],this.orderDate=this.orderInfo.created_at.substring(0,10).replace("-",".").replace("-","."),this.orderInfo.usePoint&&(this.point="-"+p.numberFormat(this.orderInfo.usePoint)),this.orderInfo.useCouponPrice&&(this.coupon="-"+p.numberFormat(this.orderInfo.useCouponPrice)),this.orderInfo.deliveryPrice&&(this.deliveryPrice=p.numberFormat(this.orderInfo.deliveryPrice)),this.totalPaymentPrice=p.numberFormat(this.orderInfo.price);let v=0;for(const o of c.data.orderList){let t="";switch(o.ordStatus){case"notpay":case"income":t=c.data.ostatus[o.ordStatus];break;default:switch(o.ordStatus.substring(0,1)){case"C":t=c.data.cancleStatus[o.ordStatus];break;case"E":t=c.data.exchangeStatus[o.ordStatus];break;case"F":t=c.data.refundStatus[o.ordStatus];break;case"R":t=c.data.returnStatus[o.ordStatus];break;default:t=c.data.ostatus[o.ordStatus];break}break}if(o.ostatusName=t,o.sellprice=o.payprice,o.optionSingleInfos){o.optionSingleInfos=JSON.parse(o.optionSingleInfos);for(const i of o.optionSingleInfos)o.payprice+=parseInt(i.sellprice)}switch(v+=parseInt(o.payprice),this.productList.push(o),o.ordStatus.substring(0,1)){case"C":case"E":case"F":case"R":this.ostatus.claim="active";break;default:this.ostatus[o.ordStatus]="active";break}}c.data.orderSetting&&c.data.orderSetting.bankSetting&&(this.bankSetting=c.data.orderSetting.bankSetting),this.productPrice=p.numberFormat(v),this.payMethod=c.data.paymethodNames[this.orderInfo.paymethod]})},goProductDetail(r){this.$router.push("/product/productView/"+r+"/default")}}},u=r=>(C("data-v-1278dea5"),r=r(),F(),r),R={class:"mypage-container"},E={class:"trans-box"},U={class:"guide-ul"},A=u(()=>s("li",{class:"line"},null,-1)),M=u(()=>s("li",{class:"line"},null,-1)),T=u(()=>s("li",{class:"line"},null,-1)),B=u(()=>s("li",{class:"line"},null,-1)),V=u(()=>s("li",{class:"line"},null,-1)),G=u(()=>s("li",{class:"line unvisible"},null,-1)),J={class:"order-box"},j={class:"order-left"},z=u(()=>s("div",{class:"order-title"},"주문정보",-1)),Y={class:"order-ul"},q=u(()=>s("div",{class:"label"},"주문일자",-1)),H={class:"value"},K=u(()=>s("div",{class:"label"},"주문번호",-1)),Q={class:"value"},W={class:"noborder"},X=u(()=>s("div",{class:"label"},"배송지",-1)),Z={class:"value",style:{"line-height":"190%"}},$=u(()=>s("br",null,null,-1)),ss=u(()=>s("br",null,null,-1)),ts=u(()=>s("div",{class:"label"},"배송 메세지",-1)),es={class:"value"},os={class:"order-right"},is=u(()=>s("div",{class:"order-title"},"결제정보",-1)),ls={class:"payment-ul"},ns=u(()=>s("div",{class:"label"},"결제 방법",-1)),cs={class:"value"},as=u(()=>s("div",{class:"label"},"총 상품금액",-1)),rs={class:"value"},ds={key:0},us={class:"label"},_s={class:"value"},ps={key:1},hs=u(()=>s("div",{class:"label"},"쿠폰 사용",-1)),vs={class:"value"},ms={key:2},bs=u(()=>s("div",{class:"label"},"배송비",-1)),fs={class:"value"},ys={class:"total-price"},gs=u(()=>s("div",{class:"label"},"총 결제금액",-1)),ks={class:"value"},Is={key:3},Ss={class:"label",style:{"font-weight":"bold"}},Ps=u(()=>s("span",{style:{width:"190px","text-align":"left"}},"(구매확정후 적립됩니다)",-1)),Ds={style:{width:"220px"},class:"value"},xs={key:0,class:"order-right",style:{"padding-top":"40px"}},Cs=u(()=>s("div",{class:"order-title"},"입금은행 정보",-1)),Fs={key:0,class:"payment-ul account-info"},Ns={class:"product-body"},ws={class:"order-title",style:{"padding-left":"20px"}},Os={class:"product-list"},Ls=["onClick"],Rs=["src"],Es=["onClick"],Us={class:"name-box"},As={class:"amt"},Ms={key:0,class:"single-option-box"},Ts={class:"sell-price"},Bs=u(()=>s("div",{class:"single-title"},"추가옵션",-1)),Vs={class:"single-option-ul"},Gs={class:"sopt-name"},Js={key:0,class:"sopt-price"},js={key:1,class:"sopt-soldout"},zs={class:"price"},Ys={key:1,class:"price"},qs={class:"status-box"},Hs={class:"status"};function Ks(r,c,v,o,t,m){return l(),n("div",R,[s("div",E,[s("ul",U,[s("li",null,[s("div",{class:a("drounded "+t.ostatus.notpay)},null,2),s("div",{class:a("text "+t.ostatus.notpay)},"미입금",2)]),A,s("li",null,[s("div",{class:a("drounded "+t.ostatus.income)},null,2),s("div",{class:a("text "+t.ostatus.income)},"결제완료",2)]),M,s("li",null,[s("div",{class:a("drounded "+t.ostatus.DR)},null,2),s("div",{class:a("text "+t.ostatus.DR)},"배송준비중",2)]),T,s("li",null,[s("div",{class:a("drounded "+t.ostatus.DI)},null,2),s("div",{class:a("text "+t.ostatus.DI)},"배송중",2)]),B,s("li",null,[s("div",{class:a("drounded "+t.ostatus.DC)},null,2),s("div",{class:a("text "+t.ostatus.DC)},"배송완료",2)]),V,s("li",null,[s("div",{class:a("drounded "+t.ostatus.OC)},null,2),s("div",{class:a("text "+t.ostatus.OC)},"구매확정",2)]),G,s("li",null,[s("div",{class:a("drounded "+t.ostatus.claim)},null,2),s("div",{class:a("text "+t.ostatus.claim),style:{width:"160px","margin-left":"-60px"}},"취소/교환/반품",2)])])]),s("div",J,[s("div",j,[z,s("ul",Y,[s("li",null,[q,s("div",H,e(t.orderDate),1)]),s("li",null,[K,s("div",Q,e(t.orderInfo.order_code),1)]),s("li",W,[X,s("div",Z,[b(e(t.orderInfo.rname),1),$,b(" ["+e(t.orderInfo.rpost)+"] "+e(t.orderInfo.raddr1)+" "+e(t.orderInfo.raddr2),1),ss,b(" "+e(t.orderInfo.rpcs),1)])]),s("li",null,[ts,s("div",es,e(t.orderInfo.rmessage),1)])])]),s("div",os,[is,s("ul",ls,[s("li",null,[ns,s("div",cs,e(t.payMethod),1)]),s("li",null,[as,s("div",rs,e(t.productPrice)+"원",1)]),t.point?(l(),n("li",ds,[s("div",us,e(r.pointName)+" 사용",1),s("div",_s,e(t.point)+e(r.pointUnit),1)])):h("",!0),t.coupon?(l(),n("li",ps,[hs,s("div",vs,e(t.coupon)+"원 ",1)])):h("",!0),t.orderInfo.serviceType=="normal"?(l(),n("li",ms,[bs,s("div",fs,e(t.deliveryPrice)+"원",1)])):h("",!0),s("li",ys,[gs,s("div",ks,e(t.totalPaymentPrice)+"원",1)]),t.orderInfo.reservePoint?(l(),n("li",Is,[s("div",Ss,"구매 "+e(r.pointName),1),Ps,s("div",Ds,"+ "+e(t.util.numberFormat(t.orderInfo.reservePoint))+e(r.pointUnit),1)])):h("",!0)]),t.orderInfo.paymethod=="bank"||t.orderInfo.paymethod=="vbank"?(l(),n("div",xs,[Cs,t.orderInfo.paymethod=="bank"&&t.bankSetting.bankName?(l(),n("ul",Fs,[s("li",null,[s("span",null,e(t.bankSetting.bankName),1),s("span",null,e(t.bankSetting.bankAccount),1),s("span",null,e(t.bankSetting.bankOwner),1)]),s("li",null," 입금마감기한 : 구매일로부터 "+e(t.bankSetting.expireDay)+"일 이전까지 ",1)])):h("",!0)])):h("",!0)])]),s("div",Ns,[s("div",ws," 주문상품 총 "+e(t.productList.length)+"개 ",1),s("ul",Os,[(l(!0),n(f,null,y(t.productList,i=>(l(),n("li",null,[s("div",{class:"img-box",onClick:_=>m.goProductDetail(i.pid)},[s("img",{src:i.listImg},null,8,Rs)],8,Ls),s("div",{class:"product-info",onClick:_=>m.goProductDetail(i.pid)},[s("div",Us,[b(e(i.pname)+" "+e(i.opt_name)+" ",1),s("span",As,"("+e(i.ordAmt)+"개)",1)]),i.optionSingleInfos?(l(),n("div",Ms,[s("div",Ts,e(t.util.numberFormat(i.sellprice))+"원 ",1),Bs,s("ul",Vs,[(l(!0),n(f,null,y(i.optionSingleInfos,(_,g)=>(l(),n("li",{key:"spt"+g},[s("div",Gs,e(_.option_parent_name)+":"+e(_.option_name),1),_.status=="sale"?(l(),n("div",Js,[s("span",null,e(_.camt)+"개, "+e(t.util.numberFormat(_.sellprice))+"원 ",1)])):(l(),n("div",js," [품절] "))]))),128))]),s("div",zs,e(t.util.numberFormat(i.payprice))+"원 ",1)])):(l(),n("div",Ys,e(t.util.numberFormat(i.payprice))+"원 ",1))],8,Es),s("div",qs,[s("div",Hs,e(i.ostatusName),1)])]))),256))])])])}const Qs=k(L,[["render",Ks],["__scopeId","data-v-1278dea5"]]);const Ws={computed:{...x(N,["pointName","pointUnit"])},data(){return{util:p,id:"",orderInfo:{},productList:[],ostatus:{notpay:"",income:"",DR:"",DI:"",DC:"",OC:"",claim:""},orderDate:"",point:0,coupon:0,deliveryPrice:0,payMethod:"",productPrice:0,totalPaymentPrice:0,bankSetting:""}},created(){this.id=this.$route.params.id,this.getData()},methods:{getData(){const r={id:this.id};P.post(D,r,c=>{this.orderInfo=c.data.orderList[0],this.orderDate=this.orderInfo.created_at.substring(0,10).replace("-",".").replace("-","."),this.orderInfo.usePoint&&(this.point="-"+p.numberFormat(this.orderInfo.usePoint)),this.orderInfo.useCouponPrice&&(this.coupon="-"+p.numberFormat(this.orderInfo.useCouponPrice)),this.orderInfo.deliveryPrice&&(this.deliveryPrice=p.numberFormat(this.orderInfo.deliveryPrice)),this.totalPaymentPrice=p.numberFormat(this.orderInfo.price);let v=0;for(const o of c.data.orderList){let t="";switch(o.ordStatus){case"notpay":case"income":t=c.data.ostatus[o.ordStatus];break;default:switch(o.ordStatus.substring(0,1)){case"C":t=c.data.cancleStatus[o.ordStatus];break;case"E":t=c.data.exchangeStatus[o.ordStatus];break;case"F":t=c.data.refundStatus[o.ordStatus];break;case"R":t=c.data.returnStatus[o.ordStatus];break;default:t=c.data.ostatus[o.ordStatus];break}break}if(o.ostatusName=t,o.sellprice=o.payprice,o.optionSingleInfos){o.optionSingleInfos=JSON.parse(o.optionSingleInfos);for(const i of o.optionSingleInfos)o.payprice+=parseInt(i.sellprice)}switch(v+=parseInt(o.payprice),this.productList.push(o),o.ordStatus.substring(0,1)){case"C":case"E":case"F":case"R":this.ostatus.claim="active";break;default:this.ostatus[o.ordStatus]="active";break}}c.data.orderSetting&&c.data.orderSetting.bankSetting&&(this.bankSetting=c.data.orderSetting.bankSetting),this.productPrice=p.numberFormat(v),this.payMethod=c.data.paymethodNames[this.orderInfo.paymethod]})},goProductDetail(r){this.$router.push("/product/productView/"+r+"/default")}}},d=r=>(C("data-v-6e0c3ebf"),r=r(),F(),r),Xs={class:"mypage-container"},Zs=d(()=>s("div",{class:"mypage-title"},"주문상세",-1)),$s={class:"trans-box"},st={class:"guide-ul"},tt=d(()=>s("li",{class:"line"},null,-1)),et=d(()=>s("li",{class:"line"},null,-1)),ot=d(()=>s("li",{class:"line"},null,-1)),it=d(()=>s("li",{class:"line"},null,-1)),lt=d(()=>s("li",{class:"line"},null,-1)),nt=d(()=>s("li",{class:"line unvisible"},null,-1)),ct={class:"order-box"},at={class:"order-left"},rt=d(()=>s("div",{class:"order-title"},"주문정보",-1)),dt={class:"order-ul"},ut=d(()=>s("div",{class:"label"},"주문일자",-1)),_t={class:"value"},pt=d(()=>s("div",{class:"label"},"주문번호",-1)),ht={class:"value"},vt={class:"noborder"},mt=d(()=>s("div",{class:"label"},"배송지",-1)),bt={class:"value",style:{"line-height":"190%"}},ft=d(()=>s("br",null,null,-1)),yt=d(()=>s("br",null,null,-1)),gt=d(()=>s("div",{class:"label"},"배송 메세지",-1)),kt={class:"value"},It={class:"order-right"},St=d(()=>s("div",{class:"order-title"},"결제정보",-1)),Pt={class:"payment-ul"},Dt=d(()=>s("div",{class:"label"},"결제 방법",-1)),xt={class:"value"},Ct=d(()=>s("div",{class:"label"},"총 상품금액",-1)),Ft={class:"value"},Nt={key:0},wt={class:"label"},Ot={class:"value"},Lt={key:1},Rt=d(()=>s("div",{class:"label"},"쿠폰 사용",-1)),Et={class:"value"},Ut={key:2},At=d(()=>s("div",{class:"label"},"배송비",-1)),Mt={class:"value"},Tt={class:"total-price"},Bt=d(()=>s("div",{class:"label"},"총 결제금액",-1)),Vt={class:"value"},Gt={key:3},Jt={class:"label",style:{"font-weight":"bold"}},jt=d(()=>s("span",{style:{width:"190px","text-align":"left"}},"(구매확정후 적립됩니다)",-1)),zt={style:{width:"220px"},class:"value"},Yt={key:0,class:"order-right",style:{"padding-top":"40px"}},qt=d(()=>s("div",{class:"order-title"},"입금은행 정보",-1)),Ht={key:0,class:"payment-ul account-info"},Kt={class:"product-body"},Qt={class:"order-title",style:{"padding-left":"20px"}},Wt={class:"product-list"},Xt=["onClick"],Zt=["src"],$t=["onClick"],se={class:"name-box"},te={class:"amt"},ee={key:0,class:"single-option-box"},oe={class:"sell-price"},ie=d(()=>s("div",{class:"single-title"},"추가옵션",-1)),le={class:"single-option-ul"},ne={class:"sopt-name"},ce={key:0,class:"sopt-price"},ae={key:1,class:"sopt-soldout"},re={class:"price"},de={key:1,class:"price"},ue={class:"status-box"},_e={class:"status"};function pe(r,c,v,o,t,m){return l(),n("div",Xs,[Zs,s("div",$s,[s("ul",st,[s("li",null,[s("div",{class:a("drounded "+t.ostatus.notpay)},null,2),s("div",{class:a("text "+t.ostatus.notpay)},"미입금",2)]),tt,s("li",null,[s("div",{class:a("drounded "+t.ostatus.income)},null,2),s("div",{class:a("text "+t.ostatus.income)},"결제완료",2)]),et,s("li",null,[s("div",{class:a("drounded "+t.ostatus.DR)},null,2),s("div",{class:a("text "+t.ostatus.DR)},"배송준비중",2)]),ot,s("li",null,[s("div",{class:a("drounded "+t.ostatus.DI)},null,2),s("div",{class:a("text "+t.ostatus.DI)},"배송중",2)]),it,s("li",null,[s("div",{class:a("drounded "+t.ostatus.DC)},null,2),s("div",{class:a("text "+t.ostatus.DC)},"배송완료",2)]),lt,s("li",null,[s("div",{class:a("drounded "+t.ostatus.OC)},null,2),s("div",{class:a("text "+t.ostatus.OC)},"구매확정",2)]),nt,s("li",null,[s("div",{class:a("drounded "+t.ostatus.claim)},null,2),s("div",{class:a("text "+t.ostatus.claim),style:{width:"180px","margin-left":"-75px"}},"취소/교환/반품",2)])])]),s("div",ct,[s("div",at,[rt,s("ul",dt,[s("li",null,[ut,s("div",_t,e(t.orderDate),1)]),s("li",null,[pt,s("div",ht,e(t.orderInfo.order_code),1)]),s("li",vt,[mt,s("div",bt,[b(e(t.orderInfo.rname),1),ft,b(" ["+e(t.orderInfo.rpost)+"] "+e(t.orderInfo.raddr1)+" "+e(t.orderInfo.raddr2),1),yt,b(" "+e(t.orderInfo.rpcs),1)])]),s("li",null,[gt,s("div",kt,e(t.orderInfo.rmessage),1)])])]),s("div",It,[St,s("ul",Pt,[s("li",null,[Dt,s("div",xt,e(t.payMethod),1)]),s("li",null,[Ct,s("div",Ft,e(t.productPrice)+"원",1)]),t.point?(l(),n("li",Nt,[s("div",wt,e(r.pointName)+" 사용",1),s("div",Ot,e(t.point)+e(r.pointUnit),1)])):h("",!0),t.coupon?(l(),n("li",Lt,[Rt,s("div",Et,e(t.coupon)+"원 ",1)])):h("",!0),t.orderInfo.serviceType=="normal"?(l(),n("li",Ut,[At,s("div",Mt,e(t.deliveryPrice)+"원",1)])):h("",!0),s("li",Tt,[Bt,s("div",Vt,e(t.totalPaymentPrice)+"원",1)]),t.orderInfo.reservePoint?(l(),n("li",Gt,[s("div",Jt,"구매 "+e(r.pointName),1),jt,s("div",zt,"+ "+e(t.util.numberFormat(t.orderInfo.reservePoint))+e(r.pointUnit),1)])):h("",!0)]),t.orderInfo.paymethod=="bank"||t.orderInfo.paymethod=="vbank"?(l(),n("div",Yt,[qt,t.orderInfo.paymethod=="bank"&&t.bankSetting.bankName?(l(),n("ul",Ht,[s("li",null,[s("span",null,e(t.bankSetting.bankName),1),s("span",null,e(t.bankSetting.bankAccount),1),s("span",null,e(t.bankSetting.bankOwner),1)]),s("li",null," 입금마감기한 : 구매일로부터 "+e(t.bankSetting.expireDay)+"일 이전까지 ",1)])):h("",!0)])):h("",!0)])]),s("div",Kt,[s("div",Qt," 주문상품 총 "+e(t.productList.length)+"개 ",1),s("ul",Wt,[(l(!0),n(f,null,y(t.productList,i=>(l(),n("li",null,[s("div",{class:"img-box",onClick:_=>m.goProductDetail(i.pid)},[s("img",{src:i.listImg},null,8,Zt)],8,Xt),s("div",{class:"product-info",onClick:_=>m.goProductDetail(i.pid)},[s("div",se,[b(e(i.pname)+" "+e(i.opt_name)+" ",1),s("span",te,"("+e(i.ordAmt)+"개)",1)]),i.optionSingleInfos?(l(),n("div",ee,[s("div",oe,e(t.util.numberFormat(i.sellprice))+"원 ",1),ie,s("ul",le,[(l(!0),n(f,null,y(i.optionSingleInfos,(_,g)=>(l(),n("li",{key:"spt"+g},[s("div",ne,e(_.option_parent_name)+":"+e(_.option_name),1),_.status=="sale"?(l(),n("div",ce,[s("span",null,e(_.camt)+"개, "+e(t.util.numberFormat(_.sellprice))+"원 ",1)])):(l(),n("div",ae," [품절] "))]))),128))]),s("div",re,e(t.util.numberFormat(i.payprice))+"원 ",1)])):(l(),n("div",de,e(t.util.numberFormat(i.payprice))+"원 ",1))],8,$t),s("div",ue,[s("div",_e,e(i.ostatusName),1)])]))),256))])])])}const he=k(Ws,[["render",pe],["__scopeId","data-v-6e0c3ebf"]]);const ve={components:{mobileOrderDetail:Qs,pcOrderDetail:he},data(){return{mobile:!1}},created(){this.mobile=this.$isMobile()}},me={class:"page-container"};function be(r,c,v,o,t,m){const i=I("mobileOrderDetail"),_=I("pcOrderDetail");return l(),n("div",me,[t.mobile?(l(),S(i,{key:0})):(l(),S(_,{key:1}))])}const De=k(ve,[["render",be],["__scopeId","data-v-90c4a23c"]]);export{De as default};
