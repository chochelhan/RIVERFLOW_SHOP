import{A as y,a as p,$ as h,Q as v}from"./apiService-aee0d783.js";import{U as $}from"./util-5fdb7bcf.js";import{m as W,_ as L,r as m,o as r,c as _,a as e,F as I,b as k,d as D,g as f,t as d,p as x,f as N,j as b}from"./index-e9ed42ea.js";import{m as S}from"./mobile-9de1c1d4.js";import{_ as w}from"./sm_heart-055da75c.js";import"./axios-c24e582b.js";import"./jquery-331624d0.js";const F={name:"pcWish",data(){return{util:$,info:{},productList:[],categoryListNames:{},memberInfo:{},page:1,limit:12,orderBy:"created_at"}},created(){this.setClass("productView"),this.setTitle("관심상품");const t=y.getSession();t&&t.memberInfo?this.memberInfo=t.memberInfo:this.$router.push("/"),this.getData()},methods:{...W(S,["setClass","setTitle"]),getData(){p.post(h,{},t=>{var c,a;if(this.productList=[],t.data.categoryList){for(const s of t.data.categoryList)if(this.categoryListNames[s.id]=s.cname,((c=s.subList)==null?void 0:c.length)>0){for(const o of s.subList)if(this.categoryListNames[o.id]=o.cname,((a=o.subList)==null?void 0:a.length)>0)for(const n of o.subList)this.categoryListNames[n.id]=n.cname}}t.data.productList&&this.setDataList(t.data.productList)})},getDataList(){p.post(h,{},t=>{this.productList=[],t.data.productList&&this.setDataList(t.data.productList)})},setDataList(t){for(let c of t){let a="",s=c.category1.split(",");a=this.categoryListNames[s[0]],s[1]&&(a+=" > "+this.categoryListNames[s[1]]),s[2]&&(a+=" > "+this.categoryListNames[s[2]]),c.category=a,this.productList.push(c)}},productDetail(t){this.$router.push("/product/productView/"+t+"/default")},productWish(t){const c={type:"confirm",message:"관심상품을 삭제하시겠습니까?",doAction:()=>{const s={pid:this.productList[t].id};p.post(v,s,o=>{this.getDataList()})}};this.emitter.emit("modalOpen",c)}}},T=t=>(x("data-v-15fec285"),t=t(),N(),t),A={class:"page-container"},U={class:"list-container"},B={class:"product-list"},V={class:"img"},P=["onClick","src"],E=["onClick"],H=["onClick"],O={class:"category"},R={class:"like-box"},M=T(()=>e("img",{src:w},null,-1)),j={class:"pname string-cut"},G={class:"price"},Q={key:0},Y={style:{"text-decoration":"line-through","padding-right":"10px"}},q={key:1};function z(t,c,a,s,o,n){const l=m("font-awesome-icon");return r(),_("div",A,[e("div",U,[e("ul",B,[(r(!0),_(I,null,k(o.productList,(i,g)=>(r(),_("li",null,[e("div",V,[e("img",{onClick:u=>n.productDetail(i.id),class:"list-img",src:i.listImg,style:{"max-width":"100%"}},null,8,P),e("div",{class:"icon-box",onClick:u=>n.productWish(g)},[D(l,{class:"icon",icon:"fa-solid fa-heart"})],8,E)]),e("div",{class:"content",onClick:u=>n.productDetail(i.id)},[e("div",O,[f(d(i.category)+" ",1),e("div",R,[M,f(" "+d(o.util.numberFormat(i.wish)),1)])]),e("div",j,d(i.pname),1),e("div",G,[i.dcprice>0&&parseInt(i.price)>parseInt(i.dcprice)?(r(),_("span",Q,[e("span",Y,d(o.util.numberFormat(i.price))+"원",1),e("span",null,d(o.util.numberFormat(i.dcprice))+"원",1)])):(r(),_("span",q,d(o.util.numberFormat(i.price))+"원 ",1))])],8,H)]))),256))])])])}const J=L(F,[["render",z],["__scopeId","data-v-15fec285"]]);const K={name:"pcWish",data(){return{util:$,info:{},productList:[],categoryListNames:{},memberInfo:{},orderBy:"created_at"}},created(){const t=y.getSession();t&&t.memberInfo?this.memberInfo=t.memberInfo:this.$router.push("/"),this.getData()},methods:{getData(){p.post(h,{},t=>{var c,a;if(this.productList=[],t.data.categoryList){for(const s of t.data.categoryList)if(this.categoryListNames[s.id]=s.cname,((c=s.subList)==null?void 0:c.length)>0){for(const o of s.subList)if(this.categoryListNames[o.id]=o.cname,((a=o.subList)==null?void 0:a.length)>0)for(const n of o.subList)this.categoryListNames[n.id]=n.cname}}t.data.productList&&this.setDataList(t.data.productList)})},getDataList(){p.post(h,{},t=>{this.productList=[],t.data.productList&&this.setDataList(t.data.productList)})},setDataList(t){for(let c of t){let a="",s=c.category1.split(",");a=this.categoryListNames[s[0]],s[1]&&(a+=" > "+this.categoryListNames[s[1]]),s[2]&&(a+=" > "+this.categoryListNames[s[2]]),c.category=a,this.productList.push(c)}},productDetail(t){this.$router.push("/product/productView/"+t+"/default")},productWish(t){const c={type:"confirm",message:"관심상품을 삭제하시겠습니까?",doAction:()=>{const s={pid:this.productList[t].id};p.post(v,s,o=>{this.getDataList()})}};this.emitter.emit("modalOpen",c)}}},C=t=>(x("data-v-28b603d4"),t=t(),N(),t),X={class:"page-container"},Z=C(()=>e("div",{class:"sub-title-box"},[e("div",{class:"sub-title"}," 관심상품 ")],-1)),tt={class:"list-container"},st={class:"product-list"},et={class:"img"},it=["onClick","src"],ot=["onClick"],ct=["onClick"],at={class:"category"},nt={class:"like-box"},rt=C(()=>e("img",{src:w},null,-1)),dt={class:"pname string-cut"},_t={class:"price"},pt={key:0},lt={style:{"text-decoration":"line-through","padding-right":"10px"}},ut={key:1};function ht(t,c,a,s,o,n){const l=m("font-awesome-icon");return r(),_("div",X,[Z,e("div",tt,[e("ul",st,[(r(!0),_(I,null,k(o.productList,(i,g)=>(r(),_("li",null,[e("div",et,[e("img",{onClick:u=>n.productDetail(i.id),class:"list-img",src:i.listImg,style:{"max-width":"100%"}},null,8,it),e("div",{class:"icon-box",onClick:u=>n.productWish(g)},[D(l,{class:"icon",icon:"fa-solid fa-heart"})],8,ot)]),e("div",{class:"content",onClick:u=>n.productDetail(i.id)},[e("div",at,[f(d(i.category)+" ",1),e("div",nt,[rt,f(" "+d(o.util.numberFormat(i.wish)),1)])]),e("div",dt,d(i.pname),1),e("div",_t,[i.dcprice>0&&parseInt(i.price)>parseInt(i.dcprice)?(r(),_("span",pt,[e("span",lt,d(o.util.numberFormat(i.price))+"원",1),e("span",null,d(o.util.numberFormat(i.dcprice))+"원",1)])):(r(),_("span",ut,d(o.util.numberFormat(i.price))+"원 ",1))])],8,ct)]))),256))])])])}const mt=L(K,[["render",ht],["__scopeId","data-v-28b603d4"]]);const ft={components:{mobileWish:J,pcWish:mt},data(){return{mobile:!1}},created(){this.mobile=this.$isMobile()}},gt={class:"page-container"};function Lt(t,c,a,s,o,n){const l=m("mobileWish"),i=m("pcWish");return r(),_("div",gt,[o.mobile?(r(),b(l,{key:0})):(r(),b(i,{key:1}))])}const xt=L(ft,[["render",Lt],["__scopeId","data-v-482b11f4"]]);export{xt as default};
